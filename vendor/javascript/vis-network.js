import*as b from"vis-data/peer/umd/vis-data.js";var w="default"in b?b.default:b;var k="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var _={};
/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.2
 * @date    2022-03-28T20:13:51.046Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */!function(b,k){k(_,w)}(0,(function(b,w){var _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof k?k:"undefined"!=typeof self?self:{},o=function(b){return b&&b.Math==Math&&b},x=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof _&&_)||function(){return this||k}()||Function("return this")(),r=function(b){try{return!!b()}catch(b){return!0}},E=!r((function(){var b=function(){}.bind();return"function"!=typeof b||b.hasOwnProperty("prototype")})),O=E,C=Function.prototype,S=C.apply,T=C.call,M="object"==typeof Reflect&&Reflect.apply||(O?T.bind(S):function(){return T.apply(S,arguments)}),D=E,B=Function.prototype,I=B.bind,F=B.call,N=D&&I.bind(F,F),A=D?function(b){return b&&N(b)}:function(b){return b&&function(){return F.apply(b,arguments)}},m=function(b){return"function"==typeof b},R={},j=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),L=E,H=Function.prototype.call,q=L?H.bind(H):function(){return H.apply(H,arguments)},V={},$={}.propertyIsEnumerable,Y=Object.getOwnPropertyDescriptor,G=Y&&!$.call({1:2},1);V.f=G?function(b){var w=Y(this||k,b);return!!w&&w.enumerable}:$;var K,Z,P=function(b,w){return{enumerable:!(1&b),configurable:!(2&b),writable:!(4&b),value:w}},tt=A,et=tt({}.toString),it=tt("".slice),z=function(b){return it(et(b),8,-1)},ot=A,nt=r,rt=z,st=x.Object,at=ot("".split),ht=nt((function(){return!st("z").propertyIsEnumerable(0)}))?function(b){return"String"==rt(b)?at(b,""):st(b)}:st,dt=x.TypeError,W=function(b){if(null==b)throw dt("Can't call method on "+b);return b},lt=ht,ct=W,U=function(b){return lt(ct(b))},ut=m,X=function(b){return"object"==typeof b?null!==b:ut(b)},ft={},pt=ft,vt=x,gt=m,Q=function(b){return gt(b)?b:void 0},J=function(b,w){return arguments.length<2?Q(pt[b])||Q(vt[b]):pt[b]&&pt[b][w]||vt[b]&&vt[b][w]},yt=A({}.isPrototypeOf),mt=J("navigator","userAgent")||"",bt=x,kt=mt,_t=bt.process,xt=bt.Deno,Ot=_t&&_t.versions||xt&&xt.version,St=Ot&&Ot.v8;St&&(Z=(K=St.split("."))[0]>0&&K[0]<4?1:+(K[0]+K[1])),!Z&&kt&&(!(K=kt.match(/Edge\/(\d+)/))||K[1]>=74)&&(K=kt.match(/Chrome\/(\d+)/))&&(Z=+K[1]);var Tt=Z,Mt=Tt,Dt=r,Pt=!!Object.getOwnPropertySymbols&&!Dt((function(){var b=Symbol();return!String(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&Mt&&Mt<41})),Bt=Pt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,It=J,Ft=m,Nt=yt,At=Bt,Rt=x.Object,jt=At?function(b){return"symbol"==typeof b}:function(b){var w=It("Symbol");return Ft(w)&&Nt(w.prototype,Rt(b))},Ht=x.String,wt=function(b){try{return Ht(b)}catch(b){return"Object"}},Wt=m,Xt=wt,qt=x.TypeError,Et=function(b){if(Wt(b))return b;throw qt(Xt(b)+" is not a function")},Vt=Et,Ct=function(b,w){var k=b[w];return null==k?void 0:Vt(k)},$t=q,Ut=m,Yt=X,Kt=x.TypeError,Qt={exports:{}},Jt=x,Zt=Object.defineProperty,zt=function(b,w){try{Zt(Jt,b,{value:w,configurable:!0,writable:!0})}catch(k){Jt[b]=w}return w},te="__core-js_shared__",ee=x[te]||zt(te,{}),ie=ee;(Qt.exports=function(b,w){return ie[b]||(ie[b]=void 0!==w?w:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var oe=W,ne=x.Object,Lt=function(b){return ne(oe(b))},se=Lt,ae=A({}.hasOwnProperty),he=Object.hasOwn||function(b,w){return ae(se(b),w)},de=A,ce=0,ue=Math.random(),fe=de(1..toString),Gt=function(b){return"Symbol("+(void 0===b?"":b)+")_"+fe(++ce+ue,36)},ve=x,ye=Qt.exports,me=he,be=Gt,ke=Pt,_e=Bt,xe=ye("wks"),Ee=ve.Symbol,Oe=Ee&&Ee.for,Ce=_e?Ee:Ee&&Ee.withoutSetter||be,re=function(b){if(!me(xe,b)||!ke&&"string"!=typeof xe[b]){var w="Symbol."+b;ke&&me(Ee,b)?xe[b]=Ee[b]:xe[b]=_e&&Oe?Oe(w):Ce(w)}return xe[b]},Se=q,Te=X,Me=jt,De=Ct,le=function(b,w){var k,_;if("string"===w&&Ut(k=b.toString)&&!Yt(_=$t(k,b)))return _;if(Ut(k=b.valueOf)&&!Yt(_=$t(k,b)))return _;if("string"!==w&&Ut(k=b.toString)&&!Yt(_=$t(k,b)))return _;throw Kt("Can't convert object to primitive value")},Pe=re,Be=x.TypeError,Ie=Pe("toPrimitive"),pe=function(b,w){if(!Te(b)||Me(b))return b;var k,_=De(b,Ie);if(_){if(void 0===w&&(w="default"),k=Se(_,b,w),!Te(k)||Me(k))return k;throw Be("Can't convert object to primitive value")}return void 0===w&&(w="number"),le(b,w)},ze=jt,ge=function(b){var w=pe(b,"string");return ze(w)?w:w+""},Ne=X,Ae=x.document,Re=Ne(Ae)&&Ne(Ae.createElement),we=function(b){return Re?Ae.createElement(b):{}},je=we,Le=!j&&!r((function(){return 7!=Object.defineProperty(je("div"),"a",{get:function(){return 7}}).a})),He=j,We=q,Xe=V,Ve=P,$e=U,Ue=ge,Ye=he,Ge=Le,Ke=Object.getOwnPropertyDescriptor;R.f=He?Ke:function(b,w){if(b=$e(b),w=Ue(w),Ge)try{return Ke(b,w)}catch(b){}if(Ye(b,w))return Ve(!We(Xe.f,b,w),b[w])};var Qe=r,Je=m,ti=/#|\.prototype\./,Fe=function(b,w){var k=ii[ei(b)];return k==ni||k!=oi&&(Je(w)?Qe(w):!!w)},ei=Fe.normalize=function(b){return String(b).replace(ti,".").toLowerCase()},ii=Fe.data={},oi=Fe.NATIVE="N",ni=Fe.POLYFILL="P",ri=Fe,si=Et,ai=E,hi=A(A.bind),qe=function(b,w){return si(b),void 0===w?b:ai?hi(b,w):function(){return b.apply(w,arguments)}},di={},li=j&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),ci=x,ui=X,fi=ci.String,pi=ci.TypeError,Ze=function(b){if(ui(b))return b;throw pi(fi(b)+" is not an object")},vi=j,gi=Le,yi=li,mi=Ze,bi=ge,wi=x.TypeError,ki=Object.defineProperty,Ei=Object.getOwnPropertyDescriptor,Oi="enumerable",Si="configurable",Ti="writable";di.f=vi?yi?function(b,w,k){if(mi(b),w=bi(w),mi(k),"function"==typeof b&&"prototype"===w&&"value"in k&&Ti in k&&!k.writable){var _=Ei(b,w);_&&_.writable&&(b[w]=k.value,k={configurable:Si in k?k.configurable:_.configurable,enumerable:Oi in k?k.enumerable:_.enumerable,writable:!1})}return ki(b,w,k)}:ki:function(b,w,k){if(mi(b),w=bi(w),mi(k),gi)try{return ki(b,w,k)}catch(b){}if("get"in k||"set"in k)throw wi("Accessors not supported");return"value"in k&&(b[w]=k.value),b};var Mi=di,Di=P,Bi=j?function(b,w,k){return Mi.f(b,w,Di(1,k))}:function(b,w,k){return b[w]=k,b},Fi=x,Ni=M,Ai=A,ji=m,Li=R.f,Hi=ri,Wi=ft,Xi=qe,qi=Bi,Vi=he,_i=function(b){var e=function(w,_,x){if((this||k)instanceof e){switch(arguments.length){case 0:return new b;case 1:return new b(w);case 2:return new b(w,_)}return new b(w,_,x)}return Ni(b,this||k,arguments)};return e.prototype=b.prototype,e},xi=function(b,w){var k,_,x,E,O,C,S,T,M=b.target,D=b.global,B=b.stat,I=b.proto,F=D?Fi:B?Fi[M]:(Fi[M]||{}).prototype,N=D?Wi:Wi[M]||qi(Wi,M,{})[M],A=N.prototype;for(x in w)k=!Hi(D?x:M+(B?".":"#")+x,b.forced)&&F&&Vi(F,x),O=N[x],k&&(C=b.noTargetGet?(T=Li(F,x))&&T.value:F[x]),E=k&&C?C:w[x],k&&typeof O==typeof E||(S=b.bind&&k?Xi(E,Fi):b.wrap&&k?_i(E):I&&ji(E)?Ai(E):E,(b.sham||E&&E.sham||O&&O.sham)&&qi(S,"sham",!0),qi(N,x,S),I&&(Vi(Wi,_=M+"Prototype")||qi(Wi,_,{}),qi(Wi[_],x,E),b.real&&A&&!A[x]&&qi(A,x,E)))},$i=Math.ceil,Ui=Math.floor,Ci=function(b){var w=+b;return w!=w||0===w?0:(w>0?Ui:$i)(w)},Gi=Ci,Ki=Math.max,Qi=Math.min,Pi=function(b,w){var k=Gi(b);return k<0?Ki(k+w,0):Qi(k,w)},Ji=Ci,Zi=Math.min,Ii=function(b){return b>0?Zi(Ji(b),9007199254740991):0},zi=function(b){return Ii(b.length)},to=U,eo=Pi,io=zi,Ri=function(b){return function(w,k,_){var x,E=to(w),O=io(E),C=eo(_,O);if(b&&k!=k){for(;O>C;)if((x=E[C++])!=x)return!0}else for(;O>C;C++)if((b||C in E)&&E[C]===k)return b||C||0;return!b&&-1}},oo={includes:Ri(!0),indexOf:Ri(!1)},no={},ro=he,so=U,ao=oo.indexOf,ho=no,lo=A([].push),Yi=function(b,w){var k,_=so(b),x=0,E=[];for(k in _)!ro(ho,k)&&ro(_,k)&&lo(E,k);for(;w.length>x;)ro(_,k=w[x++])&&(~ao(E,k)||lo(E,k));return E},co=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],uo=Yi,fo=co,po=Object.keys||function(b){return uo(b,fo)},vo={};vo.f=Object.getOwnPropertySymbols;var go=j,yo=A,mo=q,bo=r,wo=po,ko=vo,_o=V,xo=Lt,Eo=ht,Co=Object.assign,So=Object.defineProperty,To=yo([].concat),Do=!Co||bo((function(){if(go&&1!==Co({b:1},Co(So({},"a",{enumerable:!0,get:function(){So(this||k,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var b={},w={},_=Symbol(),x="abcdefghijklmnopqrst";return b[_]=7,x.split("").forEach((function(b){w[b]=b})),7!=Co({},b)[_]||wo(Co({},w)).join("")!=x}))?function(b,w){for(var k=xo(b),_=arguments.length,x=1,E=ko.f,O=_o.f;_>x;)for(var C,S=Eo(arguments[x++]),T=E?To(wo(S),E(S)):wo(S),M=T.length,D=0;M>D;)C=T[D++],go&&!mo(O,S,C)||(k[C]=S[C]);return k}:Co,Po=Do;xi({target:"Object",stat:!0,forced:Object.assign!==Po},{assign:Po});var Bo=ft.Object.assign,Io=A([].slice),Fo=A,Ho=Et,Wo=X,Xo=he,qo=Io,Vo=E,$o=x.Function,Uo=Fo([].concat),Yo=Fo([].join),Go={},Oo=function(b,w,k){if(!Xo(Go,w)){for(var _=[],x=0;x<w;x++)_[x]="a["+x+"]";Go[w]=$o("C,a","return new C("+Yo(_,",")+")")}return Go[w](b,k)},Ko=Vo?$o.bind:function(b){var w=Ho(this||k),_=w.prototype,x=qo(arguments,1),n=function(){var _=Uo(x,qo(arguments));return(this||k)instanceof n?Oo(w,_.length,_):w.apply(b,_)};return Wo(_)&&(n.prototype=_),n},Qo=Ko;xi({target:"Function",proto:!0,forced:Function.bind!==Qo},{bind:Qo});var Jo=ft,Mo=function(b){return Jo[b+"Prototype"]},Zo=Mo("Function").bind,tn=yt,en=Zo,nn=Function.prototype,zo=function(b){var w=b.bind;return b===nn||tn(nn,b)&&w===nn.bind?en:w},rn=zo;function No(b,w,k,_){b.beginPath(),b.arc(w,k,_,0,2*Math.PI,!1),b.closePath()}function Ao(b,w,k,_,x,E){var O=Math.PI/180;_-2*E<0&&(E=_/2),x-2*E<0&&(E=x/2),b.beginPath(),b.moveTo(w+E,k),b.lineTo(w+_-E,k),b.arc(w+_-E,k+E,E,270*O,360*O,!1),b.lineTo(w+_,k+x-E),b.arc(w+_-E,k+x-E,E,0,90*O,!1),b.lineTo(w+E,k+x),b.arc(w+E,k+x-E,E,90*O,180*O,!1),b.lineTo(w,k+E),b.arc(w+E,k+E,E,180*O,270*O,!1),b.closePath()}function Ro(b,w,k,_,x){var E=.5522848,O=_/2*E,C=x/2*E,S=w+_,T=k+x,M=w+_/2,D=k+x/2;b.beginPath(),b.moveTo(w,D),b.bezierCurveTo(w,D-C,M-O,k,M,k),b.bezierCurveTo(M+O,k,S,D-C,S,D),b.bezierCurveTo(S,D+C,M+O,T,M,T),b.bezierCurveTo(M-O,T,w,D+C,w,D),b.closePath()}function jo(b,w,k,_,x){var E=x*(1/3),O=.5522848,C=_/2*O,S=E/2*O,T=w+_,M=k+E,D=w+_/2,B=k+E/2,I=k+(x-E/2),F=k+x;b.beginPath(),b.moveTo(T,B),b.bezierCurveTo(T,B+S,D+C,M,D,M),b.bezierCurveTo(D-C,M,w,B+S,w,B),b.bezierCurveTo(w,B-S,D-C,k,D,k),b.bezierCurveTo(D+C,k,T,B-S,T,B),b.lineTo(T,I),b.bezierCurveTo(T,I+S,D+C,F,D,F),b.bezierCurveTo(D-C,F,w,I+S,w,I),b.lineTo(w,B)}function Lo(b,w,k,_,x,E){b.beginPath(),b.moveTo(w,k);for(var O=E.length,C=_-w,S=x-k,T=S/C,M=Math.sqrt(C*C+S*S),D=0,B=!0,I=0,F=+E[0];M>=.1;)(F=+E[D++%O])>M&&(F=M),I=Math.sqrt(F*F/(1+T*T)),w+=I=C<0?-I:I,k+=T*I,!0===B?b.lineTo(w,k):b.moveTo(w,k),M-=F,B=!B}var sn={circle:No,dashedLine:Lo,database:jo,diamond:function(b,w,k,_){b.beginPath(),b.lineTo(w,k+_),b.lineTo(w+_,k),b.lineTo(w,k-_),b.lineTo(w-_,k),b.closePath()},ellipse:Ro,ellipse_vis:Ro,hexagon:function(b,w,k,_){b.beginPath();var x=2*Math.PI/6;b.moveTo(w+_,k);for(var E=1;E<6;E++)b.lineTo(w+_*Math.cos(x*E),k+_*Math.sin(x*E));b.closePath()},roundRect:Ao,square:function(b,w,k,_){b.beginPath(),b.rect(w-_,k-_,2*_,2*_),b.closePath()},star:function(b,w,k,_){b.beginPath(),k+=.1*(_*=.82);for(var x=0;x<10;x++){var E=x%2==0?1.3*_:.5*_;b.lineTo(w+E*Math.sin(2*x*Math.PI/10),k-E*Math.cos(2*x*Math.PI/10))}b.closePath()},triangle:function(b,w,k,_){b.beginPath(),k+=.275*(_*=1.15);var x=2*_,E=x/2,O=Math.sqrt(3)/6*x,C=Math.sqrt(x*x-E*E);b.moveTo(w,k-(C-O)),b.lineTo(w+E,k+O),b.lineTo(w-E,k+O),b.lineTo(w,k-(C-O)),b.closePath()},triangleDown:function(b,w,k,_){b.beginPath(),k-=.275*(_*=1.15);var x=2*_,E=x/2,O=Math.sqrt(3)/6*x,C=Math.sqrt(x*x-E*E);b.moveTo(w,k+(C-O)),b.lineTo(w+E,k-O),b.lineTo(w-E,k-O),b.lineTo(w,k+(C-O)),b.closePath()}};var an={exports:{}};!function(b){function e(b){if(b)return function(b){for(var w in e.prototype)b[w]=e.prototype[w];return b}(b)}b.exports=e,e.prototype.on=e.prototype.addEventListener=function(b,w){return(this||k)._callbacks=(this||k)._callbacks||{},((this||k)._callbacks["$"+b]=(this||k)._callbacks["$"+b]||[]).push(w),this||k},e.prototype.once=function(b,w){function i(){this.off(b,i),w.apply(this||k,arguments)}return i.fn=w,this.on(b,i),this||k},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(b,w){if((this||k)._callbacks=(this||k)._callbacks||{},0==arguments.length)return(this||k)._callbacks={},this||k;var _,x=(this||k)._callbacks["$"+b];if(!x)return this||k;if(1==arguments.length)return delete(this||k)._callbacks["$"+b],this||k;for(var E=0;E<x.length;E++)if((_=x[E])===w||_.fn===w){x.splice(E,1);break}return 0===x.length&&delete(this||k)._callbacks["$"+b],this||k},e.prototype.emit=function(b){(this||k)._callbacks=(this||k)._callbacks||{};for(var w=new Array(arguments.length-1),_=(this||k)._callbacks["$"+b],x=1;x<arguments.length;x++)w[x-1]=arguments[x];if(_){x=0;for(var E=(_=_.slice(0)).length;x<E;++x)_[x].apply(this||k,w)}return this||k},e.prototype.listeners=function(b){return(this||k)._callbacks=(this||k)._callbacks||{},(this||k)._callbacks["$"+b]||[]},e.prototype.hasListeners=function(b){return!!this.listeners(b).length}}(an);var hn=an.exports,dn={};dn[re("toStringTag")]="z";var ln="[object z]"===String(dn),un=x,fn=ln,pn=m,vn=z,gn=re("toStringTag"),yn=un.Object,mn="Arguments"==vn(function(){return arguments}()),bn=fn?vn:function(b){var w,k,_;return void 0===b?"Undefined":null===b?"Null":"string"==typeof(k=function(b,w){try{return b[w]}catch(b){}}(w=yn(b),gn))?k:mn?vn(w):"Object"==(_=vn(w))&&pn(w.callee)?"Arguments":_},wn=bn,kn=x.String,on=function(b){if("Symbol"===wn(b))throw TypeError("Cannot convert a Symbol value to a string");return kn(b)},_n=A,xn=Ci,En=on,On=W,Cn=_n("".charAt),Tn=_n("".charCodeAt),Mn=_n("".slice),cn=function(b){return function(w,k){var _,x,E=En(On(w)),O=xn(k),C=E.length;return O<0||O>=C?b?"":void 0:(_=Tn(E,O))<55296||_>56319||O+1===C||(x=Tn(E,O+1))<56320||x>57343?b?Cn(E,O):_:b?Mn(E,O,O+2):x-56320+(_-55296<<10)+65536}},Dn={codeAt:cn(!1),charAt:cn(!0)},Pn=m,Bn=ee,In=A(Function.toString);Pn(Bn.inspectSource)||(Bn.inspectSource=function(b){return In(b)});var zn,Fn,Nn,An=Bn.inspectSource,Rn=m,jn=An,Ln=x.WeakMap,Hn=Rn(Ln)&&/native code/.test(jn(Ln)),Wn=Qt.exports,Xn=Gt,qn=Wn("keys"),Sn=function(b){return qn[b]||(qn[b]=Xn(b))},Vn=Hn,$n=x,Un=A,Yn=X,Gn=Bi,Kn=he,Qn=ee,Jn=Sn,Zn=no,tr="Object already initialized",er=$n.TypeError,ir=$n.WeakMap;if(Vn||Qn.state){var or=Qn.state||(Qn.state=new ir),nr=Un(or.get),rr=Un(or.has),sr=Un(or.set);zn=function(b,w){if(rr(or,b))throw new er(tr);return w.facade=b,sr(or,b,w),w},Fn=function(b){return nr(or,b)||{}},Nn=function(b){return rr(or,b)}}else{var ar=Jn("state");Zn[ar]=!0,zn=function(b,w){if(Kn(b,ar))throw new er(tr);return w.facade=b,Gn(b,ar,w),w},Fn=function(b){return Kn(b,ar)?b[ar]:{}},Nn=function(b){return Kn(b,ar)}}var hr={set:zn,get:Fn,has:Nn,enforce:function(b){return Nn(b)?Fn(b):zn(b,{})},getterFor:function(b){return function(w){var k;if(!Yn(w)||(k=Fn(w)).type!==b)throw er("Incompatible receiver, "+b+" required");return k}}},dr=j,lr=he,cr=Function.prototype,ur=dr&&Object.getOwnPropertyDescriptor,fr=lr(cr,"name"),mr={EXISTS:fr,PROPER:fr&&"something"===function(){}.name,CONFIGURABLE:fr&&(!dr||dr&&ur(cr,"name").configurable)},br={},wr=j,kr=li,_r=di,xr=Ze,Er=U,Or=po;br.f=wr&&!kr?Object.defineProperties:function(b,w){xr(b);for(var k,_=Er(w),x=Or(w),E=x.length,O=0;E>O;)_r.f(b,k=x[O++],_[k]);return b};var Cr,Sr=J("document","documentElement"),Tr=Ze,Mr=br,Dr=co,Pr=no,Br=Sr,zr=we,Fr=Sn("IE_PROTO"),pr=function(){},vr=function(b){return"<script>"+b+"<\/script>"},gr=function(b){b.write(vr("")),b.close();var w=b.parentWindow.Object;return b=null,w},yr=function(){try{Cr=new ActiveXObject("htmlfile")}catch(b){}var b,w;yr="undefined"!=typeof document?document.domain&&Cr?gr(Cr):((w=zr("iframe")).style.display="none",Br.appendChild(w),w.src=String("javascript:"),(b=w.contentWindow.document).open(),b.write(vr("document.F=Object")),b.close(),b.F):gr(Cr);for(var k=Dr.length;k--;)delete yr.prototype[Dr[k]];return yr()};Pr[Fr]=!0;var Nr,Ar,Rr,jr=Object.create||function(b,w){var k;return null!==b?(pr.prototype=Tr(b),k=new pr,pr.prototype=null,k[Fr]=b):k=yr(),void 0===w?k:Mr.f(k,w)},Lr=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Hr=x,Wr=he,Xr=m,qr=Lt,Vr=Lr,$r=Sn("IE_PROTO"),Ur=Hr.Object,Yr=Ur.prototype,Gr=Vr?Ur.getPrototypeOf:function(b){var w=qr(b);if(Wr(w,$r))return w[$r];var k=w.constructor;return Xr(k)&&w instanceof k?k.prototype:w instanceof Ur?Yr:null},Kr=Bi,Ir=function(b,w,k,_){_&&_.enumerable?b[w]=k:Kr(b,w,k)},Qr=r,Jr=m,ts=jr,es=Gr,is=Ir,os=re("iterator"),rs=!1;[].keys&&("next"in(Rr=[].keys())?(Ar=es(es(Rr)))!==Object.prototype&&(Nr=Ar):rs=!0);var ss=null==Nr||Qr((function(){var b={};return Nr[os].call(b)!==b}));Jr((Nr=ss?{}:ts(Nr))[os])||is(Nr,os,(function(){return this||k}));var as={IteratorPrototype:Nr,BUGGY_SAFARI_ITERATORS:rs},hs=bn,ds=ln?{}.toString:function(){return"[object "+hs(this||k)+"]"},ls=ln,us=di.f,fs=Bi,ps=he,gs=ds,ys=re("toStringTag"),Zr=function(b,w,k,_){if(b){var x=k?b:b.prototype;ps(x,ys)||us(x,ys,{configurable:!0,value:w}),_&&!ls&&fs(x,"toString",gs)}},ms={},bs=as.IteratorPrototype,ws=jr,ks=P,_s=Zr,xs=ms,ns=function(){return this||k},Es=x,Os=m,Ts=Es.String,Ms=Es.TypeError,Ds=A,Ps=Ze,cs=function(b){if("object"==typeof b||Os(b))return b;throw Ms("Can't set "+Ts(b)+" as a prototype")},Bs=Object.setPrototypeOf||("__proto__"in{}?function(){var b,w=!1,k={};try{(b=Ds(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(k,[]),w=k instanceof Array}catch(b){}return function(k,_){return Ps(k),cs(_),w?b(k,_):k.__proto__=_,k}}():void 0),Is=xi,zs=q,vs=function(b,w,k,_){var x=w+" Iterator";return b.prototype=ws(bs,{next:ks(+!_,k)}),_s(b,x,!1,!0),xs[x]=ns,b},Fs=Gr,Ns=Zr,As=Ir,js=ms,Ls=mr.PROPER,Hs=as.BUGGY_SAFARI_ITERATORS,Ws=re("iterator"),Xs="keys",Vs="values",Us="entries",Cs=function(){return this||k},Ss=function(b,w,_,x,E,O,C){vs(_,w,x);var S,T,M,l=function(b){if(b===E&&N)return N;if(!Hs&&b in I)return I[b];switch(b){case Xs:case Vs:case Us:return function(){return new _(this||k,b)}}return function(){return new _(this||k)}},D=w+" Iterator",B=!1,I=b.prototype,F=I[Ws]||I["@@iterator"]||E&&I[E],N=!Hs&&F||l(E),A="Array"==w&&I.entries||F;if(A&&(S=Fs(A.call(new b)))!==Object.prototype&&S.next&&(Ns(S,D,!0,!0),js[D]=Cs),Ls&&E==Vs&&F&&F.name!==Vs&&(B=!0,N=function(){return zs(F,this||k)}),E)if(T={values:l(Vs),keys:O?N:l(Xs),entries:l(Us)},C)for(M in T)(Hs||B||!(M in I))&&As(I,M,T[M]);else Is({target:w,proto:!0,forced:Hs||B},T);return C&&I[Ws]!==N&&As(I,Ws,N,{name:E}),js[w]=N,T},Ys=Dn.charAt,Gs=on,Ks=hr,Qs=Ss,Js="String Iterator",Zs=Ks.set,ta=Ks.getterFor(Js);Qs(String,"String",(function(b){Zs(this||k,{type:Js,string:Gs(b),index:0})}),(function(){var b,w=ta(this||k),_=w.string,x=w.index;return x>=_.length?{value:void 0,done:!0}:(b=Ys(_,x),w.index+=b.length,{value:b,done:!1})}));var ea=q,na=Ze,ra=Ct,Rs=function(b,w,k){var _,x;na(b);try{if(!(_=ra(b,"return"))){if("throw"===w)throw k;return k}_=ea(_,b)}catch(b){x=!0,_=b}if("throw"===w)throw k;if(x)throw _;return na(_),k},sa=Ze,aa=Rs,da=ms,la=re("iterator"),ca=Array.prototype,qs=function(b){return void 0!==b&&(da.Array===b||ca[la]===b)},ua=A,pa=r,va=m,ga=bn,ya=An,$s=function(){},ma=[],ba=J("Reflect","construct"),ka=/^\s*(?:class|function)\b/,_a=ua(ka.exec),xa=!ka.exec($s),ia=function(b){if(!va(b))return!1;try{return ba($s,ma,b),!0}catch(b){return!1}},oa=function(b){if(!va(b))return!1;switch(ga(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return xa||!!_a(ka,ya(b))}catch(b){return!0}};oa.sham=!0;var Oa=!ba||pa((function(){var b;return ia(ia.call)||!ia(Object)||!ia((function(){b=!0}))||b}))?oa:ia,Ca=ge,Sa=di,Ta=P,ha=function(b,w,k){var _=Ca(w);_ in b?Sa.f(b,_,Ta(0,k)):b[_]=k},Ma=bn,Da=Ct,Pa=ms,Ba=re("iterator"),fa=function(b){if(null!=b)return Da(b,Ba)||Da(b,"@@iterator")||Pa[Ma(b)]},Ia=q,za=Et,Fa=Ze,Ra=wt,ja=fa,La=x.TypeError,wa=function(b,w){var k=arguments.length<2?ja(b):w;if(za(k))return Fa(Ia(k,b));throw La(Ra(b)+" is not iterable")},Ha=qe,Wa=q,Xa=Lt,Ea=function(b,w,k,_){try{return _?w(sa(k)[0],k[1]):w(k)}catch(w){aa(b,"throw",w)}},qa=qs,Va=Oa,$a=zi,Ua=ha,Ya=wa,Ga=fa,Ka=x.Array,Qa=re("iterator"),Ja=!1;try{var Za=0,th={next:function(){return{done:!!Za++}},return:function(){Ja=!0}};th[Qa]=function(){return this||k},Array.from(th,(function(){throw 2}))}catch(b){}var Na=function(b){var w=Xa(b),_=Va(this||k),x=arguments.length,E=x>1?arguments[1]:void 0,O=void 0!==E;O&&(E=Ha(E,x>2?arguments[2]:void 0));var C,S,T,M,D,B,I=Ga(w),F=0;if(!I||(this||k)==Ka&&qa(I))for(C=$a(w),S=_?new(this||k)(C):Ka(C);C>F;F++)B=O?E(w[F],F):w[F],Ua(S,F,B);else for(D=(M=Ya(w,I)).next,S=_?new(this||k):[];!(T=Wa(D,M)).done;F++)B=O?Ea(M,E,[T.value,F],!0):T.value,Ua(S,F,B);return S.length=F,S},Aa=function(b,w){if(!w&&!Ja)return!1;var k=!1;try{var _={};_[Qa]=function(){return{next:function(){return{done:k=!0}}}},b(_)}catch(b){}return k};xi({target:"Array",stat:!0,forced:!Aa((function(b){Array.from(b)}))},{from:Na});var eh=ft.Array.from,ih=eh,oh=U,nh=ms,rh=hr;di.f;var sh=Ss,ah="Array Iterator",hh=rh.set,dh=rh.getterFor(ah);sh(Array,"Array",(function(b,w){hh(this||k,{type:ah,target:oh(b),index:0,kind:w})}),(function(){var b=dh(this||k),w=b.target,_=b.kind,x=b.index++;return!w||x>=w.length?(b.target=void 0,{value:void 0,done:!0}):"keys"==_?{value:x,done:!1}:"values"==_?{value:w[x],done:!1}:{value:[x,w[x]],done:!1}}),"values"),nh.Arguments=nh.Array;var lh=fa,ch={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},uh=x,fh=bn,ph=Bi,gh=ms,yh=re("toStringTag");for(var mh in ch){var bh=uh[mh],wh=bh&&bh.prototype;wh&&fh(wh)!==yh&&ph(wh,yh,mh),gh[mh]=gh.Array}var kh=lh,_h=z,xh=Array.isArray||function(b){return"Array"==_h(b)},Eh={},Oh=Yi,Ch=co.concat("length","prototype");Eh.f=Object.getOwnPropertyNames||function(b){return Oh(b,Ch)};var Th={},Mh=Pi,Dh=zi,Ph=ha,Bh=x.Array,Ih=Math.max,vh=function(b,w,k){for(var _=Dh(b),x=Mh(w,_),E=Mh(void 0===k?_:k,_),O=Bh(Ih(E-x,0)),C=0;x<E;x++,C++)Ph(O,C,b[x]);return O.length=C,O},Nh=z,Ah=U,Rh=Eh.f,jh=vh,Lh="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Th.f=function(b){return Lh&&"Window"==Nh(b)?function(b){try{return Rh(b)}catch(b){return jh(Lh)}}(b):Rh(Ah(b))};var Hh={},Xh=re;Hh.f=Xh;var qh=ft,Vh=he,$h=Hh,Uh=di.f,Sh=function(b){var w=qh.Symbol||(qh.Symbol={});Vh(w,b)||Uh(w,b,{value:$h.f(b)})},Yh=x,Gh=xh,Kh=Oa,Qh=X,Jh=re("species"),Zh=Yh.Array,zh=function(b){var w;return Gh(b)&&(w=b.constructor,(Kh(w)&&(w===Zh||Gh(w.prototype))||Qh(w)&&null===(w=w[Jh]))&&(w=void 0)),void 0===w?Zh:w},Fh=function(b,w){return new(zh(b))(0===w?0:w)},td=qe,ed=ht,id=Lt,od=zi,nd=Fh,rd=A([].push),Wh=function(b){var w=1==b,k=2==b,_=3==b,x=4==b,E=6==b,O=7==b,C=5==b||E;return function(S,T,M,D){for(var B,I,F=id(S),N=ed(F),A=td(T,M),R=od(N),j=0,L=D||nd,H=w?L(S,R):k||O?L(S,0):void 0;R>j;j++)if((C||j in N)&&(I=A(B=N[j],j,F),b))if(w)H[j]=I;else if(I)switch(b){case 3:return!0;case 5:return B;case 6:return j;case 2:rd(H,B)}else switch(b){case 4:return!1;case 7:rd(H,B)}return E?-1:_||x?x:H}},sd={forEach:Wh(0),map:Wh(1),filter:Wh(2),some:Wh(3),every:Wh(4),find:Wh(5),findIndex:Wh(6),filterReject:Wh(7)},ad=xi,hd=x,dd=J,ld=M,cd=q,ud=A,fd=j,pd=Pt,vd=r,gd=he,yd=xh,md=m,bd=X,wd=yt,kd=jt,_d=Ze,xd=Lt,Ed=U,Od=ge,Cd=on,Sd=P,Td=jr,Md=po,Dd=Eh,Pd=Th,Bd=vo,Id=R,zd=di,Fd=br,Nd=V,Ad=Io,Rd=Ir,jd=Qt.exports,Ld=no,Hd=Gt,Wd=re,Xd=Hh,qd=Sh,Vd=Zr,$d=hr,Ud=sd.forEach,Yd=Sn("hidden"),Gd="Symbol",Kd=Wd("toPrimitive"),Qd=$d.set,Jd=$d.getterFor(Gd),Zd=Object.prototype,al=hd.Symbol,hl=al&&al.prototype,dl=hd.TypeError,ll=hd.QObject,cl=dd("JSON","stringify"),ul=Id.f,fl=zd.f,pl=Pd.f,vl=Nd.f,gl=ud([].push),yl=jd("symbols"),ml=jd("op-symbols"),bl=jd("string-to-symbol-registry"),wl=jd("symbol-to-string-registry"),kl=jd("wks"),_l=!ll||!ll.prototype||!ll.prototype.findChild,xl=fd&&vd((function(){return 7!=Td(fl({},"a",{get:function(){return fl(this||k,"a",{value:7}).a}})).a}))?function(b,w,k){var _=ul(Zd,w);_&&delete Zd[w],fl(b,w,k),_&&b!==Zd&&fl(Zd,w,_)}:fl,tl=function(b,w){var k=yl[b]=Td(hl);return Qd(k,{type:Gd,tag:b,description:w}),fd||(k.description=w),k},el=function(b,w,k){b===Zd&&el(ml,w,k),_d(b);var _=Od(w);return _d(k),gd(yl,_)?(k.enumerable?(gd(b,Yd)&&b[Yd][_]&&(b[Yd][_]=!1),k=Td(k,{enumerable:Sd(0,!1)})):(gd(b,Yd)||fl(b,Yd,Sd(1,{})),b[Yd][_]=!0),xl(b,_,k)):fl(b,_,k)},il=function(b,w){_d(b);var k=Ed(w),_=Md(k).concat(sl(k));return Ud(_,(function(w){fd&&!cd(ol,k,w)||el(b,w,k[w])})),b},ol=function(b){var w=Od(b),_=cd(vl,this||k,w);return!((this||k)===Zd&&gd(yl,w)&&!gd(ml,w))&&(!(_||!gd(this||k,w)||!gd(yl,w)||gd(this||k,Yd)&&(this||k)[Yd][w])||_)},nl=function(b,w){var k=Ed(b),_=Od(w);if(k!==Zd||!gd(yl,_)||gd(ml,_)){var x=ul(k,_);return!x||!gd(yl,_)||gd(k,Yd)&&k[Yd][_]||(x.enumerable=!0),x}},rl=function(b){var w=pl(Ed(b)),k=[];return Ud(w,(function(b){gd(yl,b)||gd(Ld,b)||gl(k,b)})),k},sl=function(b){var w=b===Zd,k=pl(w?ml:Ed(b)),_=[];return Ud(k,(function(b){!gd(yl,b)||w&&!gd(Zd,b)||gl(_,yl[b])})),_};if(pd||(al=function(){if(wd(hl,this||k))throw dl("Symbol is not a constructor");var b=arguments.length&&void 0!==arguments[0]?Cd(arguments[0]):void 0,w=Hd(b),i=function(b){(this||k)===Zd&&cd(i,ml,b),gd(this||k,Yd)&&gd((this||k)[Yd],w)&&((this||k)[Yd][w]=!1),xl(this||k,w,Sd(1,b))};return fd&&_l&&xl(Zd,w,{configurable:!0,set:i}),tl(w,b)},Rd(hl=al.prototype,"toString",(function(){return Jd(this||k).tag})),Rd(al,"withoutSetter",(function(b){return tl(Hd(b),b)})),Nd.f=ol,zd.f=el,Fd.f=il,Id.f=nl,Dd.f=Pd.f=rl,Bd.f=sl,Xd.f=function(b){return tl(Wd(b),b)},fd&&fl(hl,"description",{configurable:!0,get:function(){return Jd(this||k).description}})),ad({global:!0,wrap:!0,forced:!pd,sham:!pd},{Symbol:al}),Ud(Md(kl),(function(b){qd(b)})),ad({target:Gd,stat:!0,forced:!pd},{for:function(b){var w=Cd(b);if(gd(bl,w))return bl[w];var k=al(w);return bl[w]=k,wl[k]=w,k},keyFor:function(b){if(!kd(b))throw dl(b+" is not a symbol");if(gd(wl,b))return wl[b]},useSetter:function(){_l=!0},useSimple:function(){_l=!1}}),ad({target:"Object",stat:!0,forced:!pd,sham:!fd},{create:function(b,w){return void 0===w?Td(b):il(Td(b),w)},defineProperty:el,defineProperties:il,getOwnPropertyDescriptor:nl}),ad({target:"Object",stat:!0,forced:!pd},{getOwnPropertyNames:rl,getOwnPropertySymbols:sl}),ad({target:"Object",stat:!0,forced:vd((function(){Bd.f(1)}))},{getOwnPropertySymbols:function(b){return Bd.f(xd(b))}}),cl){var El=!pd||vd((function(){var b=al();return"[null]"!=cl([b])||"{}"!=cl({a:b})||"{}"!=cl(Object(b))}));ad({target:"JSON",stat:!0,forced:El},{stringify:function(b,w,_){var x=Ad(arguments),E=w;if((bd(w)||void 0!==b)&&!kd(b))return yd(w)||(w=function(b,w){if(md(E)&&(w=cd(E,this||k,b,w)),!kd(w))return w}),x[1]=w,ld(cl,null,x)}})}if(!hl[Kd]){var Ol=hl.valueOf;Rd(hl,Kd,(function(b){return cd(Ol,this||k)}))}Vd(al,Gd),Ld[Yd]=!0;var Cl=ft.Object.getOwnPropertySymbols,Sl={exports:{}},Tl=xi,Ml=r,Dl=U,Pl=R.f,Bl=j,Il=Ml((function(){Pl(1)}));Tl({target:"Object",stat:!0,forced:!Bl||Il,sham:!Bl},{getOwnPropertyDescriptor:function(b,w){return Pl(Dl(b),w)}});var zl=ft.Object,Fl=Sl.exports=function(b,w){return zl.getOwnPropertyDescriptor(b,w)};zl.getOwnPropertyDescriptor.sham&&(Fl.sham=!0);var Nl=Sl.exports,Al=Nl,Rl=J,jl=Eh,Ll=vo,Hl=Ze,Wl=A([].concat),ql=Rl("Reflect","ownKeys")||function(b){var w=jl.f(Hl(b)),k=Ll.f;return k?Wl(w,k(b)):w},Vl=ql,Ul=U,Yl=R,Gl=ha;xi({target:"Object",stat:!0,sham:!j},{getOwnPropertyDescriptors:function(b){for(var w,k,_=Ul(b),x=Yl.f,E=Vl(_),O={},C=0;E.length>C;)void 0!==(k=x(_,w=E[C++]))&&Gl(O,w,k);return O}});var Ql=ft.Object.getOwnPropertyDescriptors,Jl={exports:{}},tc=xi,ec=j,ic=br.f;tc({target:"Object",stat:!0,forced:Object.defineProperties!==ic,sham:!ec},{defineProperties:ic});var nc=ft.Object,rc=Jl.exports=function(b,w){return nc.defineProperties(b,w)};nc.defineProperties.sham&&(rc.sham=!0);var sc=Jl.exports,ac={exports:{}},hc=xi,dc=j,lc=di.f;hc({target:"Object",stat:!0,forced:Object.defineProperty!==lc,sham:!dc},{defineProperty:lc});var cc=ft.Object,uc=ac.exports=function(b,w,k){return cc.defineProperty(b,w,k)};cc.defineProperty.sham&&(uc.sham=!0);var fc=ac.exports,pc=fc;function Xl(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}var vc=fc;function Kl(b,w){for(var k=0;k<w.length;k++){var _=w[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),vc(b,_.key,_)}}function $l(b,w,k){return w&&Kl(b.prototype,w),k&&Kl(b,k),vc(b,"prototype",{writable:!1}),b}function Zl(b,w,k){return w in b?vc(b,w,{value:k,enumerable:!0,configurable:!0,writable:!0}):b[w]=k,b}xi({target:"Array",stat:!0},{isArray:xh});var gc=ft.Array.isArray,yc=gc;var mc=r,bc=Tt,wc=re("species"),oc=function(b){return bc>=51||!mc((function(){var w=[];return(w.constructor={})[wc]=function(){return{foo:1}},1!==w[b](Boolean).foo}))},_c=xi,xc=x,Ec=r,Oc=xh,Cc=X,Sc=Lt,Tc=zi,Mc=ha,Dc=Fh,Pc=oc,Bc=Tt,Ic=re("isConcatSpreadable"),zc=9007199254740991,Fc="Maximum allowed index exceeded",Nc=xc.TypeError,Ac=Bc>=51||!Ec((function(){var b=[];return b[Ic]=!1,b.concat()[0]!==b})),Rc=Pc("concat"),kc=function(b){if(!Cc(b))return!1;var w=b[Ic];return void 0!==w?!!w:Oc(b)};_c({target:"Array",proto:!0,forced:!Ac||!Rc},{concat:function(b){var w,_,x,E,O,C=Sc(this||k),S=Dc(C,0),T=0;for(w=-1,x=arguments.length;w<x;w++)if(kc(O=-1===w?C:arguments[w])){if(T+(E=Tc(O))>zc)throw Nc(Fc);for(_=0;_<E;_++,T++)_ in O&&Mc(S,T,O[_])}else{if(T>=zc)throw Nc(Fc);Mc(S,T++,O)}return S.length=T,S}}),Sh("asyncIterator"),Sh("hasInstance"),Sh("isConcatSpreadable"),Sh("iterator"),Sh("match"),Sh("matchAll"),Sh("replace"),Sh("search"),Sh("species"),Sh("split"),Sh("toPrimitive"),Sh("toStringTag"),Sh("unscopables"),Zr(x.JSON,"JSON",!0);var jc=ft.Symbol,Lc=jc;Sh("asyncDispose"),Sh("dispose"),Sh("matcher"),Sh("metadata"),Sh("observable"),Sh("patternMatch"),Sh("replaceAll");var Hc=Lc;var Wc=xi,Xc=x,Vc=xh,Uc=Oa,Yc=X,Zc=Pi,tu=zi,eu=U,iu=ha,ou=re,nu=Io,su=oc("slice"),au=ou("species"),hu=Xc.Array,du=Math.max;Wc({target:"Array",proto:!0,forced:!su},{slice:function(b,w){var _,x,E,O=eu(this||k),C=tu(O),S=Zc(b,C),T=Zc(void 0===w?C:w,C);if(Vc(O)&&(_=O.constructor,(Uc(_)&&(_===hu||Vc(_.prototype))||Yc(_)&&null===(_=_[au]))&&(_=void 0),_===hu||void 0===_))return nu(O,S,T);for(x=new(void 0===_?hu:_)(du(T-S,0)),E=0;S<T;S++,E++)S in O&&iu(x,E,O[S]);return x.length=E,x}});var lu=Mo("Array").slice,cu=yt,uu=lu,fu=Array.prototype,qc=function(b){var w=b.slice;return b===fu||cu(fu,b)&&w===fu.slice?uu:w},vu=qc,gu=vu,yu=eh;function Gc(b,w){(null==w||w>b.length)&&(w=b.length);for(var k=0,_=new Array(w);k<w;k++)_[k]=b[k];return _}function Kc(b,w){var k;if(b){if("string"==typeof b)return Gc(b,w);var _=gu(k=Object.prototype.toString.call(b)).call(k,8,-1);return"Object"===_&&b.constructor&&(_=b.constructor.name),"Map"===_||"Set"===_?yu(b):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?Gc(b,w):void 0}}function $c(b,w){return function(b){if(yc(b))return b}(b)||function(b,w){var k=null==b?null:void 0!==Hc&&kh(b)||b["@@iterator"];if(null!=k){var _,x,E=[],O=!0,C=!1;try{for(k=k.call(b);!(O=(_=k.next()).done)&&(E.push(_.value),!w||E.length!==w);O=!0);}catch(b){C=!0,x=b}finally{try{O||null==k.return||k.return()}finally{if(C)throw x}}return E}}(b,w)||Kc(b,w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var mu=Hh.f("iterator");function Qc(b){return Qc="function"==typeof Hc&&"symbol"==typeof mu?function(b){return typeof b}:function(b){return b&&"function"==typeof Hc&&b.constructor===Hc&&b!==Hc.prototype?"symbol":typeof b},Qc(b)}function Jc(b){return function(b){if(yc(b))return Gc(b)}(b)||function(b){if(void 0!==Hc&&null!=kh(b)||null!=b["@@iterator"])return yu(b)}(b)||Kc(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bu=jc,wu=Mo("Array").concat,ku=yt,_u=wu,xu=Array.prototype,ru=function(b){var w=b.concat;return b===xu||ku(xu,b)&&w===xu.concat?_u:w},Eu=ru,Cu=vu;xi({target:"Reflect",stat:!0},{ownKeys:ql}),ft.Reflect.ownKeys;var Su=gc,Tu=sd.map;xi({target:"Array",proto:!0,forced:!oc("map")},{map:function(b){return Tu(this||k,b,arguments.length>1?arguments[1]:void 0)}});var Mu=Mo("Array").map,Du=yt,Pu=Mu,Bu=Array.prototype,pu=function(b){var w=b.map;return b===Bu||Du(Bu,b)&&w===Bu.map?Pu:w},Iu=pu,zu=Lt,Nu=po;xi({target:"Object",stat:!0,forced:r((function(){Nu(1)}))},{keys:function(b){return Nu(zu(b))}});var Au=ft.Object.keys,Ru=xi,ju=A,Lu=x.Date,Hu=ju(Lu.prototype.getTime);Ru({target:"Date",stat:!0},{now:function(){return Hu(new Lu)}});var Wu=ft.Date.now,Xu=r,Ou=function(b,w){var k=[][b];return!!k&&Xu((function(){k.call(null,w||function(){return 1},1)}))},Vu=sd.forEach,$u=Ou("forEach")?[].forEach:function(b){return Vu(this||k,b,arguments.length>1?arguments[1]:void 0)};xi({target:"Array",proto:!0,forced:[].forEach!=$u},{forEach:$u});var Uu=Mo("Array").forEach,Yu=bn,Gu=he,Ku=yt,Qu=Uu,Ju=Array.prototype,Zu={DOMTokenList:!0,NodeList:!0},Fu=function(b){var w=b.forEach;return b===Ju||Ku(Ju,b)&&w===Ju.forEach||Gu(Zu,Yu(b))?Qu:w},tf=xi,ef=xh,of=A([].reverse),nf=[1,2];tf({target:"Array",proto:!0,forced:String(nf)===String(nf.reverse())},{reverse:function(){return ef(this||k)&&((this||k).length=(this||k).length),of(this||k)}});var rf=Mo("Array").reverse,sf=yt,af=rf,hf=Array.prototype,qu=function(b){var w=b.reverse;return b===hf||sf(hf,b)&&w===hf.reverse?af:w},df=qu,lf=xi,uf=x,ff=Pi,pf=Ci,vf=zi,gf=Lt,yf=Fh,bf=ha,wf=oc("splice"),kf=uf.TypeError,xf=Math.max,Ef=Math.min,Cf=9007199254740991,Sf="Maximum allowed length exceeded";lf({target:"Array",proto:!0,forced:!wf},{splice:function(b,w){var _,x,E,O,C,S,T=gf(this||k),M=vf(T),D=ff(b,M),B=arguments.length;if(0===B?_=x=0:1===B?(_=0,x=M-D):(_=B-2,x=Ef(xf(pf(w),0),M-D)),M+_-x>Cf)throw kf(Sf);for(E=yf(T,x),O=0;O<x;O++)(C=D+O)in T&&bf(E,O,T[C]);if(E.length=x,_<x){for(O=D;O<M-x;O++)S=O+_,(C=O+x)in T?T[S]=T[C]:delete T[S];for(O=M;O>M-x+_;O--)delete T[O-1]}else if(_>x)for(O=M-x;O>D;O--)S=O+_-1,(C=O+x-1)in T?T[S]=T[C]:delete T[S];for(O=0;O<_;O++)T[O+D]=arguments[O+2];return T.length=M-x+_,E}});var Tf=Mo("Array").splice,Mf=yt,Df=Tf,Pf=Array.prototype,cf=function(b){var w=b.splice;return b===Pf||Mf(Pf,b)&&w===Pf.splice?Df:w},Bf=cf,zf=oo.includes;xi({target:"Array",proto:!0},{includes:function(b){return zf(this||k,b,arguments.length>1?arguments[1]:void 0)}});var Ff=Mo("Array").includes,Nf=X,Af=z,Rf=re("match"),mf=function(b){var w;return Nf(b)&&(void 0!==(w=b[Rf])?!!w:"RegExp"==Af(b))},jf=x.TypeError,Lf=re("match"),Hf=xi,_f=function(b){if(mf(b))throw jf("The method doesn't accept regular expressions");return b},Wf=W,Xf=on,Of=function(b){var w=/./;try{"/./"[b](w)}catch(k){try{return w[Lf]=!1,"/./"[b](w)}catch(b){}}return!1},qf=A("".indexOf);Hf({target:"String",proto:!0,forced:!Of("includes")},{includes:function(b){return!!~qf(Xf(Wf(this||k)),Xf(_f(b)),arguments.length>1?arguments[1]:void 0)}});var Vf=Mo("String").includes,$f=yt,Yf=Ff,Gf=Vf,Kf=Array.prototype,Qf=String.prototype,If=function(b){var w=b.includes;return b===Kf||$f(Kf,b)&&w===Kf.includes?Yf:"string"==typeof b||b===Qf||$f(Qf,b)&&w===Qf.includes?Gf:w},Zf=If,tp=Lt,ep=Gr,ip=Lr;xi({target:"Object",stat:!0,forced:r((function(){ep(1)})),sham:!ip},{getPrototypeOf:function(b){return ep(tp(b))}});var op=ft.Object.getPrototypeOf,np=op,rp=sd.filter;xi({target:"Array",proto:!0,forced:!oc("filter")},{filter:function(b){return rp(this||k,b,arguments.length>1?arguments[1]:void 0)}});var sp=Mo("Array").filter,ap=yt,dp=sp,lp=Array.prototype,Uf=function(b){var w=b.filter;return b===lp||ap(lp,b)&&w===lp.filter?dp:w},cp=Uf,up=j,fp=A,pp=po,vp=U,gp=fp(V.f),yp=fp([].push),Jf=function(b){return function(w){for(var k,_=vp(w),x=pp(_),E=x.length,O=0,C=[];E>O;)k=x[O++],up&&!gp(_,k)||yp(C,b?[k,_[k]]:_[k]);return C}},mp=[Jf(!0),Jf(!1)][1];xi({target:"Object",stat:!0},{values:function(b){return mp(b)}}),ft.Object.values;var bp="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",wp=W,kp=on,_p=A("".replace),xp="[\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff]",Ep=RegExp("^"+xp+xp+"*"),Op=RegExp(xp+xp+"*$"),hp=function(b){return function(w){var k=kp(wp(w));return 1&b&&(k=_p(k,Ep,"")),2&b&&(k=_p(k,Op,"")),k}},Cp={start:hp(1),end:hp(2),trim:hp(3)},Sp=x,Tp=r,Mp=A,Dp=on,Pp=Cp.trim,Bp=bp,zp=Sp.parseInt,Fp=Sp.Symbol,Np=Fp&&Fp.iterator,Ap=/^[+-]?0x/i,Rp=Mp(Ap.exec),jp=8!==zp(Bp+"08")||22!==zp(Bp+"0x16")||Np&&!Tp((function(){zp(Object(Np))}))?function(b,w){var k=Pp(Dp(b));return zp(k,w>>>0||(Rp(Ap,k)?16:10))}:zp;xi({global:!0,forced:parseInt!=jp},{parseInt:jp});var Hp=ft.parseInt,Wp=xi,Xp=oo.indexOf,qp=Ou,Vp=A([].indexOf),$p=!!Vp&&1/Vp([1],1,-0)<0,Up=qp("indexOf");Wp({target:"Array",proto:!0,forced:$p||!Up},{indexOf:function(b){var w=arguments.length>1?arguments[1]:void 0;return $p?Vp(this||k,b,w)||0:Xp(this||k,b,w)}});var Yp=Mo("Array").indexOf,Gp=yt,Kp=Yp,Qp=Array.prototype,Ip=function(b){var w=b.indexOf;return b===Qp||Gp(Qp,b)&&w===Qp.indexOf?Kp:w},Jp=Ip,Zp=mr.PROPER,tv=r,ev=bp,iv=Cp.trim;xi({target:"String",proto:!0,forced:function(b){return tv((function(){return!!ev[b]()||"âÂá "!=="âÂá "[b]()||Zp&&ev[b].name!==b}))}("trim")},{trim:function(){return iv(this||k)}}),Mo("String").trim,xi({target:"Object",stat:!0,sham:!j},{create:jr});var nv=ft.Object,Lp=function(b,w){return nv.create(b,w)},rv=Lp,sv=xi,hv=J,dv=M,lv=A,cv=r,uv=x.Array,fv=hv("JSON","stringify"),pv=lv(/./.exec),gv=lv("".charAt),yv=lv("".charCodeAt),bv=lv("".replace),wv=lv(1..toString),kv=/[\uD800-\uDFFF]/g,_v=/^[\uD800-\uDBFF]$/,Ev=/^[\uDC00-\uDFFF]$/,ov=function(b,w,k){var _=gv(k,w-1),x=gv(k,w+1);return pv(_v,b)&&!pv(Ev,x)||pv(Ev,b)&&!pv(_v,_)?"\\u"+wv(yv(b,0),16):b},Ov=cv((function(){return'"\\udf06\\ud834"'!==fv("\udf06\ud834")||'"\\udead"'!==fv("\udead")}));fv&&sv({target:"JSON",stat:!0,forced:Ov},{stringify:function(b,w,k){for(var _=0,x=arguments.length,E=uv(x);_<x;_++)E[_]=arguments[_];var O=dv(fv,null,E);return"string"==typeof O?bv(O,kv,ov):O}});var Cv=ft,Sv=M;Cv.JSON||(Cv.JSON={stringify:JSON.stringify});var av=function(b,w,k){return Sv(Cv.JSON.stringify,null,arguments)},Tv=av,Pv=x.TypeError,zv=xi,Fv=x,Nv=M,Av=m,Rv=Io,vv=function(b,w){if(b<w)throw Pv("Not enough arguments");return b},jv=/MSIE .\./.test(mt),Lv=Fv.Function,mv=function(b){return function(w,_){var x=vv(arguments.length,1)>2,E=Av(w)?w:Lv(w),O=x?Rv(arguments,2):void 0;return b(x?function(){Nv(E,this||k,O)}:E,_)}};zv({global:!0,bind:!0,forced:jv},{setTimeout:mv(Fv.setTimeout),setInterval:mv(Fv.setInterval)});var Wv=ft.setTimeout,Xv=Lt,qv=Pi,Vv=zi,xv=function(b){for(var w=Xv(this||k),_=Vv(w),x=arguments.length,E=qv(x>1?arguments[1]:void 0,_),O=x>2?arguments[2]:void 0,C=void 0===O?_:qv(O,_);C>E;)w[E++]=b;return w};xi({target:"Array",proto:!0},{fill:xv});var $v,Uv=Mo("Array").fill,Yv=yt,Gv=Uv,Kv=Array.prototype,Mv=function(b){var w=b.fill;return b===Kv||Yv(Kv,b)&&w===Kv.fill?Gv:w},Qv=Mv;function Dv(){return Dv=Object.assign||function(b){for(var w=1;w<arguments.length;w++){var k=arguments[w];for(var _ in k)Object.prototype.hasOwnProperty.call(k,_)&&(b[_]=k[_])}return b},Dv.apply(this||k,arguments)}function Bv(b,w){b.prototype=Object.create(w.prototype),b.prototype.constructor=b,b.__proto__=w}function Iv(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}$v="function"!=typeof Object.assign?function(b){if(null==b)throw new TypeError("Cannot convert undefined or null to object");for(var w=Object(b),k=1;k<arguments.length;k++){var _=arguments[k];if(null!=_)for(var x in _)_.hasOwnProperty(x)&&(w[x]=_[x])}return w}:Object.assign;var Jv,Zv=$v,tg=["","webkit","Moz","MS","ms","o"],eg="undefined"==typeof document?{style:{}}:document.createElement("div"),ig=Math.round,og=Math.abs,ng=Date.now;function Hv(b,w){for(var k,_,x=w[0].toUpperCase()+w.slice(1),E=0;E<tg.length;){if((_=(k=tg[E])?k+x:w)in b)return _;E++}}Jv="undefined"==typeof window?{}:window;var rg=Hv(eg.style,"touchAction"),dg=void 0!==rg;var xg="compute",Og="auto",Cg="manipulation",Sg="none",Tg="pan-x",Mg="pan-y",Bg=function(){if(!dg)return!1;var b={},w=Jv.CSS&&Jv.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(k){return b[k]=!w||Jv.CSS.supports("touch-action",k)})),b}(),Ig="ontouchstart"in Jv,zg=void 0!==Hv(Jv,"PointerEvent"),Ng=Ig&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Ag="touch",Rg="mouse",jg=16,Vg=24,$g=["x","y"],Ug=["clientX","clientY"];function sg(b,w,k){var _;if(b)if(b.forEach)b.forEach(w,k);else if(void 0!==b.length)for(_=0;_<b.length;)w.call(k,b[_],_,b),_++;else for(_ in b)b.hasOwnProperty(_)&&w.call(k,b[_],_,b)}function ag(b,w){return"function"==typeof b?b.apply(w&&w[0]||void 0,w):b}function hg(b,w){return b.indexOf(w)>-1}var Yg=function(){function t(b,w){(this||k).manager=b,this.set(w)}var b=t.prototype;return b.set=function(b){b===xg&&(b=this.compute()),dg&&(this||k).manager.element.style&&Bg[b]&&((this||k).manager.element.style[rg]=b),(this||k).actions=b.toLowerCase().trim()},b.update=function(){this.set((this||k).manager.options.touchAction)},b.compute=function(){var b=[];return sg((this||k).manager.recognizers,(function(w){ag(w.options.enable,[w])&&(b=b.concat(w.getTouchAction()))})),function(b){if(hg(b,Sg))return Sg;var w=hg(b,Tg),k=hg(b,Mg);return w&&k?Sg:w||k?w?Tg:Mg:hg(b,Cg)?Cg:Og}(b.join(" "))},b.preventDefaults=function(b){var w=b.srcEvent,_=b.offsetDirection;if((this||k).manager.session.prevented)w.preventDefault();else{var x=(this||k).actions,E=hg(x,Sg)&&!Bg.none,O=hg(x,Mg)&&!Bg["pan-y"],C=hg(x,Tg)&&!Bg["pan-x"];if(E){var S=1===b.pointers.length,T=b.distance<2,M=b.deltaTime<250;if(S&&T&&M)return}if(!C||!O)return E||O&&6&_||C&&_&Vg?this.preventSrc(w):void 0}},b.preventSrc=function(b){(this||k).manager.session.prevented=!0,b.preventDefault()},t}();function lg(b,w){for(;b;){if(b===w)return!0;b=b.parentNode}return!1}function cg(b){var w=b.length;if(1===w)return{x:ig(b[0].clientX),y:ig(b[0].clientY)};for(var k=0,_=0,x=0;x<w;)k+=b[x].clientX,_+=b[x].clientY,x++;return{x:ig(k/w),y:ig(_/w)}}function ug(b){for(var w=[],k=0;k<b.pointers.length;)w[k]={clientX:ig(b.pointers[k].clientX),clientY:ig(b.pointers[k].clientY)},k++;return{timeStamp:ng(),pointers:w,center:cg(w),deltaX:b.deltaX,deltaY:b.deltaY}}function fg(b,w,k){k||(k=$g);var _=w[k[0]]-b[k[0]],x=w[k[1]]-b[k[1]];return Math.sqrt(_*_+x*x)}function pg(b,w,k){k||(k=$g);var _=w[k[0]]-b[k[0]],x=w[k[1]]-b[k[1]];return 180*Math.atan2(x,_)/Math.PI}function vg(b,w){return b===w?1:og(b)>=og(w)?b<0?2:4:w<0?8:jg}function gg(b,w,k){return{x:w/b||0,y:k/b||0}}function yg(b,w){var k=b.session,_=w.pointers,x=_.length;k.firstInput||(k.firstInput=ug(w)),x>1&&!k.firstMultiple?k.firstMultiple=ug(w):1===x&&(k.firstMultiple=!1);var E=k.firstInput,O=k.firstMultiple,C=O?O.center:E.center,S=w.center=cg(_);w.timeStamp=ng(),w.deltaTime=w.timeStamp-E.timeStamp,w.angle=pg(C,S),w.distance=fg(C,S),function(b,w){var k=w.center,_=b.offsetDelta||{},x=b.prevDelta||{},E=b.prevInput||{};1!==w.eventType&&4!==E.eventType||(x=b.prevDelta={x:E.deltaX||0,y:E.deltaY||0},_=b.offsetDelta={x:k.x,y:k.y}),w.deltaX=x.x+(k.x-_.x),w.deltaY=x.y+(k.y-_.y)}(k,w),w.offsetDirection=vg(w.deltaX,w.deltaY);var T,M,D=gg(w.deltaTime,w.deltaX,w.deltaY);w.overallVelocityX=D.x,w.overallVelocityY=D.y,w.overallVelocity=og(D.x)>og(D.y)?D.x:D.y,w.scale=O?(T=O.pointers,fg((M=_)[0],M[1],Ug)/fg(T[0],T[1],Ug)):1,w.rotation=O?function(b,w){return pg(w[1],w[0],Ug)+pg(b[1],b[0],Ug)}(O.pointers,_):0,w.maxPointers=k.prevInput?w.pointers.length>k.prevInput.maxPointers?w.pointers.length:k.prevInput.maxPointers:w.pointers.length,function(b,w){var k,_,x,E,O=b.lastInterval||w,C=w.timeStamp-O.timeStamp;if(8!==w.eventType&&(C>25||void 0===O.velocity)){var S=w.deltaX-O.deltaX,T=w.deltaY-O.deltaY,M=gg(C,S,T);_=M.x,x=M.y,k=og(M.x)>og(M.y)?M.x:M.y,E=vg(S,T),b.lastInterval=w}else k=O.velocity,_=O.velocityX,x=O.velocityY,E=O.direction;w.velocity=k,w.velocityX=_,w.velocityY=x,w.direction=E}(k,w);var B,I=b.element,F=w.srcEvent;lg(B=F.composedPath?F.composedPath()[0]:F.path?F.path[0]:F.target,I)&&(I=B),w.target=I}function mg(b,w,k){var _=k.pointers.length,x=k.changedPointers.length,E=1&w&&_-x==0,O=12&w&&_-x==0;k.isFirst=!!E,k.isFinal=!!O,E&&(b.session={}),k.eventType=w,yg(b,k),b.emit("hammer.input",k),b.recognize(k),b.session.prevInput=k}function bg(b){return b.trim().split(/\s+/g)}function wg(b,w,k){sg(bg(w),(function(w){b.addEventListener(w,k,!1)}))}function kg(b,w,k){sg(bg(w),(function(w){b.removeEventListener(w,k,!1)}))}function _g(b){var w=b.ownerDocument||b;return w.defaultView||w.parentWindow||window}var Kg=function(){function t(b,w){var _=this||k;(this||k).manager=b,(this||k).callback=w,(this||k).element=b.element,(this||k).target=b.options.inputTarget,(this||k).domHandler=function(w){ag(b.options.enable,[b])&&_.handler(w)},this.init()}var b=t.prototype;return b.handler=function(){},b.init=function(){(this||k).evEl&&wg((this||k).element,(this||k).evEl,(this||k).domHandler),(this||k).evTarget&&wg((this||k).target,(this||k).evTarget,(this||k).domHandler),(this||k).evWin&&wg(_g((this||k).element),(this||k).evWin,(this||k).domHandler)},b.destroy=function(){(this||k).evEl&&kg((this||k).element,(this||k).evEl,(this||k).domHandler),(this||k).evTarget&&kg((this||k).target,(this||k).evTarget,(this||k).domHandler),(this||k).evWin&&kg(_g((this||k).element),(this||k).evWin,(this||k).domHandler)},t}();function Eg(b,w,k){if(b.indexOf&&!k)return b.indexOf(w);for(var _=0;_<b.length;){if(k&&b[_][k]==w||!k&&b[_]===w)return _;_++}return-1}var Jg={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Zg={2:Ag,3:"pen",4:Rg,5:"kinect"},ty="pointerdown",ey="pointermove pointerup pointercancel";Jv.MSPointerEvent&&!Jv.PointerEvent&&(ty="MSPointerDown",ey="MSPointerMove MSPointerUp MSPointerCancel");var iy=function(b){function e(){var w,_=e.prototype;return _.evEl=ty,_.evWin=ey,(w=b.apply(this||k,arguments)||this||k).store=w.manager.session.pointerEvents=[],w}return Bv(e,b),e.prototype.handler=function(b){var w=(this||k).store,_=!1,x=b.type.toLowerCase().replace("ms",""),E=Jg[x],O=Zg[b.pointerType]||b.pointerType,C=O===Ag,S=Eg(w,b.pointerId,"pointerId");1&E&&(0===b.button||C)?S<0&&(w.push(b),S=w.length-1):12&E&&(_=!0),S<0||(w[S]=b,this.callback((this||k).manager,E,{pointers:w,changedPointers:[b],pointerType:O,srcEvent:b}),_&&w.splice(S,1))},e}(Kg);function Pg(b){return Array.prototype.slice.call(b,0)}function Dg(b,w,k){for(var _=[],x=[],E=0;E<b.length;){var O=w?b[E][w]:b[E];Eg(x,O)<0&&_.push(b[E]),x[E]=O,E++}return k&&(_=w?_.sort((function(b,k){return b[w]>k[w]})):_.sort()),_}var oy={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ny="touchstart touchmove touchend touchcancel",ry=function(b){function e(){var w;return e.prototype.evTarget=ny,(w=b.apply(this||k,arguments)||this||k).targetIds={},w}return Bv(e,b),e.prototype.handler=function(b){var w=oy[b.type],_=Fg.call(this||k,b,w);_&&this.callback((this||k).manager,w,{pointers:_[0],changedPointers:_[1],pointerType:Ag,srcEvent:b})},e}(Kg);function Fg(b,w){var _,x,E=Pg(b.touches),O=(this||k).targetIds;if(3&w&&1===E.length)return O[E[0].identifier]=!0,[E,E];var C=Pg(b.changedTouches),S=[],T=(this||k).target;if(x=E.filter((function(b){return lg(b.target,T)})),1===w)for(_=0;_<x.length;)O[x[_].identifier]=!0,_++;for(_=0;_<C.length;)O[C[_].identifier]&&S.push(C[_]),12&w&&delete O[C[_].identifier],_++;return S.length?[Dg(x.concat(S),"identifier",!0),S]:void 0}var ay={mousedown:1,mousemove:2,mouseup:4},hy="mousedown",dy="mousemove mouseup",ly=function(b){function e(){var w,_=e.prototype;return _.evEl=hy,_.evWin=dy,(w=b.apply(this||k,arguments)||this||k).pressed=!1,w}return Bv(e,b),e.prototype.handler=function(b){var w=ay[b.type];1&w&&0===b.button&&((this||k).pressed=!0),2&w&&1!==b.which&&(w=4),(this||k).pressed&&(4&w&&((this||k).pressed=!1),this.callback((this||k).manager,w,{pointers:[b],changedPointers:[b],pointerType:Rg,srcEvent:b}))},e}(Kg);function Lg(b){var w=b.changedPointers[0];if(w.identifier===(this||k).primaryTouch){var _={x:w.clientX,y:w.clientY},x=(this||k).lastTouches;(this||k).lastTouches.push(_);setTimeout((function(){var b=x.indexOf(_);b>-1&&x.splice(b,1)}),2500)}}function Hg(b,w){1&b?((this||k).primaryTouch=w.changedPointers[0].identifier,Lg.call(this||k,w)):12&b&&Lg.call(this||k,w)}function Wg(b){for(var w=b.srcEvent.clientX,_=b.srcEvent.clientY,x=0;x<(this||k).lastTouches.length;x++){var E=(this||k).lastTouches[x],O=Math.abs(w-E.x),C=Math.abs(_-E.y);if(O<=25&&C<=25)return!0}return!1}var cy=function(){return function(b){function e(w,_){var x;return(x=b.call(this||k,w,_)||this||k).handler=function(b,w,k){var _=k.pointerType===Ag,E=k.pointerType===Rg;if(!(E&&k.sourceCapabilities&&k.sourceCapabilities.firesTouchEvents)){if(_)Hg.call(Iv(Iv(x)),w,k);else if(E&&Wg.call(Iv(Iv(x)),k))return;x.callback(b,w,k)}},x.touch=new ry(x.manager,x.handler),x.mouse=new ly(x.manager,x.handler),x.primaryTouch=null,x.lastTouches=[],x}return Bv(e,b),e.prototype.destroy=function(){(this||k).touch.destroy(),(this||k).mouse.destroy()},e}(Kg)}();function qg(b,w,k){return!!Array.isArray(b)&&(sg(b,k[w],k),!0)}var py=32,vy=1;function Xg(b,w){var k=w.manager;return k?k.get(b):b}function Gg(b){return 16&b?"cancel":8&b?"end":4&b?"move":2&b?"start":""}var my=function(){function t(b){void 0===b&&(b={}),(this||k).options=Dv({enable:!0},b),(this||k).id=vy++,(this||k).manager=null,(this||k).state=1,(this||k).simultaneous={},(this||k).requireFail=[]}var b=t.prototype;return b.set=function(b){return Zv((this||k).options,b),(this||k).manager&&(this||k).manager.touchAction.update(),this||k},b.recognizeWith=function(b){if(qg(b,"recognizeWith",this||k))return this||k;var w=(this||k).simultaneous;return w[(b=Xg(b,this||k)).id]||(w[b.id]=b,b.recognizeWith(this||k)),this||k},b.dropRecognizeWith=function(b){return qg(b,"dropRecognizeWith",this||k)||(b=Xg(b,this||k),delete(this||k).simultaneous[b.id]),this||k},b.requireFailure=function(b){if(qg(b,"requireFailure",this||k))return this||k;var w=(this||k).requireFail;return-1===Eg(w,b=Xg(b,this||k))&&(w.push(b),b.requireFailure(this||k)),this||k},b.dropRequireFailure=function(b){if(qg(b,"dropRequireFailure",this||k))return this||k;b=Xg(b,this||k);var w=Eg((this||k).requireFail,b);return w>-1&&(this||k).requireFail.splice(w,1),this||k},b.hasRequireFailures=function(){return(this||k).requireFail.length>0},b.canRecognizeWith=function(b){return!!(this||k).simultaneous[b.id]},b.emit=function(b){var w=this||k,_=(this||k).state;function o(k){w.manager.emit(k,b)}_<8&&o(w.options.event+Gg(_)),o(w.options.event),b.additionalEvent&&o(b.additionalEvent),_>=8&&o(w.options.event+Gg(_))},b.tryEmit=function(b){if(this.canEmit())return this.emit(b);(this||k).state=py},b.canEmit=function(){for(var b=0;b<(this||k).requireFail.length;){if(!(33&(this||k).requireFail[b].state))return!1;b++}return!0},b.recognize=function(b){var w=Zv({},b);if(!ag((this||k).options.enable,[this||k,w]))return this.reset(),void((this||k).state=py);56&(this||k).state&&((this||k).state=1),(this||k).state=this.process(w),30&(this||k).state&&this.tryEmit(w)},b.process=function(b){},b.getTouchAction=function(){},b.reset=function(){},t}(),by=function(b){function e(w){var _;return void 0===w&&(w={}),(_=b.call(this||k,Dv({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},w))||this||k).pTime=!1,_.pCenter=!1,_._timer=null,_._input=null,_.count=0,_}Bv(e,b);var w=e.prototype;return w.getTouchAction=function(){return[Cg]},w.process=function(b){var w=this||k,_=(this||k).options,x=b.pointers.length===_.pointers,E=b.distance<_.threshold,O=b.deltaTime<_.time;if(this.reset(),1&b.eventType&&0===(this||k).count)return this.failTimeout();if(E&&O&&x){if(4!==b.eventType)return this.failTimeout();var C=!(this||k).pTime||b.timeStamp-(this||k).pTime<_.interval,S=!(this||k).pCenter||fg((this||k).pCenter,b.center)<_.posThreshold;if((this||k).pTime=b.timeStamp,(this||k).pCenter=b.center,S&&C?(this||k).count+=1:(this||k).count=1,(this||k)._input=b,0===(this||k).count%_.taps)return this.hasRequireFailures()?((this||k)._timer=setTimeout((function(){w.state=8,w.tryEmit()}),_.interval),2):8}return py},w.failTimeout=function(){var b=this||k;return(this||k)._timer=setTimeout((function(){b.state=py}),(this||k).options.interval),py},w.reset=function(){clearTimeout((this||k)._timer)},w.emit=function(){8===(this||k).state&&((this||k)._input.tapCount=(this||k).count,(this||k).manager.emit((this||k).options.event,(this||k)._input))},e}(my),Oy=function(b){function e(w){return void 0===w&&(w={}),b.call(this||k,Dv({pointers:1},w))||this||k}Bv(e,b);var w=e.prototype;return w.attrTest=function(b){var w=(this||k).options.pointers;return 0===w||b.pointers.length===w},w.process=function(b){var w=(this||k).state,_=b.eventType,x=6&w,E=this.attrTest(b);return x&&(8&_||!E)?16|w:x||E?4&_?8|w:2&w?4|w:2:py},e}(my);function Qg(b){return b===jg?"down":8===b?"up":2===b?"left":4===b?"right":""}var Sy=function(b){function e(w){var _;return void 0===w&&(w={}),(_=b.call(this||k,Dv({event:"pan",threshold:10,pointers:1,direction:30},w))||this||k).pX=null,_.pY=null,_}Bv(e,b);var w=e.prototype;return w.getTouchAction=function(){var b=(this||k).options.direction,w=[];return 6&b&&w.push(Mg),b&Vg&&w.push(Tg),w},w.directionTest=function(b){var w=(this||k).options,_=!0,x=b.distance,E=b.direction,O=b.deltaX,C=b.deltaY;return E&w.direction||(6&w.direction?(E=0===O?1:O<0?2:4,_=O!==(this||k).pX,x=Math.abs(b.deltaX)):(E=0===C?1:C<0?8:jg,_=C!==(this||k).pY,x=Math.abs(b.deltaY))),b.direction=E,_&&x>w.threshold&&E&w.direction},w.attrTest=function(b){return Oy.prototype.attrTest.call(this||k,b)&&(2&(this||k).state||!(2&(this||k).state)&&this.directionTest(b))},w.emit=function(w){(this||k).pX=w.deltaX,(this||k).pY=w.deltaY;var _=Qg(w.direction);_&&(w.additionalEvent=(this||k).options.event+_),b.prototype.emit.call(this||k,w)},e}(Oy),Ty=function(b){function e(w){return void 0===w&&(w={}),b.call(this||k,Dv({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},w))||this||k}Bv(e,b);var w=e.prototype;return w.getTouchAction=function(){return Sy.prototype.getTouchAction.call(this||k)},w.attrTest=function(w){var _,x=(this||k).options.direction;return 30&x?_=w.overallVelocity:6&x?_=w.overallVelocityX:x&Vg&&(_=w.overallVelocityY),b.prototype.attrTest.call(this||k,w)&&x&w.offsetDirection&&w.distance>(this||k).options.threshold&&w.maxPointers===(this||k).options.pointers&&og(_)>(this||k).options.velocity&&4&w.eventType},w.emit=function(b){var w=Qg(b.offsetDirection);w&&(this||k).manager.emit((this||k).options.event+w,b),(this||k).manager.emit((this||k).options.event,b)},e}(Oy),My=function(b){function e(w){return void 0===w&&(w={}),b.call(this||k,Dv({event:"pinch",threshold:0,pointers:2},w))||this||k}Bv(e,b);var w=e.prototype;return w.getTouchAction=function(){return[Sg]},w.attrTest=function(w){return b.prototype.attrTest.call(this||k,w)&&(Math.abs(w.scale-1)>(this||k).options.threshold||2&(this||k).state)},w.emit=function(w){if(1!==w.scale){var _=w.scale<1?"in":"out";w.additionalEvent=(this||k).options.event+_}b.prototype.emit.call(this||k,w)},e}(Oy),Py=function(b){function e(w){return void 0===w&&(w={}),b.call(this||k,Dv({event:"rotate",threshold:0,pointers:2},w))||this||k}Bv(e,b);var w=e.prototype;return w.getTouchAction=function(){return[Sg]},w.attrTest=function(w){return b.prototype.attrTest.call(this||k,w)&&(Math.abs(w.rotation)>(this||k).options.threshold||2&(this||k).state)},e}(Oy),em=function(b){function e(w){var _;return void 0===w&&(w={}),(_=b.call(this||k,Dv({event:"press",pointers:1,time:251,threshold:9},w))||this||k)._timer=null,_._input=null,_}Bv(e,b);var w=e.prototype;return w.getTouchAction=function(){return[Og]},w.process=function(b){var w=this||k,_=(this||k).options,x=b.pointers.length===_.pointers,E=b.distance<_.threshold,O=b.deltaTime>_.time;if((this||k)._input=b,!E||!x||12&b.eventType&&!O)this.reset();else if(1&b.eventType)this.reset(),(this||k)._timer=setTimeout((function(){w.state=8,w.tryEmit()}),_.time);else if(4&b.eventType)return 8;return py},w.reset=function(){clearTimeout((this||k)._timer)},w.emit=function(b){8===(this||k).state&&(b&&4&b.eventType?(this||k).manager.emit((this||k).options.event+"up",b):((this||k)._input.timeStamp=ng(),(this||k).manager.emit((this||k).options.event,(this||k)._input)))},e}(my),om={domEvents:!1,touchAction:xg,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},nm=[[Py,{enable:!1}],[My,{enable:!1},["rotate"]],[Ty,{direction:6}],[Sy,{direction:6},["swipe"]],[by],[by,{event:"doubletap",taps:2},["tap"]],[em]];function sy(b,w){var k,_=b.element;_.style&&(sg(b.options.cssProps,(function(x,E){k=Hv(_.style,E),w?(b.oldCssProps[k]=_.style[k],_.style[k]=x):_.style[k]=b.oldCssProps[k]||""})),w||(b.oldCssProps={}))}var sm=function(){function t(b,w){var _,x=this||k;(this||k).options=Zv({},om,w||{}),(this||k).options.inputTarget=(this||k).options.inputTarget||b,(this||k).handlers={},(this||k).session={},(this||k).recognizers=[],(this||k).oldCssProps={},(this||k).element=b,(this||k).input=new((_=this||k).options.inputClass||(zg?iy:Ng?ry:Ig?cy:ly))(_,mg),(this||k).touchAction=new Yg(this||k,(this||k).options.touchAction),sy(this||k,!0),sg((this||k).options.recognizers,(function(b){var w=x.add(new b[0](b[1]));b[2]&&w.recognizeWith(b[2]),b[3]&&w.requireFailure(b[3])}),this||k)}var b=t.prototype;return b.set=function(b){return Zv((this||k).options,b),b.touchAction&&(this||k).touchAction.update(),b.inputTarget&&((this||k).input.destroy(),(this||k).input.target=b.inputTarget,(this||k).input.init()),this||k},b.stop=function(b){(this||k).session.stopped=b?2:1},b.recognize=function(b){var w=(this||k).session;if(!w.stopped){var _;(this||k).touchAction.preventDefaults(b);var x=(this||k).recognizers,E=w.curRecognizer;(!E||E&&8&E.state)&&(w.curRecognizer=null,E=null);for(var O=0;O<x.length;)_=x[O],2===w.stopped||E&&_!==E&&!_.canRecognizeWith(E)?_.reset():_.recognize(b),!E&&14&_.state&&(w.curRecognizer=_,E=_),O++}},b.get=function(b){if(b instanceof my)return b;for(var w=(this||k).recognizers,_=0;_<w.length;_++)if(w[_].options.event===b)return w[_];return null},b.add=function(b){if(qg(b,"add",this||k))return this||k;var w=this.get(b.options.event);return w&&this.remove(w),(this||k).recognizers.push(b),b.manager=this||k,(this||k).touchAction.update(),b},b.remove=function(b){if(qg(b,"remove",this||k))return this||k;var w=this.get(b);if(b){var _=(this||k).recognizers,x=Eg(_,w);-1!==x&&(_.splice(x,1),(this||k).touchAction.update())}return this||k},b.on=function(b,w){if(void 0===b||void 0===w)return this||k;var _=(this||k).handlers;return sg(bg(b),(function(b){_[b]=_[b]||[],_[b].push(w)})),this||k},b.off=function(b,w){if(void 0===b)return this||k;var _=(this||k).handlers;return sg(bg(b),(function(b){w?_[b]&&_[b].splice(Eg(_[b],w),1):delete _[b]})),this||k},b.emit=function(b,w){(this||k).options.domEvents&&function(b,w){var k=document.createEvent("Event");k.initEvent(b,!0,!0),k.gesture=w,w.target.dispatchEvent(k)}(b,w);var _=(this||k).handlers[b]&&(this||k).handlers[b].slice();if(_&&_.length){w.type=b,w.preventDefault=function(){w.srcEvent.preventDefault()};for(var x=0;x<_.length;)_[x](w),x++}},b.destroy=function(){(this||k).element&&sy(this||k,!1),(this||k).handlers={},(this||k).session={},(this||k).input.destroy(),(this||k).element=null},t}(),am={touchstart:1,touchmove:2,touchend:4,touchcancel:8},hm="touchstart",dm="touchstart touchmove touchend touchcancel",lm=function(b){function e(){var w,_=e.prototype;return _.evTarget=hm,_.evWin=dm,(w=b.apply(this||k,arguments)||this||k).started=!1,w}return Bv(e,b),e.prototype.handler=function(b){var w=am[b.type];if(1===w&&((this||k).started=!0),(this||k).started){var _=uy.call(this||k,b,w);12&w&&_[0].length-_[1].length==0&&((this||k).started=!1),this.callback((this||k).manager,w,{pointers:_[0],changedPointers:_[1],pointerType:Ag,srcEvent:b})}},e}(Kg);function uy(b,w){var k=Pg(b.touches),_=Pg(b.changedTouches);return 12&w&&(k=Dg(k.concat(_),"identifier",!0)),[k,_]}function fy(b,w,_){var x="DEPRECATED METHOD: "+w+"\n"+_+" AT \n";return function(){var w=new Error("get-stack-trace"),_=w&&w.stack?w.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",E=window.console&&(window.console.warn||window.console.log);return E&&E.call(window.console,x,_),b.apply(this||k,arguments)}}var cm=fy((function(b,w,k){for(var _=Object.keys(w),x=0;x<_.length;)(!k||k&&void 0===b[_[x]])&&(b[_[x]]=w[_[x]]),x++;return b}),"extend","Use `assign`."),um=fy((function(b,w){return cm(b,w,!0)}),"merge","Use `assign`.");function gy(b,w,k){var _,x=w.prototype;(_=b.prototype=Object.create(x)).constructor=b,_._super=x,k&&Zv(_,k)}function yy(b,w){return function(){return b.apply(w,arguments)}}var fm=function(){var t=function(b,w){return void 0===w&&(w={}),new sm(b,Dv({recognizers:nm.concat()},w))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=jg,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=Vg,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=jg,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=py,t.Manager=sm,t.Input=Kg,t.TouchAction=Yg,t.TouchInput=ry,t.MouseInput=ly,t.PointerEventInput=iy,t.TouchMouseInput=cy,t.SingleTouchInput=lm,t.Recognizer=my,t.AttrRecognizer=Oy,t.Tap=by,t.Pan=Sy,t.Swipe=Ty,t.Pinch=My,t.Rotate=Py,t.Press=em,t.on=wg,t.off=kg,t.each=sg,t.merge=um,t.extend=cm,t.bindFn=yy,t.assign=Zv,t.inherit=gy,t.bindFn=yy,t.prefixed=Hv,t.toArray=Pg,t.inArray=Eg,t.uniqueArray=Dg,t.splitStr=bg,t.boolOrFn=ag,t.hasParent=lg,t.addEventListeners=wg,t.removeEventListeners=kg,t.defaults=Zv({},om,{preset:nm}),t}(),pm=fm;function wy(b,w){var k=void 0!==bu&&kh(b)||b["@@iterator"];if(!k){if(Su(b)||(k=function(b,w){var k;if(b){if("string"==typeof b)return ky(b,w);var _=Cu(k=Object.prototype.toString.call(b)).call(k,8,-1);"Object"===_&&b.constructor&&(_=b.constructor.name);return"Map"===_||"Set"===_?ih(b):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?ky(b,w):void 0}}(b))||w&&b&&"number"==typeof b.length){k&&(b=k);var _=0,n=function(){};return{s:n,n:function(){return _>=b.length?{done:!0}:{done:!1,value:b[_++]}},e:function(b){throw b},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var x,E=!0,O=!1;return{s:function(){k=k.call(b)},n:function(){var b=k.next();return E=b.done,b},e:function(b){O=!0,x=b},f:function(){try{E||null==k.return||k.return()}finally{if(O)throw x}}}}function ky(b,w){(null==w||w>b.length)&&(w=b.length);for(var k=0,_=new Array(w);k<w;k++)_[k]=b[k];return _}function _y(){for(var b=arguments.length,w=new Array(b),k=0;k<b;k++)w[k]=arguments[k];return xy(w.length?w:[Wu()])}function xy(b){var w=function(){for(var b=Ey(),w=b(" "),k=b(" "),_=b(" "),x=0;x<arguments.length;x++)(w-=b(x<0||arguments.length<=x?void 0:arguments[x]))<0&&(w+=1),(k-=b(x<0||arguments.length<=x?void 0:arguments[x]))<0&&(k+=1),(_-=b(x<0||arguments.length<=x?void 0:arguments[x]))<0&&(_+=1);return[w,k,_]}(b),k=$c(w,3),_=k[0],x=k[1],E=k[2],O=1,a=function(){var b=2091639*_+2.3283064365386963e-10*O;return _=x,x=E,E=b-(O=0|b)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.algorithm="Alea",a.seed=b,a.version="0.9",a}function Ey(){var b=4022871197;return function(w){for(var k=w.toString(),_=0;_<k.length;_++){var x=.02519603282416938*(b+=k.charCodeAt(_));x-=b=x>>>0,b=(x*=b)>>>0,b+=4294967296*(x-=b)}return 2.3283064365386963e-10*(b>>>0)}}bu("DELETE");var vm="undefined"!=typeof window?window.Hammer||pm:function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}}}()};function Cy(b){var w,_=this||k;(this||k)._cleanupQueue=[],(this||k).active=!1,(this||k)._dom={container:b,overlay:document.createElement("div")},(this||k)._dom.overlay.classList.add("vis-overlay"),(this||k)._dom.container.appendChild((this||k)._dom.overlay),(this||k)._cleanupQueue.push((function(){_._dom.overlay.parentNode.removeChild(_._dom.overlay)}));var x=vm((this||k)._dom.overlay);x.on("tap",rn(w=(this||k)._onTapOverlay).call(w,this||k)),(this||k)._cleanupQueue.push((function(){x.destroy()}));var E=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Fu(E).call(E,(function(b){x.on(b,(function(b){b.srcEvent.stopPropagation()}))})),document&&document.body&&((this||k)._onClick=function(w){(function(b,w){for(;b;){if(b===w)return!0;b=b.parentNode}return!1})(w.target,b)||_.deactivate()},document.body.addEventListener("click",(this||k)._onClick),(this||k)._cleanupQueue.push((function(){document.body.removeEventListener("click",_._onClick)}))),(this||k)._escListener=function(b){("key"in b?"Escape"===b.key:27===b.keyCode)&&_.deactivate()}}hn(Cy.prototype),Cy.current=null,Cy.prototype.destroy=function(){var b,w;this.deactivate();var _,x=wy(df(b=Bf(w=(this||k)._cleanupQueue).call(w,0)).call(b));try{for(x.s();!(_=x.n()).done;)(0,_.value)()}catch(b){x.e(b)}finally{x.f()}},Cy.prototype.activate=function(){Cy.current&&Cy.current.deactivate(),Cy.current=this||k,(this||k).active=!0,(this||k)._dom.overlay.style.display="none",(this||k)._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",(this||k)._escListener)},Cy.prototype.deactivate=function(){(this||k).active=!1,(this||k)._dom.overlay.style.display="block",(this||k)._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",(this||k)._escListener),this.emit("change"),this.emit("deactivate")},Cy.prototype._onTapOverlay=function(b){this.activate(),b.srcEvent.stopPropagation()};var gm=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ym=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,bm=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,wm=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Dy(b){if(b)for(;!0===b.hasChildNodes();){var w=b.firstChild;w&&(Dy(w),b.removeChild(w))}}function By(b){return b instanceof String||"string"==typeof b}function Iy(b){return"object"===Qc(b)&&null!==b}function zy(b,w,k,_){var x=!1;!0===_&&(x=null===w[k]&&void 0!==b[k]),x?delete b[k]:b[k]=w[k]}function Fy(b,w){var k=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var _ in b)if(void 0!==w[_])if(null===w[_]||"object"!==Qc(w[_]))zy(b,w,_,k);else{var x=b[_],E=w[_];Iy(x)&&Iy(E)&&Fy(x,E,k)}}function Ny(b,w,k){var _=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Su(k))throw new TypeError("Arrays are not supported by deepExtend");for(var x=0;x<b.length;x++){var E=b[x];if(Object.prototype.hasOwnProperty.call(k,E))if(k[E]&&k[E].constructor===Object)void 0===w[E]&&(w[E]={}),w[E].constructor===Object?Ry(w[E],k[E],!1,_):zy(w,k,E,_);else{if(Su(k[E]))throw new TypeError("Arrays are not supported by deepExtend");zy(w,k,E,_)}}return w}function Ay(b,w,k){var _=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Su(k))throw new TypeError("Arrays are not supported by deepExtend");for(var x in k)if(Object.prototype.hasOwnProperty.call(k,x)&&!Zf(b).call(b,x))if(k[x]&&k[x].constructor===Object)void 0===w[x]&&(w[x]={}),w[x].constructor===Object?Ry(w[x],k[x]):zy(w,k,x,_);else if(Su(k[x])){w[x]=[];for(var E=0;E<k[x].length;E++)w[x].push(k[x][E])}else zy(w,k,x,_);return w}function Ry(b,w){var k=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var x in w)if(Object.prototype.hasOwnProperty.call(w,x)||!0===k)if("object"===Qc(w[x])&&null!==w[x]&&np(w[x])===Object.prototype)void 0===b[x]?b[x]=Ry({},w[x],k):"object"===Qc(b[x])&&null!==b[x]&&np(b[x])===Object.prototype?Ry(b[x],w[x],k):zy(b,w,x,_);else if(Su(w[x])){var E;b[x]=Cu(E=w[x]).call(E)}else zy(b,w,x,_);return b}function jy(b,w){var k;return Eu(k=[]).call(k,Jc(b),[w])}function Ly(b){return Cu(b).call(b)}function Hy(b){return b.getBoundingClientRect().top}function Wy(b,w){if(Su(b))for(var k=b.length,_=0;_<k;_++)w(b[_],_,b);else for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&w(b[x],x,b)}function Vy(b){var w;switch(b.length){case 3:case 4:return(w=ym.exec(b))?{r:Hp(w[1]+w[1],16),g:Hp(w[2]+w[2],16),b:Hp(w[3]+w[3],16)}:null;case 6:case 7:return(w=gm.exec(b))?{r:Hp(w[1],16),g:Hp(w[2],16),b:Hp(w[3],16)}:null;default:return null}}function qy(b,w){if(Zf(b).call(b,"rgba"))return b;if(Zf(b).call(b,"rgb")){var k=b.substr(Jp(b).call(b,"(")+1).replace(")","").split(",");return"rgba("+k[0]+","+k[1]+","+k[2]+","+w+")"}var _=Vy(b);return null==_?b:"rgba("+_.r+","+_.g+","+_.b+","+w+")"}function Uy(b,w,k){var _;return"#"+Cu(_=((1<<24)+(b<<16)+(w<<8)+k).toString(16)).call(_,1)}function Yy(b,w){if(By(b)){var k=b;if(Zy(k)){var _,x=Iu(_=k.substr(4).substr(0,k.length-5).split(",")).call(_,(function(b){return Hp(b)}));k=Uy(x[0],x[1],x[2])}if(!0===$y(k)){var E=function(b){var w=Vy(b);if(!w)throw new TypeError("'".concat(b,"' is not a valid color."));return Xy(w.r,w.g,w.b)}(k),O={h:E.h,s:.8*E.s,v:Math.min(1,1.02*E.v)},C={h:E.h,s:Math.min(1,1.25*E.s),v:.8*E.v},S=Ky(C.h,C.s,C.v),T=Ky(O.h,O.s,O.v);return{background:k,border:S,highlight:{background:T,border:S},hover:{background:T,border:S}}}return{background:k,border:k,highlight:{background:k,border:k},hover:{background:k,border:k}}}return w?{background:b.background||w.background,border:b.border||w.border,highlight:By(b.highlight)?{border:b.highlight,background:b.highlight}:{background:b.highlight&&b.highlight.background||w.highlight.background,border:b.highlight&&b.highlight.border||w.highlight.border},hover:By(b.hover)?{border:b.hover,background:b.hover}:{border:b.hover&&b.hover.border||w.hover.border,background:b.hover&&b.hover.background||w.hover.background}}:{background:b.background||void 0,border:b.border||void 0,highlight:By(b.highlight)?{border:b.highlight,background:b.highlight}:{background:b.highlight&&b.highlight.background||void 0,border:b.highlight&&b.highlight.border||void 0},hover:By(b.hover)?{border:b.hover,background:b.hover}:{border:b.hover&&b.hover.border||void 0,background:b.hover&&b.hover.background||void 0}}}function Xy(b,w,k){b/=255,w/=255,k/=255;var _=Math.min(b,Math.min(w,k)),x=Math.max(b,Math.max(w,k));return _===x?{h:0,s:0,v:_}:{h:60*((b===_?3:k===_?1:5)-(b===_?w-k:k===_?b-w:k-b)/(x-_))/360,s:(x-_)/x,v:x}}function Gy(b,w,k){var _,x,E,O=Math.floor(6*b),C=6*b-O,S=k*(1-w),T=k*(1-C*w),M=k*(1-(1-C)*w);switch(O%6){case 0:_=k,x=M,E=S;break;case 1:_=T,x=k,E=S;break;case 2:_=S,x=k,E=M;break;case 3:_=S,x=T,E=k;break;case 4:_=M,x=S,E=k;break;case 5:_=k,x=S,E=T}return{r:Math.floor(255*_),g:Math.floor(255*x),b:Math.floor(255*E)}}function Ky(b,w,k){var _=Gy(b,w,k);return Uy(_.r,_.g,_.b)}function $y(b){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(b)}function Zy(b){return bm.test(b)}function Qy(b){return wm.test(b)}function Jy(b){if(null===b||"object"!==Qc(b))return null;if(b instanceof Element)return b;var w=rv(b);for(var k in b)Object.prototype.hasOwnProperty.call(b,k)&&"object"==Qc(b[k])&&(w[k]=Jy(b[k]));return w}function tm(b,w,k){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=function(b){return null!=b},r=function(b){return null!==b&&"object"===Qc(b)},s=function(b){for(var w in b)if(Object.prototype.hasOwnProperty.call(b,w))return!1;return!0};if(!r(b))throw new Error("Parameter mergeTarget must be an object");if(!r(w))throw new Error("Parameter options must be an object");if(!n(k))throw new Error("Parameter option must have a value");if(!r(_))throw new Error("Parameter globalOptions must be an object");var a=function(b,w,k){r(b[k])||(b[k]={});var _=w[k],x=b[k];for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(x[E]=_[E])},x=w[k],E=r(_)&&!s(_),O=E?_[k]:void 0,C=O?O.enabled:void 0;if(void 0!==x){if("boolean"==typeof x)return r(b[k])||(b[k]={}),void(b[k].enabled=x);if(null===x&&!r(b[k])){if(!n(O))return;b[k]=rv(O)}if(r(x)){var S=!0;void 0!==x.enabled?S=x.enabled:void 0!==C&&(S=O.enabled),a(b,w,k),b[k].enabled=S}}}var km={linear:function(b){return b},easeInQuad:function(b){return b*b},easeOutQuad:function(b){return b*(2-b)},easeInOutQuad:function(b){return b<.5?2*b*b:(4-2*b)*b-1},easeInCubic:function(b){return b*b*b},easeOutCubic:function(b){return--b*b*b+1},easeInOutCubic:function(b){return b<.5?4*b*b*b:(b-1)*(2*b-2)*(2*b-2)+1},easeInQuart:function(b){return b*b*b*b},easeOutQuart:function(b){return 1- --b*b*b*b},easeInOutQuart:function(b){return b<.5?8*b*b*b*b:1-8*--b*b*b*b},easeInQuint:function(b){return b*b*b*b*b},easeOutQuint:function(b){return 1+--b*b*b*b*b},easeInOutQuint:function(b){return b<.5?16*b*b*b*b*b:1+16*--b*b*b*b*b}};function im(b,w){var k;Su(w)||(w=[w]);var _,x=wy(b);try{for(x.s();!(_=x.n()).done;){var E=_.value;if(E){k=E[w[0]];for(var O=1;O<w.length;O++)k&&(k=k[w[O]]);if(void 0!==k)break}}}catch(b){x.e(b)}finally{x.f()}return k}var _m={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},xm=function(){function t(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Xl(this||k,t),(this||k).pixelRatio=b,(this||k).generated=!1,(this||k).centerCoordinates={x:144.5,y:144.5},(this||k).r=289*.49,(this||k).color={r:255,g:255,b:255,a:1},(this||k).hueCircle=void 0,(this||k).initialColor={r:255,g:255,b:255,a:1},(this||k).previousColor=void 0,(this||k).applied=!1,(this||k).updateCallback=function(){},(this||k).closeCallback=function(){},this._create()}return $l(t,[{key:"insertTo",value:function(b){void 0!==(this||k).hammer&&((this||k).hammer.destroy(),(this||k).hammer=void 0),(this||k).container=b,(this||k).container.appendChild((this||k).frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(b){if("function"!=typeof b)throw new Error("Function attempted to set as colorPicker update callback is not a function.");(this||k).updateCallback=b}},{key:"setCloseCallback",value:function(b){if("function"!=typeof b)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");(this||k).closeCallback=b}},{key:"_isColorString",value:function(b){if("string"==typeof b)return _m[b]}},{key:"setColor",value:function(b){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==b){var k,_=this._isColorString(b);if(void 0!==_&&(b=_),!0===By(b)){if(!0===Zy(b)){var x=b.substr(4).substr(0,b.length-5).split(",");k={r:x[0],g:x[1],b:x[2],a:1}}else if(!0===Qy(b)){var E=b.substr(5).substr(0,b.length-6).split(",");k={r:E[0],g:E[1],b:E[2],a:E[3]}}else if(!0===$y(b)){var O=Vy(b);k={r:O.r,g:O.g,b:O.b,a:1}}}else if(b instanceof Object&&void 0!==b.r&&void 0!==b.g&&void 0!==b.b){var C=void 0!==b.a?b.a:"1.0";k={r:b.r,g:b.g,b:b.b,a:C}}if(void 0===k)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Tv(b));this._setColor(k,w)}}},{key:"show",value:function(){void 0!==(this||k).closeCallback&&(this.closeCallback(),(this||k).closeCallback=void 0),(this||k).applied=!1,(this||k).frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var b=this||k,w=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===w&&((this||k).previousColor=Bo({},(this||k).color)),!0===(this||k).applied&&this.updateCallback((this||k).initialColor),(this||k).frame.style.display="none",Wv((function(){void 0!==b.closeCallback&&(b.closeCallback(),b.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback((this||k).color),(this||k).applied=!1,this._hide()}},{key:"_apply",value:function(){(this||k).applied=!0,this.updateCallback((this||k).color),this._updatePicker((this||k).color)}},{key:"_loadLast",value:function(){void 0!==(this||k).previousColor?this.setColor((this||k).previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(b){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===w&&((this||k).initialColor=Bo({},b)),(this||k).color=b;var _=Xy(b.r,b.g,b.b),x=2*Math.PI,E=(this||k).r*_.s,O=(this||k).centerCoordinates.x+E*Math.sin(x*_.h),C=(this||k).centerCoordinates.y+E*Math.cos(x*_.h);(this||k).colorPickerSelector.style.left=O-.5*(this||k).colorPickerSelector.clientWidth+"px",(this||k).colorPickerSelector.style.top=C-.5*(this||k).colorPickerSelector.clientHeight+"px",this._updatePicker(b)}},{key:"_setOpacity",value:function(b){(this||k).color.a=b/100,this._updatePicker((this||k).color)}},{key:"_setBrightness",value:function(b){var w=Xy((this||k).color.r,(this||k).color.g,(this||k).color.b);w.v=b/100;var _=Gy(w.h,w.s,w.v);_.a=(this||k).color.a,(this||k).color=_,this._updatePicker()}},{key:"_updatePicker",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(this||k).color,w=Xy(b.r,b.g,b.b),_=(this||k).colorPickerCanvas.getContext("2d");void 0===(this||k).pixelRation&&((this||k).pixelRatio=(window.devicePixelRatio||1)/(_.webkitBackingStorePixelRatio||_.mozBackingStorePixelRatio||_.msBackingStorePixelRatio||_.oBackingStorePixelRatio||_.backingStorePixelRatio||1)),_.setTransform((this||k).pixelRatio,0,0,(this||k).pixelRatio,0,0);var x=(this||k).colorPickerCanvas.clientWidth,E=(this||k).colorPickerCanvas.clientHeight;_.clearRect(0,0,x,E),_.putImageData((this||k).hueCircle,0,0),_.fillStyle="rgba(0,0,0,"+(1-w.v)+")",_.circle((this||k).centerCoordinates.x,(this||k).centerCoordinates.y,(this||k).r),Qv(_).call(_),(this||k).brightnessRange.value=100*w.v,(this||k).opacityRange.value=100*b.a,(this||k).initialColorDiv.style.backgroundColor="rgba("+(this||k).initialColor.r+","+(this||k).initialColor.g+","+(this||k).initialColor.b+","+(this||k).initialColor.a+")",(this||k).newColorDiv.style.backgroundColor="rgba("+(this||k).color.r+","+(this||k).color.g+","+(this||k).color.b+","+(this||k).color.a+")"}},{key:"_setSize",value:function(){(this||k).colorPickerCanvas.style.width="100%",(this||k).colorPickerCanvas.style.height="100%",(this||k).colorPickerCanvas.width=289*(this||k).pixelRatio,(this||k).colorPickerCanvas.height=289*(this||k).pixelRatio}},{key:"_create",value:function(){var b,w,_,x;if((this||k).frame=document.createElement("div"),(this||k).frame.className="vis-color-picker",(this||k).colorPickerDiv=document.createElement("div"),(this||k).colorPickerSelector=document.createElement("div"),(this||k).colorPickerSelector.className="vis-selector",(this||k).colorPickerDiv.appendChild((this||k).colorPickerSelector),(this||k).colorPickerCanvas=document.createElement("canvas"),(this||k).colorPickerDiv.appendChild((this||k).colorPickerCanvas),(this||k).colorPickerCanvas.getContext){var E=(this||k).colorPickerCanvas.getContext("2d");(this||k).pixelRatio=(window.devicePixelRatio||1)/(E.webkitBackingStorePixelRatio||E.mozBackingStorePixelRatio||E.msBackingStorePixelRatio||E.oBackingStorePixelRatio||E.backingStorePixelRatio||1),(this||k).colorPickerCanvas.getContext("2d").setTransform((this||k).pixelRatio,0,0,(this||k).pixelRatio,0,0)}else{var O=document.createElement("DIV");O.style.color="red",O.style.fontWeight="bold",O.style.padding="10px",O.innerText="Error: your browser does not support HTML canvas",(this||k).colorPickerCanvas.appendChild(O)}(this||k).colorPickerDiv.className="vis-color",(this||k).opacityDiv=document.createElement("div"),(this||k).opacityDiv.className="vis-opacity",(this||k).brightnessDiv=document.createElement("div"),(this||k).brightnessDiv.className="vis-brightness",(this||k).arrowDiv=document.createElement("div"),(this||k).arrowDiv.className="vis-arrow",(this||k).opacityRange=document.createElement("input");try{(this||k).opacityRange.type="range",(this||k).opacityRange.min="0",(this||k).opacityRange.max="100"}catch(b){}(this||k).opacityRange.value="100",(this||k).opacityRange.className="vis-range",(this||k).brightnessRange=document.createElement("input");try{(this||k).brightnessRange.type="range",(this||k).brightnessRange.min="0",(this||k).brightnessRange.max="100"}catch(b){}(this||k).brightnessRange.value="100",(this||k).brightnessRange.className="vis-range",(this||k).opacityDiv.appendChild((this||k).opacityRange),(this||k).brightnessDiv.appendChild((this||k).brightnessRange);var C=this||k;(this||k).opacityRange.onchange=function(){C._setOpacity((this||k).value)},(this||k).opacityRange.oninput=function(){C._setOpacity((this||k).value)},(this||k).brightnessRange.onchange=function(){C._setBrightness((this||k).value)},(this||k).brightnessRange.oninput=function(){C._setBrightness((this||k).value)},(this||k).brightnessLabel=document.createElement("div"),(this||k).brightnessLabel.className="vis-label vis-brightness",(this||k).brightnessLabel.innerText="brightness:",(this||k).opacityLabel=document.createElement("div"),(this||k).opacityLabel.className="vis-label vis-opacity",(this||k).opacityLabel.innerText="opacity:",(this||k).newColorDiv=document.createElement("div"),(this||k).newColorDiv.className="vis-new-color",(this||k).newColorDiv.innerText="new",(this||k).initialColorDiv=document.createElement("div"),(this||k).initialColorDiv.className="vis-initial-color",(this||k).initialColorDiv.innerText="initial",(this||k).cancelButton=document.createElement("div"),(this||k).cancelButton.className="vis-button vis-cancel",(this||k).cancelButton.innerText="cancel",(this||k).cancelButton.onclick=rn(b=(this||k)._hide).call(b,this||k,!1),(this||k).applyButton=document.createElement("div"),(this||k).applyButton.className="vis-button vis-apply",(this||k).applyButton.innerText="apply",(this||k).applyButton.onclick=rn(w=(this||k)._apply).call(w,this||k),(this||k).saveButton=document.createElement("div"),(this||k).saveButton.className="vis-button vis-save",(this||k).saveButton.innerText="save",(this||k).saveButton.onclick=rn(_=(this||k)._save).call(_,this||k),(this||k).loadButton=document.createElement("div"),(this||k).loadButton.className="vis-button vis-load",(this||k).loadButton.innerText="load last",(this||k).loadButton.onclick=rn(x=(this||k)._loadLast).call(x,this||k),(this||k).frame.appendChild((this||k).colorPickerDiv),(this||k).frame.appendChild((this||k).arrowDiv),(this||k).frame.appendChild((this||k).brightnessLabel),(this||k).frame.appendChild((this||k).brightnessDiv),(this||k).frame.appendChild((this||k).opacityLabel),(this||k).frame.appendChild((this||k).opacityDiv),(this||k).frame.appendChild((this||k).newColorDiv),(this||k).frame.appendChild((this||k).initialColorDiv),(this||k).frame.appendChild((this||k).cancelButton),(this||k).frame.appendChild((this||k).applyButton),(this||k).frame.appendChild((this||k).saveButton),(this||k).frame.appendChild((this||k).loadButton)}},{key:"_bindHammer",value:function(){var b=this||k;(this||k).drag={},(this||k).pinch={},(this||k).hammer=new vm((this||k).colorPickerCanvas),(this||k).hammer.get("pinch").set({enable:!0}),(this||k).hammer.on("hammer.input",(function(w){w.isFirst&&b._moveSelector(w)})),(this||k).hammer.on("tap",(function(w){b._moveSelector(w)})),(this||k).hammer.on("panstart",(function(w){b._moveSelector(w)})),(this||k).hammer.on("panmove",(function(w){b._moveSelector(w)})),(this||k).hammer.on("panend",(function(w){b._moveSelector(w)}))}},{key:"_generateHueCircle",value:function(){if(!1===(this||k).generated){var b=(this||k).colorPickerCanvas.getContext("2d");void 0===(this||k).pixelRation&&((this||k).pixelRatio=(window.devicePixelRatio||1)/(b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1)),b.setTransform((this||k).pixelRatio,0,0,(this||k).pixelRatio,0,0);var w,_,x,E,O=(this||k).colorPickerCanvas.clientWidth,C=(this||k).colorPickerCanvas.clientHeight;b.clearRect(0,0,O,C),(this||k).centerCoordinates={x:.5*O,y:.5*C},(this||k).r=.49*O;var S,T=2*Math.PI/360,M=1/(this||k).r;for(x=0;x<360;x++)for(E=0;E<(this||k).r;E++)w=(this||k).centerCoordinates.x+E*Math.sin(T*x),_=(this||k).centerCoordinates.y+E*Math.cos(T*x),S=Gy(.002777777777777778*x,E*M,1),b.fillStyle="rgb("+S.r+","+S.g+","+S.b+")",b.fillRect(w-.5,_-.5,2,2);b.strokeStyle="rgba(0,0,0,1)",b.circle((this||k).centerCoordinates.x,(this||k).centerCoordinates.y,(this||k).r),b.stroke(),(this||k).hueCircle=b.getImageData(0,0,O,C)}(this||k).generated=!0}},{key:"_moveSelector",value:function(b){var w=(this||k).colorPickerDiv.getBoundingClientRect(),_=b.center.x-w.left,x=b.center.y-w.top,E=.5*(this||k).colorPickerDiv.clientHeight,O=.5*(this||k).colorPickerDiv.clientWidth,C=_-O,S=x-E,T=Math.atan2(C,S),M=.98*Math.min(Math.sqrt(C*C+S*S),O),D=Math.cos(T)*M+E,B=Math.sin(T)*M+O;(this||k).colorPickerSelector.style.top=D-.5*(this||k).colorPickerSelector.clientHeight+"px",(this||k).colorPickerSelector.style.left=B-.5*(this||k).colorPickerSelector.clientWidth+"px";var I=T/(2*Math.PI);I=I<0?I+1:I;var F=M/(this||k).r,N=Xy((this||k).color.r,(this||k).color.g,(this||k).color.b);N.h=I,N.s=F;var A=Gy(N.h,N.s,N.v);A.a=(this||k).color.a,(this||k).color=A,(this||k).initialColorDiv.style.backgroundColor="rgba("+(this||k).initialColor.r+","+(this||k).initialColor.g+","+(this||k).initialColor.b+","+(this||k).initialColor.a+")",(this||k).newColorDiv.style.backgroundColor="rgba("+(this||k).color.r+","+(this||k).color.g+","+(this||k).color.b+","+(this||k).color.a+")"}}]),t}();function rm(){for(var b=arguments.length,w=new Array(b),k=0;k<b;k++)w[k]=arguments[k];if(w.length<1)throw new TypeError("Invalid arguments.");if(1===w.length)return document.createTextNode(w[0]);var _=document.createElement(w[0]);return _.appendChild(rm.apply(void 0,Jc(Cu(w).call(w,1)))),_}var Em,Om=function(){function t(b,w,_){var x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};Xl(this||k,t),(this||k).parent=b,(this||k).changedOptions=[],(this||k).container=w,(this||k).allowCreation=!1,(this||k).hideOption=E,(this||k).options={},(this||k).initialized=!1,(this||k).popupCounter=0,(this||k).defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Bo((this||k).options,(this||k).defaultOptions),(this||k).configureOptions=_,(this||k).moduleOptions={},(this||k).domElements=[],(this||k).popupDiv={},(this||k).popupLimit=5,(this||k).popupHistory={},(this||k).colorPicker=new xm(x),(this||k).wrapper=void 0}return $l(t,[{key:"setOptions",value:function(b){if(void 0!==b){(this||k).popupHistory={},this._removePopup();var w=!0;if("string"==typeof b)(this||k).options.filter=b;else if(Su(b))(this||k).options.filter=b.join();else if("object"===Qc(b)){if(null==b)throw new TypeError("options cannot be null");void 0!==b.container&&((this||k).options.container=b.container),void 0!==cp(b)&&((this||k).options.filter=cp(b)),void 0!==b.showButton&&((this||k).options.showButton=b.showButton),void 0!==b.enabled&&(w=b.enabled)}else"boolean"==typeof b?((this||k).options.filter=!0,w=b):"function"==typeof b&&((this||k).options.filter=b,w=!0);!1===cp((this||k).options)&&(w=!1),(this||k).options.enabled=w}this._clean()}},{key:"setModuleOptions",value:function(b){(this||k).moduleOptions=b,!0===(this||k).options.enabled&&(this._clean(),void 0!==(this||k).options.container&&((this||k).container=(this||k).options.container),this._create())}},{key:"_create",value:function(){this._clean(),(this||k).changedOptions=[];var b=cp((this||k).options),w=0,_=!1;for(var x in(this||k).configureOptions)Object.prototype.hasOwnProperty.call((this||k).configureOptions,x)&&((this||k).allowCreation=!1,_=!1,"function"==typeof b?_=(_=b(x,[]))||this._handleObject((this||k).configureOptions[x],[x],!0):!0!==b&&-1===Jp(b).call(b,x)||(_=!0),!1!==_&&((this||k).allowCreation=!0,w>0&&this._makeItem([]),this._makeHeader(x),this._handleObject((this||k).configureOptions[x],[x])),w++);this._makeButton(),this._push()}},{key:"_push",value:function(){(this||k).wrapper=document.createElement("div"),(this||k).wrapper.className="vis-configuration-wrapper",(this||k).container.appendChild((this||k).wrapper);for(var b=0;b<(this||k).domElements.length;b++)(this||k).wrapper.appendChild((this||k).domElements[b]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var b=0;b<(this||k).domElements.length;b++)(this||k).wrapper.removeChild((this||k).domElements[b]);void 0!==(this||k).wrapper&&((this||k).container.removeChild((this||k).wrapper),(this||k).wrapper=void 0),(this||k).domElements=[],this._removePopup()}},{key:"_getValue",value:function(b){for(var w=(this||k).moduleOptions,_=0;_<b.length;_++){if(void 0===w[b[_]]){w=void 0;break}w=w[b[_]]}return w}},{key:"_makeItem",value:function(b){if(!0===(this||k).allowCreation){var w=document.createElement("div");w.className="vis-configuration vis-config-item vis-config-s"+b.length;for(var _=arguments.length,x=new Array(_>1?_-1:0),E=1;E<_;E++)x[E-1]=arguments[E];return Fu(x).call(x,(function(b){w.appendChild(b)})),(this||k).domElements.push(w),(this||k).domElements.length}return 0}},{key:"_makeHeader",value:function(b){var w=document.createElement("div");w.className="vis-configuration vis-config-header",w.innerText=b,this._makeItem([],w)}},{key:"_makeLabel",value:function(b,w){var k=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_=document.createElement("div");if(_.className="vis-configuration vis-config-label vis-config-s"+w.length,!0===k){for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(rm("i","b",b))}else _.innerText=b+":";return _}},{key:"_makeDropdown",value:function(b,w,_){var x=document.createElement("select");x.className="vis-configuration vis-config-select";var E=0;void 0!==w&&-1!==Jp(b).call(b,w)&&(E=Jp(b).call(b,w));for(var O=0;O<b.length;O++){var C=document.createElement("option");C.value=b[O],O===E&&(C.selected="selected"),C.innerText=b[O],x.appendChild(C)}var S=this||k;x.onchange=function(){S._update((this||k).value,_)};var T=this._makeLabel(_[_.length-1],_);this._makeItem(_,T,x)}},{key:"_makeRange",value:function(b,w,_){var x=b[0],E=b[1],O=b[2],C=b[3],S=document.createElement("input");S.className="vis-configuration vis-config-range";try{S.type="range",S.min=E,S.max=O}catch(b){}S.step=C;var T="",M=0;if(void 0!==w){var D=1.2;w<0&&w*D<E?(S.min=Math.ceil(w*D),M=S.min,T="range increased"):w/D<E&&(S.min=Math.ceil(w/D),M=S.min,T="range increased"),w*D>O&&1!==O&&(S.max=Math.ceil(w*D),M=S.max,T="range increased"),S.value=w}else S.value=x;var B=document.createElement("input");B.className="vis-configuration vis-config-rangeinput",B.value=S.value;var I=this||k;S.onchange=function(){B.value=(this||k).value,I._update(Number((this||k).value),_)},S.oninput=function(){B.value=(this||k).value};var F=this._makeLabel(_[_.length-1],_),N=this._makeItem(_,F,S,B);""!==T&&(this||k).popupHistory[N]!==M&&((this||k).popupHistory[N]=M,this._setupPopup(T,N))}},{key:"_makeButton",value:function(){var b=this||k;if(!0===(this||k).options.showButton){var w=document.createElement("div");w.className="vis-configuration vis-config-button",w.innerText="generate options",w.onclick=function(){b._printOptions()},w.onmouseover=function(){w.className="vis-configuration vis-config-button hover"},w.onmouseout=function(){w.className="vis-configuration vis-config-button"},(this||k).optionsContainer=document.createElement("div"),(this||k).optionsContainer.className="vis-configuration vis-config-option-container",(this||k).domElements.push((this||k).optionsContainer),(this||k).domElements.push(w)}}},{key:"_setupPopup",value:function(b,w){var _=this||k;if(!0===(this||k).initialized&&!0===(this||k).allowCreation&&(this||k).popupCounter<(this||k).popupLimit){var x=document.createElement("div");x.id="vis-configuration-popup",x.className="vis-configuration-popup",x.innerText=b,x.onclick=function(){_._removePopup()},(this||k).popupCounter+=1,(this||k).popupDiv={html:x,index:w}}}},{key:"_removePopup",value:function(){void 0!==(this||k).popupDiv.html&&((this||k).popupDiv.html.parentNode.removeChild((this||k).popupDiv.html),clearTimeout((this||k).popupDiv.hideTimeout),clearTimeout((this||k).popupDiv.deleteTimeout),(this||k).popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var b=this||k;if(void 0!==(this||k).popupDiv.html){var w=(this||k).domElements[(this||k).popupDiv.index].getBoundingClientRect();(this||k).popupDiv.html.style.left=w.left+"px",(this||k).popupDiv.html.style.top=w.top-30+"px",document.body.appendChild((this||k).popupDiv.html),(this||k).popupDiv.hideTimeout=Wv((function(){b.popupDiv.html.style.opacity=0}),1500),(this||k).popupDiv.deleteTimeout=Wv((function(){b._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(b,w,_){var x=document.createElement("input");x.type="checkbox",x.className="vis-configuration vis-config-checkbox",x.checked=b,void 0!==w&&(x.checked=w,w!==b&&("object"===Qc(b)?w!==b.enabled&&(this||k).changedOptions.push({path:_,value:w}):(this||k).changedOptions.push({path:_,value:w})));var E=this||k;x.onchange=function(){E._update((this||k).checked,_)};var O=this._makeLabel(_[_.length-1],_);this._makeItem(_,O,x)}},{key:"_makeTextInput",value:function(b,w,_){var x=document.createElement("input");x.type="text",x.className="vis-configuration vis-config-text",x.value=w,w!==b&&(this||k).changedOptions.push({path:_,value:w});var E=this||k;x.onchange=function(){E._update((this||k).value,_)};var O=this._makeLabel(_[_.length-1],_);this._makeItem(_,O,x)}},{key:"_makeColorField",value:function(b,w,_){var x=this||k,E=b[1],O=document.createElement("div");"none"!==(w=void 0===w?E:w)?(O.className="vis-configuration vis-config-colorBlock",O.style.backgroundColor=w):O.className="vis-configuration vis-config-colorBlock none",w=void 0===w?E:w,O.onclick=function(){x._showColorPicker(w,O,_)};var C=this._makeLabel(_[_.length-1],_);this._makeItem(_,C,O)}},{key:"_showColorPicker",value:function(b,w,_){var x=this||k;w.onclick=function(){},(this||k).colorPicker.insertTo(w),(this||k).colorPicker.show(),(this||k).colorPicker.setColor(b),(this||k).colorPicker.setUpdateCallback((function(b){var k="rgba("+b.r+","+b.g+","+b.b+","+b.a+")";w.style.backgroundColor=k,x._update(k,_)})),(this||k).colorPicker.setCloseCallback((function(){w.onclick=function(){x._showColorPicker(b,w,_)}}))}},{key:"_handleObject",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],_=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=!1,E=cp((this||k).options),O=!1;for(var C in b)if(Object.prototype.hasOwnProperty.call(b,C)){x=!0;var S=b[C],T=jy(w,C);if("function"==typeof E&&!1===(x=E(C,w))&&!Su(S)&&"string"!=typeof S&&"boolean"!=typeof S&&S instanceof Object&&((this||k).allowCreation=!1,x=this._handleObject(S,T,!0),(this||k).allowCreation=!1===_),!1!==x){O=!0;var M=this._getValue(T);if(Su(S))this._handleArray(S,M,T);else if("string"==typeof S)this._makeTextInput(S,M,T);else if("boolean"==typeof S)this._makeCheckbox(S,M,T);else if(S instanceof Object){if(!this.hideOption(w,C,(this||k).moduleOptions))if(void 0!==S.enabled){var D=jy(T,"enabled"),B=this._getValue(D);if(!0===B){var I=this._makeLabel(C,T,!0);this._makeItem(T,I),O=this._handleObject(S,T)||O}else this._makeCheckbox(S,B,T)}else{var F=this._makeLabel(C,T,!0);this._makeItem(T,F),O=this._handleObject(S,T)||O}}else console.error("dont know how to handle",S,C,T)}}return O}},{key:"_handleArray",value:function(b,w,_){"string"==typeof b[0]&&"color"===b[0]?(this._makeColorField(b,w,_),b[1]!==w&&(this||k).changedOptions.push({path:_,value:w})):"string"==typeof b[0]?(this._makeDropdown(b,w,_),b[0]!==w&&(this||k).changedOptions.push({path:_,value:w})):"number"==typeof b[0]&&(this._makeRange(b,w,_),b[0]!==w&&(this||k).changedOptions.push({path:_,value:Number(w)}))}},{key:"_update",value:function(b,w){var _=this._constructOptions(b,w);(this||k).parent.body&&(this||k).parent.body.emitter&&(this||k).parent.body.emitter.emit&&(this||k).parent.body.emitter.emit("configChange",_),(this||k).initialized=!0,(this||k).parent.setOptions(_)}},{key:"_constructOptions",value:function(b,w){var k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_=k;b="false"!==(b="true"===b||b)&&b;for(var x=0;x<w.length;x++)"global"!==w[x]&&(void 0===_[w[x]]&&(_[w[x]]={}),x!==w.length-1?_=_[w[x]]:_[w[x]]=b);return k}},{key:"_printOptions",value:function(){for(var b=this.getOptions();(this||k).optionsContainer.firstChild;)(this||k).optionsContainer.removeChild((this||k).optionsContainer.firstChild);(this||k).optionsContainer.appendChild(rm("pre","const options = "+Tv(b,null,2)))}},{key:"getOptions",value:function(){for(var b={},w=0;w<(this||k).changedOptions.length;w++)this._constructOptions((this||k).changedOptions[w].value,(this||k).changedOptions[w].path,b);return b}}]),t}(),Cm=function(){function t(b,w){Xl(this||k,t),(this||k).container=b,(this||k).overflowMethod=w||"cap",(this||k).x=0,(this||k).y=0,(this||k).padding=5,(this||k).hidden=!1,(this||k).frame=document.createElement("div"),(this||k).frame.className="vis-tooltip",(this||k).container.appendChild((this||k).frame)}return $l(t,[{key:"setPosition",value:function(b,w){(this||k).x=Hp(b),(this||k).y=Hp(w)}},{key:"setText",value:function(b){if(b instanceof Element){for(;(this||k).frame.firstChild;)(this||k).frame.removeChild((this||k).frame.firstChild);(this||k).frame.appendChild(b)}else(this||k).frame.innerText=b}},{key:"show",value:function(b){if(void 0===b&&(b=!0),!0===b){var w=(this||k).frame.clientHeight,_=(this||k).frame.clientWidth,x=(this||k).frame.parentNode.clientHeight,E=(this||k).frame.parentNode.clientWidth,O=0,C=0;if("flip"==(this||k).overflowMethod){var S=!1,T=!0;(this||k).y-w<(this||k).padding&&(T=!1),(this||k).x+_>E-(this||k).padding&&(S=!0),O=S?(this||k).x-_:(this||k).x,C=T?(this||k).y-w:(this||k).y}else(C=(this||k).y-w)+w+(this||k).padding>x&&(C=x-w-(this||k).padding),C<(this||k).padding&&(C=(this||k).padding),(O=(this||k).x)+_+(this||k).padding>E&&(O=E-_-(this||k).padding),O<(this||k).padding&&(O=(this||k).padding);(this||k).frame.style.left=O+"px",(this||k).frame.style.top=C+"px",(this||k).frame.style.visibility="visible",(this||k).hidden=!1}else this.hide()}},{key:"hide",value:function(){(this||k).hidden=!0,(this||k).frame.style.left="0",(this||k).frame.style.top="0",(this||k).frame.style.visibility="hidden"}},{key:"destroy",value:function(){(this||k).frame.parentNode.removeChild((this||k).frame)}}]),t}(),Sm=!1,Tm="background: #FFeeee; color: #dd0000",Mm=function(){function t(){Xl(this||k,t)}return $l(t,null,[{key:"validate",value:function(b,w,k){Sm=!1,Em=w;var _=w;return void 0!==k&&(_=w[k]),t.parse(b,_,[]),Sm}},{key:"parse",value:function(b,w,k){for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&t.check(_,b,w,k)}},{key:"check",value:function(b,w,k,_){if(void 0!==k[b]||void 0!==k.__any__){var x=b,E=!0;void 0===k[b]&&void 0!==k.__any__&&(x="__any__",E="object"===t.getType(w[b]));var O=k[x];E&&void 0!==O.__type__&&(O=O.__type__),t.checkFields(b,w,k,x,O,_)}else t.getSuggestion(b,k,_)}},{key:"checkFields",value:function(b,w,k,_,x,E){var a=function(w){console.error("%c"+w+t.printLocation(E,b),Tm)},O=t.getType(w[b]),C=x[O];void 0!==C?"array"===t.getType(C)&&-1===Jp(C).call(C,w[b])?(a('Invalid option detected in "'+b+'". Allowed values are:'+t.print(C)+' not "'+w[b]+'". '),Sm=!0):"object"===O&&"__any__"!==_&&(E=jy(E,b),t.parse(w[b],k[_],E)):void 0===x.any&&(a('Invalid type received for "'+b+'". Expected: '+t.print(Au(x))+". Received ["+O+'] "'+w[b]+'"'),Sm=!0)}},{key:"getType",value:function(b){var w=Qc(b);return"object"===w?null===b?"null":b instanceof Boolean?"boolean":b instanceof Number?"number":b instanceof String?"string":Su(b)?"array":b instanceof Date?"date":void 0!==b.nodeType?"dom":!0===b._isAMomentObject?"moment":"object":"number"===w?"number":"boolean"===w?"boolean":"string"===w?"string":void 0===w?"undefined":w}},{key:"getSuggestion",value:function(b,w,k){var _,x=t.findInOptions(b,w,k,!1),E=t.findInOptions(b,Em,[],!0);_=void 0!==x.indexMatch?" in "+t.printLocation(x.path,b,"")+'Perhaps it was incomplete? Did you mean: "'+x.indexMatch+'"?\n\n':E.distance<=4&&x.distance>E.distance?" in "+t.printLocation(x.path,b,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(E.path,E.closestMatch,""):x.distance<=8?'. Did you mean "'+x.closestMatch+'"?'+t.printLocation(x.path,b):". Did you mean one of these: "+t.print(Au(w))+t.printLocation(k,b),console.error('%cUnknown option detected: "'+b+'"'+_,Tm),Sm=!0}},{key:"findInOptions",value:function(b,w,k){var _=arguments.length>3&&void 0!==arguments[3]&&arguments[3],x=1e9,E="",O=[],C=b.toLowerCase(),S=void 0;for(var T in w){var M=void 0;if(void 0!==w[T].__type__&&!0===_){var D=t.findInOptions(b,w[T],jy(k,T));x>D.distance&&(E=D.closestMatch,O=D.path,x=D.distance,S=D.indexMatch)}else{var B;-1!==Jp(B=T.toLowerCase()).call(B,C)&&(S=T),x>(M=t.levenshteinDistance(b,T))&&(E=T,O=Ly(k),x=M)}}return{closestMatch:E,path:O,distance:x,indexMatch:S}}},{key:"printLocation",value:function(b,w){for(var k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",_="\n\n"+k+"options = {\n",x=0;x<b.length;x++){for(var E=0;E<x+1;E++)_+="  ";_+=b[x]+": {\n"}for(var O=0;O<b.length+1;O++)_+="  ";_+=w+"\n";for(var C=0;C<b.length+1;C++){for(var S=0;S<b.length-C;S++)_+="  ";_+="}\n"}return _+"\n\n"}},{key:"print",value:function(b){return Tv(b).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(b,w){if(0===b.length)return w.length;if(0===w.length)return b.length;var k,_,x=[];for(k=0;k<=w.length;k++)x[k]=[k];for(_=0;_<=b.length;_++)x[0][_]=_;for(k=1;k<=w.length;k++)for(_=1;_<=b.length;_++)w.charAt(k-1)==b.charAt(_-1)?x[k][_]=x[k-1][_-1]:x[k][_]=Math.min(x[k-1][_-1]+1,Math.min(x[k][_-1]+1,x[k-1][_]+1));return x[w.length][b.length]}}]),t}(),Pm=Cy,$m=Om,Qm=vm,Jm=Cm,tb=Tm,eb=Mm;function mm(b){return db=b,function(){var b={};lb=0,void(cb=db.charAt(0)),jm(),"strict"===ub&&(b.strict=!0,jm());"graph"!==ub&&"digraph"!==ub||(b.type=ub,jm());fb===sb&&(b.id=ub,jm());if("{"!=ub)throw Um("Angle bracket { expected");if(jm(),Lm(b),"}"!=ub)throw Um("Angle bracket } expected");if(jm(),""!==ub)throw Um("End of file expected");return jm(),delete b.node,delete b.edge,delete b.graph,b}()}var ib={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},ob=rv(ib);ob.color="color.color",ob.style="dashes";var nb=0,rb=1,sb=2,ab=3,hb={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},db="",lb=0,cb="",ub="",fb=nb;function Dm(){lb++,cb=db.charAt(lb)}function Bm(){return db.charAt(lb+1)}function Im(b){var w=b.charCodeAt(0);return w<47?35===w||46===w:w<59?w>47:w<91?w>64:w<96?95===w:w<123&&w>96}function zm(b,w){if(b||(b={}),w)for(var k in w)w.hasOwnProperty(k)&&(b[k]=w[k]);return b}function Fm(b,w,k){for(var _=w.split("."),x=b;_.length;){var E=_.shift();_.length?(x[E]||(x[E]={}),x=x[E]):x[E]=k}}function Nm(b,w){for(var k,_,x=null,E=[b],O=b;O.parent;)E.push(O.parent),O=O.parent;if(O.nodes)for(k=0,_=O.nodes.length;k<_;k++)if(w.id===O.nodes[k].id){x=O.nodes[k];break}for(x||(x={id:w.id},b.node&&(x.attr=zm(x.attr,b.node))),k=E.length-1;k>=0;k--){var C,S=E[k];S.nodes||(S.nodes=[]),-1===Jp(C=S.nodes).call(C,x)&&S.nodes.push(x)}w.attr&&(x.attr=zm(x.attr,w.attr))}function Am(b,w){if(b.edges||(b.edges=[]),b.edges.push(w),b.edge){var k=zm({},b.edge);w.attr=zm(k,w.attr)}}function Rm(b,w,k,_,x){var E={from:w,to:k,type:_};return b.edge&&(E.attr=zm({},b.edge)),E.attr=zm(E.attr||{},x),null!=x&&x.hasOwnProperty("arrows")&&null!=x.arrows&&(E.arrows={to:{enabled:!0,type:x.arrows.type}},x.arrows=null),E}function jm(){for(fb=nb,ub="";" "===cb||"\t"===cb||"\n"===cb||"\r"===cb;)Dm();do{var b=!1;if("#"===cb){for(var w=lb-1;" "===db.charAt(w)||"\t"===db.charAt(w);)w--;if("\n"===db.charAt(w)||""===db.charAt(w)){for(;""!=cb&&"\n"!=cb;)Dm();b=!0}}if("/"===cb&&"/"===Bm()){for(;""!=cb&&"\n"!=cb;)Dm();b=!0}if("/"===cb&&"*"===Bm()){for(;""!=cb;){if("*"===cb&&"/"===Bm()){Dm(),Dm();break}Dm()}b=!0}for(;" "===cb||"\t"===cb||"\n"===cb||"\r"===cb;)Dm()}while(b);if(""!==cb){var k=cb+Bm();if(hb[k])return fb=rb,ub=k,Dm(),void Dm();if(hb[cb])return fb=rb,ub=cb,void Dm();if(Im(cb)||"-"===cb){for(ub+=cb,Dm();Im(cb);)ub+=cb,Dm();return"false"===ub?ub=!1:"true"===ub?ub=!0:isNaN(Number(ub))||(ub=Number(ub)),void(fb=sb)}if('"'===cb){for(Dm();""!=cb&&('"'!=cb||'"'===cb&&'"'===Bm());)'"'===cb?(ub+=cb,Dm()):"\\"===cb&&"n"===Bm()?(ub+="\n",Dm()):ub+=cb,Dm();if('"'!=cb)throw Um('End of string " expected');return Dm(),void(fb=sb)}for(fb=ab;""!=cb;)ub+=cb,Dm();throw new SyntaxError('Syntax error in part "'+Ym(ub,30)+'"')}fb=rb}function Lm(b){for(;""!==ub&&"}"!=ub;)Hm(b),";"===ub&&jm()}function Hm(b){var w=Wm(b);if(w)Vm(b,w);else{var k=function(b){return"node"===ub?(jm(),b.node=qm(),"node"):"edge"===ub?(jm(),b.edge=qm(),"edge"):"graph"===ub?(jm(),b.graph=qm(),"graph"):null}(b);if(!k){if(fb!=sb)throw Um("Identifier expected");var _=ub;if(jm(),"="===ub){if(jm(),fb!=sb)throw Um("Identifier expected");b[_]=ub,jm()}else!function(b,w){var k={id:w},_=qm();_&&(k.attr=_);Nm(b,k),Vm(b,w)}(b,_)}}}function Wm(b){var w=null;if("subgraph"===ub&&((w={}).type="subgraph",jm(),fb===sb&&(w.id=ub,jm())),"{"===ub){if(jm(),w||(w={}),w.parent=b,w.node=b.node,w.edge=b.edge,w.graph=b.graph,Lm(w),"}"!=ub)throw Um("Angle bracket } expected");jm(),delete w.node,delete w.edge,delete w.graph,delete w.parent,b.subgraphs||(b.subgraphs=[]),b.subgraphs.push(w)}return w}function Vm(b,w){for(;"->"===ub||"--"===ub;){var k,_=ub;jm();var x=Wm(b);if(x)k=x;else{if(fb!=sb)throw Um("Identifier or subgraph expected");Nm(b,{id:k=ub}),jm()}Am(b,Rm(b,w,k,_,qm())),w=k}}function qm(){for(var b,w,k=null,_={dashed:!0,solid:!1,dotted:[1,5]},x={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},E=new Array,O=new Array;"["===ub;){for(jm(),k={};""!==ub&&"]"!=ub;){if(fb!=sb)throw Um("Attribute name expected");var C=ub;if(jm(),"="!=ub)throw Um("Equal sign = expected");if(jm(),fb!=sb)throw Um("Attribute value expected");var S=ub;"style"===C&&(S=_[S]),"arrowhead"===C&&(C="arrows",S={to:{enabled:!0,type:x[S]}}),"arrowtail"===C&&(C="arrows",S={from:{enabled:!0,type:x[S]}}),E.push({attr:k,name:C,value:S}),O.push(C),jm(),","==ub&&jm()}if("]"!=ub)throw Um("Bracket ] expected");jm()}if(Zf(O).call(O,"dir")){var T={arrows:{}};for(b=0;b<E.length;b++)if("arrows"===E[b].name)if(null!=E[b].value.to)T.arrows.to=b;else{if(null==E[b].value.from)throw Um("Invalid value of arrows");T.arrows.from=b}else"dir"===E[b].name&&(T.dir=b);var M,D,B=E[T.dir].value;if(!Zf(O).call(O,"arrows"))if("both"===B)E.push({attr:E[T.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),T.arrows.to=E.length-1,E.push({attr:E[T.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),T.arrows.from=E.length-1;else if("forward"===B)E.push({attr:E[T.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),T.arrows.to=E.length-1;else if("back"===B)E.push({attr:E[T.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),T.arrows.from=E.length-1;else{if("none"!==B)throw Um('Invalid dir type "'+B+'"');E.push({attr:E[T.dir].attr,name:"arrows",value:""}),T.arrows.to=E.length-1}if("both"===B)T.arrows.to&&T.arrows.from?(D=E[T.arrows.to].value.to.type,M=E[T.arrows.from].value.from.type,E[T.arrows.to]={attr:E[T.arrows.to].attr,name:E[T.arrows.to].name,value:{to:{enabled:!0,type:D},from:{enabled:!0,type:M}}},Bf(E).call(E,T.arrows.from,1)):T.arrows.to?(D=E[T.arrows.to].value.to.type,M="arrow",E[T.arrows.to]={attr:E[T.arrows.to].attr,name:E[T.arrows.to].name,value:{to:{enabled:!0,type:D},from:{enabled:!0,type:M}}}):T.arrows.from&&(D="arrow",M=E[T.arrows.from].value.from.type,E[T.arrows.from]={attr:E[T.arrows.from].attr,name:E[T.arrows.from].name,value:{to:{enabled:!0,type:D},from:{enabled:!0,type:M}}});else if("back"===B)T.arrows.to&&T.arrows.from?(D="",M=E[T.arrows.from].value.from.type,E[T.arrows.from]={attr:E[T.arrows.from].attr,name:E[T.arrows.from].name,value:{to:{enabled:!0,type:D},from:{enabled:!0,type:M}}}):T.arrows.to?(D="",M="arrow",T.arrows.from=T.arrows.to,E[T.arrows.from]={attr:E[T.arrows.from].attr,name:E[T.arrows.from].name,value:{to:{enabled:!0,type:D},from:{enabled:!0,type:M}}}):T.arrows.from&&(D="",M=E[T.arrows.from].value.from.type,E[T.arrows.to]={attr:E[T.arrows.from].attr,name:E[T.arrows.from].name,value:{to:{enabled:!0,type:D},from:{enabled:!0,type:M}}}),E[T.arrows.from]={attr:E[T.arrows.from].attr,name:E[T.arrows.from].name,value:{from:{enabled:!0,type:E[T.arrows.from].value.from.type}}};else if("none"===B){var I;E[I=T.arrows.to?T.arrows.to:T.arrows.from]={attr:E[I].attr,name:E[I].name,value:""}}else{if("forward"!==B)throw Um('Invalid dir type "'+B+'"');T.arrows.to&&T.arrows.from||T.arrows.to?(D=E[T.arrows.to].value.to.type,M="",E[T.arrows.to]={attr:E[T.arrows.to].attr,name:E[T.arrows.to].name,value:{to:{enabled:!0,type:D},from:{enabled:!0,type:M}}}):T.arrows.from&&(D="arrow",M="",T.arrows.to=T.arrows.from,E[T.arrows.to]={attr:E[T.arrows.to].attr,name:E[T.arrows.to].name,value:{to:{enabled:!0,type:D},from:{enabled:!0,type:M}}}),E[T.arrows.to]={attr:E[T.arrows.to].attr,name:E[T.arrows.to].name,value:{to:{enabled:!0,type:E[T.arrows.to].value.to.type}}}}Bf(E).call(E,T.dir,1)}if(Zf(O).call(O,"penwidth")){var F=[];for(w=E.length,b=0;b<w;b++)"width"!==E[b].name&&("penwidth"===E[b].name&&(E[b].name="width"),F.push(E[b]));E=F}for(w=E.length,b=0;b<w;b++)Fm(E[b].attr,E[b].name,E[b].value);return k}function Um(b){return new SyntaxError(b+', got "'+Ym(ub,30)+'" (char '+lb+")")}function Ym(b,w){return b.length<=w?b:b.substr(0,27)+"..."}function Xm(b,w,k){for(var _=w.split("."),x=_.pop(),E=b,O=0;O<_.length;O++){var C=_[O];C in E||(E[C]={}),E=E[C]}return E[x]=k,b}function Gm(b,w){var k={};for(var _ in b)if(b.hasOwnProperty(_)){var x=w[_];Su(x)?Fu(x).call(x,(function(w){Xm(k,w,b[_])})):Xm(k,"string"==typeof x?x:_,b[_])}return k}function Km(b){var w,k=mm(b),_={nodes:[],edges:[],options:{}};k.nodes&&Fu(w=k.nodes).call(w,(function(b){var w={id:b.id,label:String(b.label||b.id)};zm(w,Gm(b.attr,ib)),w.image&&(w.shape="image"),_.nodes.push(w)}));if(k.edges){var x,r=function(b){var w={from:b.from,to:b.to};return zm(w,Gm(b.attr,ob)),null==w.arrows&&"->"===b.type&&(w.arrows="to"),w};Fu(x=k.edges).call(x,(function(b){var w,k,x,E,O,C,S;(w=b.from instanceof Object?b.from.nodes:{id:b.from},k=b.to instanceof Object?b.to.nodes:{id:b.to},b.from instanceof Object&&b.from.edges)&&Fu(x=b.from.edges).call(x,(function(b){var w=r(b);_.edges.push(w)}));(O=k,C=function(w,k){var x=Rm(_,w.id,k.id,b.type,b.attr),E=r(x);_.edges.push(E)},Su(E=w)?Fu(E).call(E,(function(b){Su(O)?Fu(O).call(O,(function(w){C(b,w)})):C(b,O)})):Su(O)?Fu(O).call(O,(function(b){C(E,b)})):C(E,O),b.to instanceof Object&&b.to.edges)&&Fu(S=b.to.edges).call(S,(function(b){var w=r(b);_.edges.push(w)}))}))}return k.attr&&(_.options=k.attr),_}var pb=Object.freeze({__proto__:null,parseDOT:mm,DOTToGraph:Km});function Zm(b,w){var k,_={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=w&&(null!=w.fixed&&(_.nodes.fixed=w.fixed),null!=w.parseColor&&(_.nodes.parseColor=w.parseColor),null!=w.inheritColor&&(_.edges.inheritColor=w.inheritColor));var x=b.edges,E=Iu(x).call(x,(function(b){var w={from:b.source,id:b.id,to:b.target};return null!=b.attributes&&(w.attributes=b.attributes),null!=b.label&&(w.label=b.label),null!=b.attributes&&null!=b.attributes.title&&(w.title=b.attributes.title),"Directed"===b.type&&(w.arrows="to"),b.color&&!1===_.edges.inheritColor&&(w.color=b.color),w}));return{nodes:Iu(k=b.nodes).call(k,(function(b){var w={id:b.id,fixed:_.nodes.fixed&&null!=b.x&&null!=b.y};return null!=b.attributes&&(w.attributes=b.attributes),null!=b.label&&(w.label=b.label),null!=b.size&&(w.size=b.size),null!=b.attributes&&null!=b.attributes.title&&(w.title=b.attributes.title),null!=b.title&&(w.title=b.title),null!=b.x&&(w.x=b.x),null!=b.y&&(w.y=b.y),null!=b.color&&(!0===_.nodes.parseColor?w.color=b.color:w.color={background:b.color,border:b.color,highlight:{background:b.color,border:b.color},hover:{background:b.color,border:b.color}}),w})),edges:E}}var vb=Object.freeze({__proto__:null,parseGephi:Zm}),gb=Object.freeze({__proto__:null,en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufÃ¼gen",addNode:"Knoten hinzufÃ¼gen",back:"ZurÃ¼ck",close:"SchlieÃen",createEdgeError:"Es ist nicht mÃ¶glich, Kanten mit Clustern zu verbinden.",del:"LÃ¶sche Auswahl",deleteClusterError:"Cluster kÃ¶nnen nicht gelÃ¶scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster kÃ¶nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es:{addDescription:"Haga clic en un lugar vacÃ­o para colocar un nuevo nodo.",addEdge:"AÃ±adir arista",addNode:"AÃ±adir nodo",back:"AtrÃ¡s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecciÃ³n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espaÃ§o em branco para adicionar um novo nÃ³",addEdge:"Adicionar aresta",addNode:"Adicionar nÃ³",back:"Voltar",close:"Fechar",createEdgeError:"NÃ£o foi possÃ­vel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters nÃ£o puderam ser removidos.",edgeDescription:"Clique em um nÃ³ e arraste a aresta atÃ© outro nÃ³ para conectÃ¡-los",edit:"Editar",editClusterError:"Clusters nÃ£o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nÃ³ para conectÃ¡-los",editNode:"Editar nÃ³"},ru:{addDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð² ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑÐ¾, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ ÑÐ·ÐµÐ».",addEdge:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ±ÑÐ¾",addNode:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ·ÐµÐ»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÑÐ²Ð°ÑÑ",createEdgeError:"ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ ÑÐµÐ±ÑÐ° Ð² ÐºÐ»Ð°ÑÑÐµÑ.",del:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ",deleteClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½Ðµ Ð¼Ð¾Ð³ÑÑ Ð±ÑÑÑ ÑÐ´Ð°Ð»ÐµÐ½Ñ",edgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÑÐ·ÐµÐ» Ð¸ Ð¿ÑÐ¾ÑÑÐ½Ð¸ÑÐµ ÑÐµÐ±ÑÐ¾ Ðº Ð´ÑÑÐ³Ð¾Ð¼Ñ ÑÐ·Ð»Ñ, ÑÑÐ¾Ð±Ñ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ Ð¸Ñ.",edit:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",editClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ.",editEdge:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐµÐ±ÑÐ¾",editEdgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½ÑÐµ ÑÐ¾ÑÐºÐ¸ Ð¸ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ Ð¸Ñ Ð² ÑÐ·ÐµÐ», ÑÑÐ¾Ð±Ñ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ Ðº Ð½ÐµÐ¼Ñ.",editNode:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ·ÐµÐ»"},cn:{addDescription:"åå»ç©ºç½å¤æ¾ç½®æ°èç¹ã",addEdge:"æ·»å è¿æ¥çº¿",addNode:"æ·»å èç¹",back:"è¿å",close:"éé",createEdgeError:"æ æ³å°è¿æ¥çº¿è¿æ¥å°ç¾¤éã",del:"å é¤éå®",deleteClusterError:"æ æ³å é¤ç¾¤éã",edgeDescription:"åå»æä¸ªèç¹å¹¶å°è¯¥è¿æ¥çº¿æå¨å°å¦ä¸ä¸ªèç¹ä»¥è¿æ¥å®ä»¬ã",edit:"ç¼è¾",editClusterError:"æ æ³ç¼è¾ç¾¤éã",editEdge:"ç¼è¾è¿æ¥çº¿",editEdgeDescription:"åå»æ§å¶èç¹å¹¶å°å®ä»¬æå°èç¹ä¸è¿æ¥ã",editNode:"ç¼è¾èç¹"},uk:{addDescription:"KÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ»ÑÐ½Ðµ Ð¼ÑÑÑÐµ, ÑÐ¾Ð± Ð´Ð¾Ð´Ð°ÑÐ¸ Ð½Ð¾Ð²Ð¸Ð¹ Ð²ÑÐ·Ð¾Ð».",addEdge:"ÐÐ¾Ð´Ð°ÑÐ¸ ÐºÑÐ°Ð¹",addNode:"ÐÐ¾Ð´Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÐ¸ÑÐ¸",createEdgeError:"ÐÐµ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ Ð¾Ð±'ÑÐ´Ð½Ð°ÑÐ¸ ÐºÑÐ°Ñ Ð² Ð³ÑÑÐ¿Ñ.",del:"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±ÑÐ°Ð½Ðµ",deleteClusterError:"ÐÑÑÐ¿Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÑÑÑ Ð±ÑÑÐ¸ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ñ.",edgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ·Ð¾Ð» Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÐºÑÐ°Ð¹ Ð´Ð¾ ÑÐ½ÑÐ¾Ð³Ð¾ Ð²ÑÐ·Ð»Ð°, ÑÐ¾Ð± ÑÑ Ð·'ÑÐ´Ð½Ð°ÑÐ¸.",edit:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸",editClusterError:"ÐÑÑÐ¿Ð¸ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°Ð³ÑÐ²Ð°Ð½Ð½Ñ.",editEdge:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ ÐºÑÐ°Ð¹",editEdgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½Ñ ÑÐ¾ÑÐºÐ¸ Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÑÑ Ñ Ð²ÑÐ·Ð¾Ð», ÑÐ¾Ð± Ð¿ÑÐ´ÐºÐ»ÑÑÐ¸ÑÐ¸ÑÑ Ð´Ð¾ Ð½ÑÐ¾Ð³Ð¾.",editNode:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un nÅud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nÅud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crÃ©er un lien vers un cluster.",del:"Effacer la sÃ©lection",deleteClusterError:"Les clusters ne peuvent pas Ãªtre effacÃ©s.",edgeDescription:"Cliquez sur un nÅud et glissez le lien vers un autre nÅud pour les connecter.",edit:"Ãditer",editClusterError:"Les clusters ne peuvent pas Ãªtre Ã©ditÃ©s.",editEdge:"Ãditer le lien",editEdgeDescription:"Cliquez sur les points de contrÃ´le et glissez-les pour connecter un nÅud.",editNode:"Ãditer le nÅud"},cs:{addDescription:"KluknutÃ­m do prÃ¡zdnÃ©ho prostoru mÅ¯Å¾ete pÅidat novÃ½ vrchol.",addEdge:"PÅidat hranu",addNode:"PÅidat vrchol",back:"ZpÄt",close:"ZavÅÃ­t",createEdgeError:"Nelze pÅipojit hranu ke shluku.",del:"Smazat vÃ½bÄr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"PÅetaÅ¾enÃ­m z jednoho vrcholu do druhÃ©ho mÅ¯Å¾ete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"PÅetaÅ¾enÃ­m kontrolnÃ­ho vrcholu hrany ji mÅ¯Å¾ete pÅipojit k jinÃ©mu vrcholu.",editNode:"Upravit vrchol"}});var yb=function(){function t(){Xl(this||k,t),(this||k).NUM_ITERATIONS=4,(this||k).image=new Image,(this||k).canvas=document.createElement("canvas")}return $l(t,[{key:"init",value:function(){if(!this.initialized()){(this||k).src=(this||k).image.src;var b=(this||k).image.width,w=(this||k).image.height;(this||k).width=b,(this||k).height=w;var _=Math.floor(w/2),x=Math.floor(w/4),E=Math.floor(w/8),O=Math.floor(w/16),C=Math.floor(b/2),S=Math.floor(b/4),T=Math.floor(b/8),M=Math.floor(b/16);(this||k).canvas.width=3*S,(this||k).canvas.height=_,(this||k).coordinates=[[0,0,C,_],[C,0,S,x],[C,x,T,E],[5*T,x,M,O]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==(this||k).coordinates}},{key:"_fillMipMap",value:function(){var b=(this||k).canvas.getContext("2d"),w=(this||k).coordinates[0];b.drawImage((this||k).image,w[0],w[1],w[2],w[3]);for(var _=1;_<(this||k).NUM_ITERATIONS;_++){var x=(this||k).coordinates[_-1],E=(this||k).coordinates[_];b.drawImage((this||k).canvas,x[0],x[1],x[2],x[3],E[0],E[1],E[2],E[3])}}},{key:"drawImageAtPosition",value:function(b,w,_,x,E,O){if(this.initialized())if(w>2){w*=.5;for(var C=0;w>2&&C<(this||k).NUM_ITERATIONS;)w*=.5,C+=1;C>=(this||k).NUM_ITERATIONS&&(C=(this||k).NUM_ITERATIONS-1);var S=(this||k).coordinates[C];b.drawImage((this||k).canvas,S[0],S[1],S[2],S[3],_,x,E,O)}else b.drawImage((this||k).image,_,x,E,O)}}]),t}(),mb=function(){function t(b){Xl(this||k,t),(this||k).images={},(this||k).imageBroken={},(this||k).callback=b}return $l(t,[{key:"_tryloadBrokenUrl",value:function(b,w,k){void 0!==b&&void 0!==k&&(void 0!==w?(k.image.onerror=function(){console.error("Could not load brokenImage:",w)},k.image.src=w):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(b){(this||k).callback&&this.callback(b)}},{key:"load",value:function(b,w){var _=this||k,x=(this||k).images[b];if(x)return x;var E=new yb;return(this||k).images[b]=E,E.image.onload=function(){_._fixImageCoordinates(E.image),E.init(),_._redrawWithImage(E)},E.image.onerror=function(){console.error("Could not load image:",b),_._tryloadBrokenUrl(b,w,E)},E.image.src=b,E}},{key:"_fixImageCoordinates",value:function(b){0===b.width&&(document.body.appendChild(b),b.width=b.offsetWidth,b.height=b.offsetHeight,document.body.removeChild(b))}}]),t}(),bb={exports:{}},wb=r((function(){if("function"==typeof ArrayBuffer){var b=new ArrayBuffer(8);Object.isExtensible(b)&&Object.defineProperty(b,"a",{value:8})}})),kb=r,_b=X,xb=z,Ob=wb,Cb=Object.isExtensible,Sb=kb((function(){Cb(1)}))||Ob?function(b){return!!_b(b)&&(!Ob||"ArrayBuffer"!=xb(b))&&(!Cb||Cb(b))}:Cb,Tb=!r((function(){return Object.isExtensible(Object.preventExtensions({}))})),Mb=xi,Db=A,Pb=no,Bb=X,Ib=he,zb=di.f,Fb=Eh,Nb=Th,Rb=Sb,Lb=Tb,Hb=!1,Xb=Gt("meta"),qb=0,Eb=function(b){zb(b,Xb,{value:{objectID:"O"+qb++,weakData:{}}})},Vb=bb.exports={enable:function(){Vb.enable=function(){},Hb=!0;var b=Fb.f,w=Db([].splice),k={};k[Xb]=1,b(k).length&&(Fb.f=function(k){for(var _=b(k),x=0,E=_.length;x<E;x++)if(_[x]===Xb){w(_,x,1);break}return _},Mb({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Nb.f}))},fastKey:function(b,w){if(!Bb(b))return"symbol"==typeof b?b:("string"==typeof b?"S":"P")+b;if(!Ib(b,Xb)){if(!Rb(b))return"F";if(!w)return"E";Eb(b)}return b[Xb].objectID},getWeakData:function(b,w){if(!Ib(b,Xb)){if(!Rb(b))return!0;if(!w)return!1;Eb(b)}return b[Xb].weakData},onFreeze:function(b){return Lb&&Hb&&Rb(b)&&!Ib(b,Xb)&&Eb(b),b}};Pb[Xb]=!0;var $b=qe,Ub=q,Yb=Ze,Gb=wt,Kb=qs,Qb=zi,Jb=yt,Zb=wa,tw=fa,ew=Rs,iw=x.TypeError,Ab=function(b,w){(this||k).stopped=b,(this||k).result=w},ow=Ab.prototype,jb=function(b,w,k){var _,x,E,O,C,S,T,M=k&&k.that,D=!(!k||!k.AS_ENTRIES),B=!(!k||!k.IS_ITERATOR),I=!(!k||!k.INTERRUPTED),F=$b(w,M),v=function(b){return _&&ew(_,"normal",b),new Ab(!0,b)},g=function(b){return D?(Yb(b),I?F(b[0],b[1],v):F(b[0],b[1])):I?F(b,v):F(b)};if(B)_=b;else{if(!(x=tw(b)))throw iw(Gb(b)+" is not iterable");if(Kb(x)){for(E=0,O=Qb(b);O>E;E++)if((C=g(b[E]))&&Jb(ow,C))return C;return new Ab(!1)}_=Zb(b,x)}for(S=_.next;!(T=Ub(S,_)).done;){try{C=g(T.value)}catch(b){ew(_,"throw",b)}if("object"==typeof C&&C&&Jb(ow,C))return C}return new Ab(!1)},rw=yt,aw=x.TypeError,Wb=function(b,w){if(rw(w,b))return b;throw aw("Incorrect invocation")},hw=xi,dw=x,lw=bb.exports,cw=r,uw=Bi,fw=jb,pw=Wb,vw=m,gw=X,yw=Zr,bw=di.f,ww=sd.forEach,kw=j,_w=hr.set,xw=hr.getterFor,nw=function(b,w,_){var x,E=-1!==b.indexOf("Map"),O=-1!==b.indexOf("Weak"),C=E?"set":"add",S=dw[b],T=S&&S.prototype,M={};if(kw&&vw(S)&&(O||T.forEach&&!cw((function(){(new S).entries().next()})))){var D=(x=w((function(w,k){_w(pw(w,D),{type:b,collection:new S}),null!=k&&fw(k,w[C],{that:w,AS_ENTRIES:E})}))).prototype,B=xw(b);ww(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(b){var w="add"==b||"set"==b;!(b in T)||O&&"clear"==b||uw(D,b,(function(_,x){var E=B(this||k).collection;if(!w&&O&&!gw(_))return"get"==b&&void 0;var C=E[b](0===_?0:_,x);return w?this||k:C}))})),O||bw(D,"size",{configurable:!0,get:function(){return B(this||k).collection.size}})}else x=_.getConstructor(w,b,E,C),lw.enable();return yw(x,b,!1,!0),M[b]=x,hw({global:!0,forced:!0},M),O||_.setStrong(x,b,E),x},Ew=Ir,sw=function(b,w,k){for(var _ in w)k&&k.unsafe&&b[_]?b[_]=w[_]:Ew(b,_,w[_],k);return b},Ow=J,Cw=di,Sw=j,Tw=re("species"),Mw=di.f,Dw=jr,Pw=sw,Bw=qe,Iw=Wb,zw=jb,Nw=Ss,mw=function(b){var w=Ow(b),_=Cw.f;Sw&&w&&!w[Tw]&&_(w,Tw,{configurable:!0,get:function(){return this||k}})},Aw=j,Rw=bb.exports.fastKey,jw=hr.set,Lw=hr.getterFor,Hw={getConstructor:function(b,w,_,x){var E=b((function(b,k){Iw(b,O),jw(b,{type:w,index:Dw(null),first:void 0,last:void 0,size:0}),Aw||(b.size=0),null!=k&&zw(k,b[x],{that:b,AS_ENTRIES:_})})),O=E.prototype,C=Lw(w),a=function(b,w,k){var _,x,E=C(b),O=h(b,w);return O?O.value=k:(E.last=O={index:x=Rw(w,!0),key:w,value:k,previous:_=E.last,next:void 0,removed:!1},E.first||(E.first=O),_&&(_.next=O),Aw?E.size++:b.size++,"F"!==x&&(E.index[x]=O)),b},h=function(b,w){var k,_=C(b),x=Rw(w);if("F"!==x)return _.index[x];for(k=_.first;k;k=k.next)if(k.key==w)return k};return Pw(O,{clear:function(){for(var b=C(this||k),w=b.index,_=b.first;_;)_.removed=!0,_.previous&&(_.previous=_.previous.next=void 0),delete w[_.index],_=_.next;b.first=b.last=void 0,Aw?b.size=0:(this||k).size=0},delete:function(b){var w=this||k,_=C(w),x=h(w,b);if(x){var E=x.next,O=x.previous;delete _.index[x.index],x.removed=!0,O&&(O.next=E),E&&(E.previous=O),_.first==x&&(_.first=E),_.last==x&&(_.last=O),Aw?_.size--:w.size--}return!!x},forEach:function(b){for(var w,_=C(this||k),x=Bw(b,arguments.length>1?arguments[1]:void 0);w=w?w.next:_.first;)for(x(w.value,w.key,this||k);w&&w.removed;)w=w.previous},has:function(b){return!!h(this||k,b)}}),Pw(O,_?{get:function(b){var w=h(this||k,b);return w&&w.value},set:function(b,w){return a(this||k,0===b?0:b,w)}}:{add:function(b){return a(this||k,b=0===b?0:b,b)}}),Aw&&Mw(O,"size",{get:function(){return C(this||k).size}}),E},setStrong:function(b,w,_){var x=w+" Iterator",E=Lw(w),O=Lw(x);Nw(b,w,(function(b,w){jw(this||k,{type:x,target:b,state:E(b),kind:w,last:void 0})}),(function(){for(var b=O(this||k),w=b.kind,_=b.last;_&&_.removed;)_=_.previous;return b.target&&(b.last=_=_?_.next:b.state.first)?"keys"==w?{value:_.key,done:!1}:"values"==w?{value:_.value,done:!1}:{value:[_.key,_.value],done:!1}:(b.target=void 0,{value:void 0,done:!0})}),_?"entries":"values",!_,!0),mw(w)}};nw("Map",(function(b){return function(){return b(this||k,arguments.length?arguments[0]:void 0)}}),Hw);var Ww=ft.Map,Xw=function(){function t(){Xl(this||k,t),this.clear(),(this||k)._defaultIndex=0,(this||k)._groupIndex=0,(this||k)._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],(this||k).options={},(this||k).defaultOptions={useDefaultGroups:!0},Bo((this||k).options,(this||k).defaultOptions)}return $l(t,[{key:"setOptions",value:function(b){var w=["useDefaultGroups"];if(void 0!==b)for(var k in b)if(Object.prototype.hasOwnProperty.call(b,k)&&-1===Jp(w).call(w,k)){var _=b[k];this.add(k,_)}}},{key:"clear",value:function(){(this||k)._groups=new Ww,(this||k)._groupNames=[]}},{key:"get",value:function(b){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],_=(this||k)._groups.get(b);if(void 0===_&&w)if(!1===(this||k).options.useDefaultGroups&&(this||k)._groupNames.length>0){var x=(this||k)._groupIndex%(this||k)._groupNames.length;++(this||k)._groupIndex,(_={}).color=(this||k)._groups.get((this||k)._groupNames[x]),(this||k)._groups.set(b,_)}else{var E=(this||k)._defaultIndex%(this||k)._defaultGroups.length;(this||k)._defaultIndex++,(_={}).color=(this||k)._defaultGroups[E],(this||k)._groups.set(b,_)}return _}},{key:"add",value:function(b,w){return(this||k)._groups.has(b)||(this||k)._groupNames.push(b),(this||k)._groups.set(b,w),w}}]),t}();xi({target:"Number",stat:!0},{isNaN:function(b){return b!=b}});var qw=ft.Number.isNaN,Vw=x.isFinite,$w=Number.isFinite||function(b){return"number"==typeof b&&Vw(b)};xi({target:"Number",stat:!0},{isFinite:$w});var Uw=ft.Number.isFinite,Yw=sd.some;xi({target:"Array",proto:!0,forced:!Ou("some")},{some:function(b){return Yw(this||k,b,arguments.length>1?arguments[1]:void 0)}});var Gw=Mo("Array").some,Kw=yt,Qw=Gw,ok=Array.prototype,Fw=function(b){var w=b.some;return b===ok||Kw(ok,b)&&w===ok.some?Qw:w},nk=Fw,rk=x,sk=r,ak=on,hk=Cp.trim,dk=A("".charAt),ck=rk.parseFloat,uk=rk.Symbol,fk=uk&&uk.iterator,pk=1/ck("\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff-0")!=-1/0||fk&&!sk((function(){ck(Object(fk))}))?function(b){var w=hk(ak(b)),k=ck(w);return 0===k&&"-"==dk(w,0)?-0:k}:ck;xi({global:!0,forced:parseFloat!=pk},{parseFloat:pk});var vk=ft.parseFloat,gk=xi,yk=r,mk=Th.f;gk({target:"Object",stat:!0,forced:yk((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:mk});var bk=ft.Object,Zw=function(b){return bk.getOwnPropertyNames(b)},wk=Zw;function Jw(b,w){var k=["node","edge","label"],_=!0,x=im(w,"chosen");if("boolean"==typeof x)_=x;else if("object"===Qc(x)){if(-1===Jp(k).call(k,b))throw new Error("choosify: subOption '"+b+"' should be one of '"+k.join("', '")+"'");var E=im(w,["chosen",b]);"boolean"!=typeof E&&"function"!=typeof E||(_=E)}return _}function tk(b,w,k){if(b.width<=0||b.height<=0)return!1;if(void 0!==k){var _={x:w.x-k.x,y:w.y-k.y};if(0!==k.angle){var x=-k.angle;w={x:Math.cos(x)*_.x-Math.sin(x)*_.y,y:Math.sin(x)*_.x+Math.cos(x)*_.y}}else w=_}var E=b.x+b.width,O=b.y+b.width;return b.left<w.x&&E>w.x&&b.top<w.y&&O>w.y}function ek(b){return"string"==typeof b&&""!==b}function ik(b,w,k,_){var x=_.x,E=_.y;if("function"==typeof _.distanceToBorder){var O=_.distanceToBorder(b,w),C=Math.sin(w)*O,S=Math.cos(w)*O;S===O?(x+=O,E=_.y):C===O?(x=_.x,E-=O):(x+=S,E-=C)}else _.shape.width>_.shape.height?(x=_.x+.5*_.shape.width,E=_.y-k):(x=_.x+k,E=_.y-.5*_.shape.height);return{x:x,y:E}}var kk=Mo("Array").values,_k=bn,Ek=he,Ok=yt,Ck=kk,Sk=Array.prototype,Tk={DOMTokenList:!0,NodeList:!0},lk=function(b){var w=b.values;return b===Sk||Ok(Sk,b)&&w===Sk.values||Ek(Tk,_k(b))?Ck:w},Mk=function(){function t(b){Xl(this||k,t),(this||k).measureText=b,(this||k).current=0,(this||k).width=0,(this||k).height=0,(this||k).lines=[]}return $l(t,[{key:"_add",value:function(b,w){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===(this||k).lines[b]&&((this||k).lines[b]={width:0,height:0,blocks:[]});var x=w;void 0!==w&&""!==w||(x=" ");var E=this.measureText(x,_),O=Bo({},lk(E));O.text=w,O.width=E.width,O.mod=_,void 0!==w&&""!==w||(O.width=0),(this||k).lines[b].blocks.push(O),(this||k).lines[b].width+=O.width}},{key:"curWidth",value:function(){var b=(this||k).lines[(this||k).current];return void 0===b?0:b.width}},{key:"append",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add((this||k).current,b,w)}},{key:"newLine",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add((this||k).current,b,w),(this||k).current++}},{key:"determineLineHeights",value:function(){for(var b=0;b<(this||k).lines.length;b++){var w=(this||k).lines[b],_=0;if(void 0!==w.blocks)for(var x=0;x<w.blocks.length;x++){var E=w.blocks[x];_<E.height&&(_=E.height)}w.height=_}}},{key:"determineLabelSize",value:function(){for(var b=0,w=0,_=0;_<(this||k).lines.length;_++){var x=(this||k).lines[_];x.width>b&&(b=x.width),w+=x.height}(this||k).width=b,(this||k).height=w}},{key:"removeEmptyBlocks",value:function(){for(var b=[],w=0;w<(this||k).lines.length;w++){var _=(this||k).lines[w];if(0!==_.blocks.length&&(w!==(this||k).lines.length-1||0!==_.width)){var x={};Bo(x,_),x.blocks=[];for(var E=void 0,O=[],C=0;C<_.blocks.length;C++){var S=_.blocks[C];0!==S.width?O.push(S):void 0===E&&(E=S)}0===O.length&&void 0!==E&&O.push(E),x.blocks=O,b.push(x)}}return b}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var b=this.removeEmptyBlocks();return{width:(this||k).width,height:(this||k).height,lines:b}}}]),t}(),Dk={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},Pk=function(){function t(b){Xl(this||k,t),(this||k).text=b,(this||k).bold=!1,(this||k).ital=!1,(this||k).mono=!1,(this||k).spacing=!1,(this||k).position=0,(this||k).buffer="",(this||k).modStack=[],(this||k).blocks=[]}return $l(t,[{key:"mod",value:function(){return 0===(this||k).modStack.length?"normal":(this||k).modStack[0]}},{key:"modName",value:function(){return 0===(this||k).modStack.length?"normal":"mono"===(this||k).modStack[0]?"mono":(this||k).bold&&(this||k).ital?"boldital":(this||k).bold?"bold":(this||k).ital?"ital":void 0}},{key:"emitBlock",value:function(){(this||k).spacing&&(this.add(" "),(this||k).spacing=!1),(this||k).buffer.length>0&&((this||k).blocks.push({text:(this||k).buffer,mod:this.modName()}),(this||k).buffer="")}},{key:"add",value:function(b){" "===b&&((this||k).spacing=!0),(this||k).spacing&&((this||k).buffer+=" ",(this||k).spacing=!1)," "!=b&&((this||k).buffer+=b)}},{key:"parseWS",value:function(b){return!!/[ \t]/.test(b)&&((this||k).mono?this.add(b):(this||k).spacing=!0,!0)}},{key:"setTag",value:function(b){this.emitBlock(),(this||k)[b]=!0,(this||k).modStack.unshift(b)}},{key:"unsetTag",value:function(b){this.emitBlock(),(this||k)[b]=!1,(this||k).modStack.shift()}},{key:"parseStartTag",value:function(b,w){return!((this||k).mono||(this||k)[b]||!this.match(w))&&(this.setTag(b),!0)}},{key:"match",value:function(b){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],_=this.prepareRegExp(b),x=$c(_,2),E=x[0],O=x[1],C=E.test((this||k).text.substr((this||k).position,O));return C&&w&&((this||k).position+=O-1),C}},{key:"parseEndTag",value:function(b,w,_){var x=this.mod()===b;return!(!(x="mono"===b?x&&(this||k).mono:x&&!(this||k).mono)||!this.match(w))&&(void 0!==_?((this||k).position===(this||k).text.length-1||this.match(_,!1))&&this.unsetTag(b):this.unsetTag(b),!0)}},{key:"replace",value:function(b,w){return!!this.match(b)&&(this.add(w),(this||k).position+=length-1,!0)}},{key:"prepareRegExp",value:function(b){var w,k;if(b instanceof RegExp)k=b,w=1;else{var _=Dk[b];k=void 0!==_?_:new RegExp(b),w=b.length}return[k,w]}}]),t}(),Bk=function(){function t(b,w,_,x){var E=this||k;Xl(this||k,t),(this||k).ctx=b,(this||k).parent=w,(this||k).selected=_,(this||k).hover=x;(this||k).lines=new Mk((function(w,k){if(void 0===w)return 0;var O=E.parent.getFormattingValues(b,_,x,k),C=0;""!==w&&(C=E.ctx.measureText(w).width);return{width:C,values:O}}))}return $l(t,[{key:"process",value:function(b){if(!ek(b))return(this||k).lines.finalize();var w=(this||k).parent.fontOptions;b=(b=b.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var _=String(b).split("\n"),x=_.length;if(w.multi)for(var E=0;E<x;E++){var O=this.splitBlocks(_[E],w.multi);if(void 0!==O)if(0!==O.length){if(w.maxWdt>0)for(var C=0;C<O.length;C++){var S=O[C].mod,T=O[C].text;this.splitStringIntoLines(T,S,!0)}else for(var M=0;M<O.length;M++){var D=O[M].mod,B=O[M].text;(this||k).lines.append(B,D)}(this||k).lines.newLine()}else(this||k).lines.newLine("")}else if(w.maxWdt>0)for(var I=0;I<x;I++)this.splitStringIntoLines(_[I]);else for(var F=0;F<x;F++)(this||k).lines.newLine(_[F]);return(this||k).lines.finalize()}},{key:"decodeMarkupSystem",value:function(b){var w="none";return"markdown"===b||"md"===b?w="markdown":!0!==b&&"html"!==b||(w="html"),w}},{key:"splitHtmlBlocks",value:function(b){for(var w=new Pk(b),i=function(b){return!!/&/.test(b)&&(w.replace(w.text,"&lt;","<")||w.replace(w.text,"&amp;","&")||w.add("&"),!0)};w.position<w.text.length;){var k=w.text.charAt(w.position);w.parseWS(k)||/</.test(k)&&(w.parseStartTag("bold","<b>")||w.parseStartTag("ital","<i>")||w.parseStartTag("mono","<code>")||w.parseEndTag("bold","</b>")||w.parseEndTag("ital","</i>")||w.parseEndTag("mono","</code>"))||i(k)||w.add(k),w.position++}return w.emitBlock(),w.blocks}},{key:"splitMarkdownBlocks",value:function(b){for(var w=this||k,_=new Pk(b),x=!0,n=function(b){return!!/\\/.test(b)&&(_.position<w.text.length+1&&(_.position++,b=w.text.charAt(_.position),/ \t/.test(b)?_.spacing=!0:(_.add(b),x=!1)),!0)};_.position<_.text.length;){var E=_.text.charAt(_.position);_.parseWS(E)||n(E)||(x||_.spacing)&&(_.parseStartTag("bold","*")||_.parseStartTag("ital","_")||_.parseStartTag("mono","`"))||_.parseEndTag("bold","*","afterBold")||_.parseEndTag("ital","_","afterItal")||_.parseEndTag("mono","`","afterMono")||(_.add(E),x=!1),_.position++}return _.emitBlock(),_.blocks}},{key:"splitBlocks",value:function(b,w){var k=this.decodeMarkupSystem(w);return"none"===k?[{text:b,mod:"normal"}]:"markdown"===k?this.splitMarkdownBlocks(b):"html"===k?this.splitHtmlBlocks(b):void 0}},{key:"overMaxWidth",value:function(b){var w=(this||k).ctx.measureText(b).width;return(this||k).lines.curWidth()+w>(this||k).parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(b){for(var w="",k=0;k<b.length;){var _=w+(""===w?"":" ")+b[k];if(this.overMaxWidth(_))break;w=_,k++}return k}},{key:"getLongestFitWord",value:function(b){for(var w=0;w<b.length&&!this.overMaxWidth(Cu(b).call(b,0,w));)w++;return w}},{key:"splitStringIntoLines",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",_=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(this||k).parent.getFormattingValues((this||k).ctx,(this||k).selected,(this||k).hover,w);for(var x=(b=(b=b.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");x.length>0;){var E=this.getLongestFit(x);if(0===E){var O=x[0],C=this.getLongestFitWord(O);(this||k).lines.newLine(Cu(O).call(O,0,C),w),x[0]=Cu(O).call(O,C)}else{var S=E;" "===x[E-1]?E--:" "===x[S]&&S++;var T=Cu(x).call(x,0,E).join("");E==x.length&&_?(this||k).lines.append(T,w):(this||k).lines.newLine(T,w),x=Cu(x).call(x,S)}}}}]),t}(),Ik=["bold","ital","boldital","mono"],zk=function(){function t(b,w){var _=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Xl(this||k,t),(this||k).body=b,(this||k).pointToSelf=!1,(this||k).baseSize=void 0,(this||k).fontOptions={},this.setOptions(w),(this||k).size={top:0,left:0,width:0,height:0,yLine:0},(this||k).isEdgeLabel=_}return $l(t,[{key:"setOptions",value:function(b){if((this||k).elementOptions=b,this.initFontOptions(b.font),ek(b.label)?(this||k).labelDirty=!0:b.label=void 0,void 0!==b.font&&null!==b.font)if("string"==typeof b.font)(this||k).baseSize=(this||k).fontOptions.size;else if("object"===Qc(b.font)){var w=b.font.size;void 0!==w&&((this||k).baseSize=w)}}},{key:"initFontOptions",value:function(b){var w=this||k;Wy(Ik,(function(b){w.fontOptions[b]={}})),t.parseFontString((this||k).fontOptions,b)?(this||k).fontOptions.vadjust=0:Wy(b,(function(b,k){null!=b&&"object"!==Qc(b)&&(w.fontOptions[k]=b)}))}},{key:"constrain",value:function(b){var w={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},k=im(b,"widthConstraint");if("number"==typeof k)w.maxWdt=Number(k),w.minWdt=Number(k);else if("object"===Qc(k)){var _=im(b,["widthConstraint","maximum"]);"number"==typeof _&&(w.maxWdt=Number(_));var x=im(b,["widthConstraint","minimum"]);"number"==typeof x&&(w.minWdt=Number(x))}var E=im(b,"heightConstraint");if("number"==typeof E)w.minHgt=Number(E);else if("object"===Qc(E)){var O=im(b,["heightConstraint","minimum"]);"number"==typeof O&&(w.minHgt=Number(O));var C=im(b,["heightConstraint","valign"]);"string"==typeof C&&("top"!==C&&"bottom"!==C||(w.valign=C))}return w}},{key:"update",value:function(b,w){this.setOptions(b,!0),this.propagateFonts(w),Ry((this||k).fontOptions,this.constrain(w)),(this||k).fontOptions.chooser=Jw("label",w)}},{key:"adjustSizes",value:function(b){var w=b?b.right+b.left:0;(this||k).fontOptions.constrainWidth&&((this||k).fontOptions.maxWdt-=w,(this||k).fontOptions.minWdt-=w);var _=b?b.top+b.bottom:0;(this||k).fontOptions.constrainHeight&&((this||k).fontOptions.minHgt-=_)}},{key:"addFontOptionsToPile",value:function(b,w){for(var k=0;k<w.length;++k)this.addFontToPile(b,w[k])}},{key:"addFontToPile",value:function(b,w){if(void 0!==w&&void 0!==w.font&&null!==w.font){var k=w.font;b.push(k)}}},{key:"getBasicOptions",value:function(b){for(var w={},k=0;k<b.length;++k){var _=b[k],x={};t.parseFontString(x,_)&&(_=x),Wy(_,(function(b,k){void 0!==b&&(Object.prototype.hasOwnProperty.call(w,k)||(-1!==Jp(Ik).call(Ik,k)?w[k]={}:w[k]=b))}))}return w}},{key:"getFontOption",value:function(b,w,_){for(var x,E=0;E<b.length;++E){var O=b[E];if(Object.prototype.hasOwnProperty.call(O,w)){if(null==(x=O[w]))continue;var C={};if(t.parseFontString(C,x)&&(x=C),Object.prototype.hasOwnProperty.call(x,_))return x[_]}}if(Object.prototype.hasOwnProperty.call((this||k).fontOptions,_))return(this||k).fontOptions[_];throw new Error("Did not find value for multi-font for property: '"+_+"'")}},{key:"getFontOptions",value:function(b,w){for(var k={},_=["color","size","face","mod","vadjust"],x=0;x<_.length;++x){var E=_[x];k[E]=this.getFontOption(b,w,E)}return k}},{key:"propagateFonts",value:function(b){var w=this||k,_=[];this.addFontOptionsToPile(_,b),(this||k).fontOptions=this.getBasicOptions(_);for(var o=function(b){var k=Ik[b],x=w.fontOptions[k];Wy(w.getFontOptions(_,k),(function(b,w){x[w]=b})),x.size=Number(x.size),x.vadjust=Number(x.vadjust)},x=0;x<Ik.length;++x)o(x)}},{key:"draw",value:function(b,w,_,x,E){var O=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==(this||k).elementOptions.label){var C=(this||k).fontOptions.size*(this||k).body.view.scale;(this||k).elementOptions.label&&C<(this||k).elementOptions.scaling.label.drawThreshold-1||(C>=(this||k).elementOptions.scaling.label.maxVisible&&(C=Number((this||k).elementOptions.scaling.label.maxVisible)/(this||k).body.view.scale),this.calculateLabelSize(b,x,E,w,_,O),this._drawBackground(b),this._drawText(b,w,(this||k).size.yLine,O,C))}}},{key:"_drawBackground",value:function(b){if(void 0!==(this||k).fontOptions.background&&"none"!==(this||k).fontOptions.background){b.fillStyle=(this||k).fontOptions.background;var w=this.getSize();b.fillRect(w.left,w.top,w.width,w.height)}}},{key:"_drawText",value:function(b,w,_){var x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",E=arguments.length>4?arguments[4]:void 0,O=this._setAlignment(b,w,_,x),C=$c(O,2);w=C[0],_=C[1],b.textAlign="left",w-=(this||k).size.width/2,(this||k).fontOptions.valign&&(this||k).size.height>(this||k).size.labelHeight&&("top"===(this||k).fontOptions.valign&&(_-=((this||k).size.height-(this||k).size.labelHeight)/2),"bottom"===(this||k).fontOptions.valign&&(_+=((this||k).size.height-(this||k).size.labelHeight)/2));for(var S=0;S<(this||k).lineCount;S++){var T=(this||k).lines[S];if(T&&T.blocks){var M=0;(this||k).isEdgeLabel||"center"===(this||k).fontOptions.align?M+=((this||k).size.width-T.width)/2:"right"===(this||k).fontOptions.align&&(M+=(this||k).size.width-T.width);for(var D=0;D<T.blocks.length;D++){var B=T.blocks[D];b.font=B.font;var I=this._getColor(B.color,E,B.strokeColor),F=$c(I,2),N=F[0],A=F[1];B.strokeWidth>0&&(b.lineWidth=B.strokeWidth,b.strokeStyle=A,b.lineJoin="round"),b.fillStyle=N,B.strokeWidth>0&&b.strokeText(B.text,w+M,_+B.vadjust),b.fillText(B.text,w+M,_+B.vadjust),M+=B.width}_+=T.height}}}},{key:"_setAlignment",value:function(b,w,_,x){if((this||k).isEdgeLabel&&"horizontal"!==(this||k).fontOptions.align&&!1===(this||k).pointToSelf){w=0,_=0;"top"===(this||k).fontOptions.align?(b.textBaseline="alphabetic",_-=4):"bottom"===(this||k).fontOptions.align?(b.textBaseline="hanging",_+=4):b.textBaseline="middle"}else b.textBaseline=x;return[w,_]}},{key:"_getColor",value:function(b,w,_){var x=b||"#000000",E=_||"#ffffff";if(w<=(this||k).elementOptions.scaling.label.drawThreshold){var O=Math.max(0,Math.min(1,1-((this||k).elementOptions.scaling.label.drawThreshold-w)));x=qy(x,O),E=qy(E,O)}return[x,E]}},{key:"getTextSize",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(b,w,_),{width:(this||k).size.width,height:(this||k).size.height,lineCount:(this||k).lineCount}}},{key:"getSize",value:function(){var b=(this||k).size.left,w=(this||k).size.top-1;if((this||k).isEdgeLabel){var _=.5*-(this||k).size.width;switch((this||k).fontOptions.align){case"middle":b=_,w=.5*-(this||k).size.height;break;case"top":b=_,w=-((this||k).size.height+2);break;case"bottom":b=_,w=2}}return{left:b,top:w,width:(this||k).size.width,height:(this||k).size.height}}},{key:"calculateLabelSize",value:function(b,w,_){var x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,O=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(b,w,_),(this||k).size.left=x-.5*(this||k).size.width,(this||k).size.top=E-.5*(this||k).size.height,(this||k).size.yLine=E+.5*(1-(this||k).lineCount)*(this||k).fontOptions.size,"hanging"===O&&((this||k).size.top+=.5*(this||k).fontOptions.size,(this||k).size.top+=4,(this||k).size.yLine+=4)}},{key:"getFormattingValues",value:function(b,w,_,x){var n=function(b,w,k){return"normal"===w?"mod"===k?"":b[k]:void 0!==b[w][k]?b[w][k]:b[k]},E={color:n((this||k).fontOptions,x,"color"),size:n((this||k).fontOptions,x,"size"),face:n((this||k).fontOptions,x,"face"),mod:n((this||k).fontOptions,x,"mod"),vadjust:n((this||k).fontOptions,x,"vadjust"),strokeWidth:(this||k).fontOptions.strokeWidth,strokeColor:(this||k).fontOptions.strokeColor};(w||_)&&("normal"===x&&!0===(this||k).fontOptions.chooser&&(this||k).elementOptions.labelHighlightBold?E.mod="bold":"function"==typeof(this||k).fontOptions.chooser&&(this||k).fontOptions.chooser(E,(this||k).elementOptions.id,w,_));var O="";return void 0!==E.mod&&""!==E.mod&&(O+=E.mod+" "),O+=E.size+"px "+E.face,b.font=O.replace(/"/g,""),E.font=b.font,E.height=E.size,E}},{key:"differentState",value:function(b,w){return b!==(this||k).selectedState||w!==(this||k).hoverState}},{key:"_processLabelText",value:function(b,w,_,x){return new Bk(b,this||k,w,_).process(x)}},{key:"_processLabel",value:function(b,w,_){if(!1!==(this||k).labelDirty||this.differentState(w,_)){var x=this._processLabelText(b,w,_,(this||k).elementOptions.label);(this||k).fontOptions.minWdt>0&&x.width<(this||k).fontOptions.minWdt&&(x.width=(this||k).fontOptions.minWdt),(this||k).size.labelHeight=x.height,(this||k).fontOptions.minHgt>0&&x.height<(this||k).fontOptions.minHgt&&(x.height=(this||k).fontOptions.minHgt),(this||k).lines=x.lines,(this||k).lineCount=x.lines.length,(this||k).size.width=x.width,(this||k).size.height=x.height,(this||k).selectedState=w,(this||k).hoverState=_,(this||k).labelDirty=!1}}},{key:"visible",value:function(){return 0!==(this||k).size.width&&0!==(this||k).size.height&&void 0!==(this||k).elementOptions.label&&!((this||k).fontOptions.size*(this||k).body.view.scale<(this||k).elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(b,w){if(!w||"string"!=typeof w)return!1;var k=w.split(" ");return b.size=+k[0].replace("px",""),b.face=k[1],b.color=k[2],!0}}]),t}(),Fk=Oa,Nk=wt,Lk=x.TypeError,Wk=xi,qk=M,$k=Ko,xk=function(b){if(Fk(b))return b;throw Lk(Nk(b)+" is not a constructor")},Yk=Ze,Gk=X,Qk=jr,i_=r,n_=J("Reflect","construct"),s_=Object.prototype,h_=[].push,l_=i_((function(){function t(){}return!(n_((function(){}),[],t)instanceof t)})),u_=!i_((function(){n_((function(){}))})),p_=l_||u_;Wk({target:"Reflect",stat:!0,forced:p_,sham:p_},{construct:function(b,w){xk(b),Yk(w);var k=arguments.length<3?b:xk(arguments[2]);if(u_&&!l_)return n_(b,w,k);if(b==k){switch(w.length){case 0:return new b;case 1:return new b(w[0]);case 2:return new b(w[0],w[1]);case 3:return new b(w[0],w[1],w[2]);case 4:return new b(w[0],w[1],w[2],w[3])}var _=[null];return qk(h_,_,w),new(qk($k,b,_))}var x=k.prototype,E=Qk(Gk(x)?x:s_),O=qk(b,E,w);return Gk(O)?O:E}});var g_=ft.Reflect.construct,m_=Lp;xi({target:"Object",stat:!0},{setPrototypeOf:Bs});var w_=ft.Object.setPrototypeOf;function Ak(b,w){return Ak=w_||function(b,w){return b.__proto__=w,b},Ak(b,w)}function Rk(b,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");b.prototype=m_(w&&w.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),vc(b,"prototype",{writable:!1}),w&&Ak(b,w)}function jk(b,w){if(w&&("object"===Qc(w)||"function"==typeof w))return w;if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");return function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(b)}var __=op;function Hk(b){return Hk=w_?__:function(b){return b.__proto__||__(b)},Hk(b)}var E_=function(){function t(b,w,_){Xl(this||k,t),(this||k).body=w,(this||k).labelModule=_,this.setOptions(b),(this||k).top=void 0,(this||k).left=void 0,(this||k).height=void 0,(this||k).width=void 0,(this||k).radius=void 0,(this||k).margin=void 0,(this||k).refreshNeeded=!0,(this||k).boundingBox={top:0,left:0,right:0,bottom:0}}return $l(t,[{key:"setOptions",value:function(b){(this||k).options=b}},{key:"_setMargins",value:function(b){(this||k).margin={},(this||k).options.margin&&("object"==Qc((this||k).options.margin)?((this||k).margin.top=(this||k).options.margin.top,(this||k).margin.right=(this||k).options.margin.right,(this||k).margin.bottom=(this||k).options.margin.bottom,(this||k).margin.left=(this||k).options.margin.left):((this||k).margin.top=(this||k).options.margin,(this||k).margin.right=(this||k).options.margin,(this||k).margin.bottom=(this||k).options.margin,(this||k).margin.left=(this||k).options.margin)),b.adjustSizes((this||k).margin)}},{key:"_distanceToBorder",value:function(b,w){var _=(this||k).options.borderWidth;return b&&this.resize(b),Math.min(Math.abs((this||k).width/2/Math.cos(w)),Math.abs((this||k).height/2/Math.sin(w)))+_}},{key:"enableShadow",value:function(b,w){w.shadow&&(b.shadowColor=w.shadowColor,b.shadowBlur=w.shadowSize,b.shadowOffsetX=w.shadowX,b.shadowOffsetY=w.shadowY)}},{key:"disableShadow",value:function(b,w){w.shadow&&(b.shadowColor="rgba(0,0,0,0)",b.shadowBlur=0,b.shadowOffsetX=0,b.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(b,w){if(!1!==w.borderDashes)if(void 0!==b.setLineDash){var _=w.borderDashes;!0===_&&(_=[5,15]),b.setLineDash(_)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),(this||k).options.shapeProperties.borderDashes=!1,w.borderDashes=!1}},{key:"disableBorderDashes",value:function(b,w){!1!==w.borderDashes&&(void 0!==b.setLineDash?b.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),(this||k).options.shapeProperties.borderDashes=!1,w.borderDashes=!1))}},{key:"needsRefresh",value:function(b,w){return!0===(this||k).refreshNeeded?((this||k).refreshNeeded=!1,!0):void 0===(this||k).width||(this||k).labelModule.differentState(b,w)}},{key:"initContextForDraw",value:function(b,w){var _=w.borderWidth/(this||k).body.view.scale;b.lineWidth=Math.min((this||k).width,_),b.strokeStyle=w.borderColor,b.fillStyle=w.color}},{key:"performStroke",value:function(b,w){var _=w.borderWidth/(this||k).body.view.scale;b.save(),_>0&&(this.enableBorderDashes(b,w),b.stroke(),this.disableBorderDashes(b,w)),b.restore()}},{key:"performFill",value:function(b,w){b.save(),b.fillStyle=w.color,this.enableShadow(b,w),Qv(b).call(b),this.disableShadow(b,w),b.restore(),this.performStroke(b,w)}},{key:"_addBoundingBoxMargin",value:function(b){(this||k).boundingBox.left-=b,(this||k).boundingBox.top-=b,(this||k).boundingBox.bottom+=b,(this||k).boundingBox.right+=b}},{key:"_updateBoundingBox",value:function(b,w,_,x,E){void 0!==_&&this.resize(_,x,E),(this||k).left=b-(this||k).width/2,(this||k).top=w-(this||k).height/2,(this||k).boundingBox.left=(this||k).left,(this||k).boundingBox.top=(this||k).top,(this||k).boundingBox.bottom=(this||k).top+(this||k).height,(this||k).boundingBox.right=(this||k).left+(this||k).width}},{key:"updateBoundingBox",value:function(b,w,k,_,x){this._updateBoundingBox(b,w,k,_,x)}},{key:"getDimensionsFromLabel",value:function(b,w,_){(this||k).textSize=(this||k).labelModule.getTextSize(b,w,_);var x=(this||k).textSize.width,E=(this||k).textSize.height;return 0===x&&(x=14,E=14),{width:x,height:E}}}]),t}();function Vk(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var C_=function(b){Rk(i,b);var w=Vk(i);function i(b,_,x){var E;return Xl(this||k,i),(E=w.call(this||k,b,_,x))._setMargins(x),E}return $l(i,[{key:"resize",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(this||k).selected,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(this||k).hover;if(this.needsRefresh(w,_)){var x=this.getDimensionsFromLabel(b,w,_);(this||k).width=x.width+(this||k).margin.right+(this||k).margin.left,(this||k).height=x.height+(this||k).margin.top+(this||k).margin.bottom,(this||k).radius=(this||k).width/2}}},{key:"draw",value:function(b,w,_,x,E,O){this.resize(b,x,E),(this||k).left=w-(this||k).width/2,(this||k).top=_-(this||k).height/2,this.initContextForDraw(b,O),Ao(b,(this||k).left,(this||k).top,(this||k).width,(this||k).height,O.borderRadius),this.performFill(b,O),this.updateBoundingBox(w,_,b,x,E),(this||k).labelModule.draw(b,(this||k).left+(this||k).textSize.width/2+(this||k).margin.left,(this||k).top+(this||k).textSize.height/2+(this||k).margin.top,x,E)}},{key:"updateBoundingBox",value:function(b,w,_,x,E){this._updateBoundingBox(b,w,_,x,E);var O=(this||k).options.shapeProperties.borderRadius;this._addBoundingBoxMargin(O)}},{key:"distanceToBorder",value:function(b,w){b&&this.resize(b);var _=(this||k).options.borderWidth;return Math.min(Math.abs((this||k).width/2/Math.cos(w)),Math.abs((this||k).height/2/Math.sin(w)))+_}}]),i}(E_);function Uk(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var M_=function(b){Rk(i,b);var w=Uk(i);function i(b,_,x){var E;return Xl(this||k,i),(E=w.call(this||k,b,_,x)).labelOffset=0,E.selected=!1,E}return $l(i,[{key:"setOptions",value:function(b,w,_){(this||k).options=b,void 0===w&&void 0===_||this.setImages(w,_)}},{key:"setImages",value:function(b,w){w&&(this||k).selected?((this||k).imageObj=w,(this||k).imageObjAlt=b):((this||k).imageObj=b,(this||k).imageObjAlt=w)}},{key:"switchImages",value:function(b){var w=b&&!(this||k).selected||!b&&(this||k).selected;if((this||k).selected=b,void 0!==(this||k).imageObjAlt&&w){var _=(this||k).imageObj;(this||k).imageObj=(this||k).imageObjAlt,(this||k).imageObjAlt=_}}},{key:"_getImagePadding",value:function(){var b={top:0,right:0,bottom:0,left:0};if((this||k).options.imagePadding){var w=(this||k).options.imagePadding;"object"==Qc(w)?(b.top=w.top,b.right=w.right,b.bottom=w.bottom,b.left=w.left):(b.top=w,b.right=w,b.bottom=w,b.left=w)}return b}},{key:"_resizeImage",value:function(){var b,w;if(!1===(this||k).options.shapeProperties.useImageSize){var _=1,x=1;(this||k).imageObj.width&&(this||k).imageObj.height&&((this||k).imageObj.width>(this||k).imageObj.height?_=(this||k).imageObj.width/(this||k).imageObj.height:x=(this||k).imageObj.height/(this||k).imageObj.width),b=2*(this||k).options.size*_,w=2*(this||k).options.size*x}else{var E=this._getImagePadding();b=(this||k).imageObj.width+E.left+E.right,w=(this||k).imageObj.height+E.top+E.bottom}(this||k).width=b,(this||k).height=w,(this||k).radius=.5*(this||k).width}},{key:"_drawRawCircle",value:function(b,w,k,_){this.initContextForDraw(b,_),No(b,w,k,_.size),this.performFill(b,_)}},{key:"_drawImageAtPosition",value:function(b,w){if(0!=(this||k).imageObj.width){b.globalAlpha=void 0!==w.opacity?w.opacity:1,this.enableShadow(b,w);var _=1;!0===(this||k).options.shapeProperties.interpolation&&(_=(this||k).imageObj.width/(this||k).width/(this||k).body.view.scale);var x=this._getImagePadding(),E=(this||k).left+x.left,O=(this||k).top+x.top,C=(this||k).width-x.left-x.right,S=(this||k).height-x.top-x.bottom;(this||k).imageObj.drawImageAtPosition(b,_,E,O,C,S),this.disableShadow(b,w)}}},{key:"_drawImageLabel",value:function(b,w,_,x,E){var O=0;if(void 0!==(this||k).height){O=.5*(this||k).height;var C=(this||k).labelModule.getTextSize(b,x,E);C.lineCount>=1&&(O+=C.height/2)}var S=_+O;(this||k).options.label&&((this||k).labelOffset=O),(this||k).labelModule.draw(b,w,S,x,E,"hanging")}}]),i}(E_);function Xk(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var B_=function(b){Rk(i,b);var w=Xk(i);function i(b,_,x){var E;return Xl(this||k,i),(E=w.call(this||k,b,_,x))._setMargins(x),E}return $l(i,[{key:"resize",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(this||k).selected,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(this||k).hover;if(this.needsRefresh(w,_)){var x=this.getDimensionsFromLabel(b,w,_),E=Math.max(x.width+(this||k).margin.right+(this||k).margin.left,x.height+(this||k).margin.top+(this||k).margin.bottom);(this||k).options.size=E/2,(this||k).width=E,(this||k).height=E,(this||k).radius=(this||k).width/2}}},{key:"draw",value:function(b,w,_,x,E,O){this.resize(b,x,E),(this||k).left=w-(this||k).width/2,(this||k).top=_-(this||k).height/2,this._drawRawCircle(b,w,_,O),this.updateBoundingBox(w,_),(this||k).labelModule.draw(b,(this||k).left+(this||k).textSize.width/2+(this||k).margin.left,_,x,E)}},{key:"updateBoundingBox",value:function(b,w){(this||k).boundingBox.top=w-(this||k).options.size,(this||k).boundingBox.left=b-(this||k).options.size,(this||k).boundingBox.right=b+(this||k).options.size,(this||k).boundingBox.bottom=w+(this||k).options.size}},{key:"distanceToBorder",value:function(b){return b&&this.resize(b),.5*(this||k).width}}]),i}(M_);function Kk(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var I_=function(b){Rk(i,b);var w=Kk(i);function i(b,_,x,E,O){var C;return Xl(this||k,i),(C=w.call(this||k,b,_,x)).setImages(E,O),C}return $l(i,[{key:"resize",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(this||k).selected,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(this||k).hover,x=void 0===(this||k).imageObj.src||void 0===(this||k).imageObj.width||void 0===(this||k).imageObj.height;if(x){var E=2*(this||k).options.size;return(this||k).width=E,(this||k).height=E,void((this||k).radius=.5*(this||k).width)}this.needsRefresh(w,_)&&this._resizeImage()}},{key:"draw",value:function(b,w,_,x,E,O){this.switchImages(x),this.resize();var C=w,S=_;"top-left"===(this||k).options.shapeProperties.coordinateOrigin?((this||k).left=w,(this||k).top=_,C+=(this||k).width/2,S+=(this||k).height/2):((this||k).left=w-(this||k).width/2,(this||k).top=_-(this||k).height/2),this._drawRawCircle(b,C,S,O),b.save(),b.clip(),this._drawImageAtPosition(b,O),b.restore(),this._drawImageLabel(b,C,S,x,E),this.updateBoundingBox(w,_)}},{key:"updateBoundingBox",value:function(b,w){"top-left"===(this||k).options.shapeProperties.coordinateOrigin?((this||k).boundingBox.top=w,(this||k).boundingBox.left=b,(this||k).boundingBox.right=b+2*(this||k).options.size,(this||k).boundingBox.bottom=w+2*(this||k).options.size):((this||k).boundingBox.top=w-(this||k).options.size,(this||k).boundingBox.left=b-(this||k).options.size,(this||k).boundingBox.right=b+(this||k).options.size,(this||k).boundingBox.bottom=w+(this||k).options.size),(this||k).boundingBox.left=Math.min((this||k).boundingBox.left,(this||k).labelModule.size.left),(this||k).boundingBox.right=Math.max((this||k).boundingBox.right,(this||k).labelModule.size.left+(this||k).labelModule.size.width),(this||k).boundingBox.bottom=Math.max((this||k).boundingBox.bottom,(this||k).boundingBox.bottom+(this||k).labelOffset)}},{key:"distanceToBorder",value:function(b){return b&&this.resize(b),.5*(this||k).width}}]),i}(M_);function Zk(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var z_=function(b){Rk(i,b);var w=Zk(i);function i(b,_,x){return Xl(this||k,i),w.call(this||k,b,_,x)}return $l(i,[{key:"resize",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(this||k).selected,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(this||k).hover,x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:(this||k).options.size};if(this.needsRefresh(w,_)){var E,O;(this||k).labelModule.getTextSize(b,w,_);var C=2*x.size;(this||k).width=null!==(E=(this||k).customSizeWidth)&&void 0!==E?E:C,(this||k).height=null!==(O=(this||k).customSizeHeight)&&void 0!==O?O:C,(this||k).radius=.5*(this||k).width}}},{key:"_drawShape",value:function(b,w,_,x,E,O,C,S){var T,M=this||k;return this.resize(b,O,C,S),(this||k).left=x-(this||k).width/2,(this||k).top=E-(this||k).height/2,this.initContextForDraw(b,S),(T=w,Object.prototype.hasOwnProperty.call(sn,T)?sn[T]:function(b){for(var w=arguments.length,k=new Array(w>1?w-1:0),_=1;_<w;_++)k[_-1]=arguments[_];CanvasRenderingContext2D.prototype[T].call(b,k)})(b,x,E,S.size),this.performFill(b,S),void 0!==(this||k).options.icon&&void 0!==(this||k).options.icon.code&&(b.font=(O?"bold ":"")+(this||k).height/2+"px "+((this||k).options.icon.face||"FontAwesome"),b.fillStyle=(this||k).options.icon.color||"black",b.textAlign="center",b.textBaseline="middle",b.fillText((this||k).options.icon.code,x,E)),{drawExternalLabel:function(){if(void 0!==M.options.label){M.labelModule.calculateLabelSize(b,O,C,x,E,"hanging");var w=E+.5*M.height+.5*M.labelModule.size.height;M.labelModule.draw(b,x,w,O,C,"hanging")}M.updateBoundingBox(x,E)}}}},{key:"updateBoundingBox",value:function(b,w){(this||k).boundingBox.top=w-(this||k).options.size,(this||k).boundingBox.left=b-(this||k).options.size,(this||k).boundingBox.right=b+(this||k).options.size,(this||k).boundingBox.bottom=w+(this||k).options.size,void 0!==(this||k).options.label&&(this||k).labelModule.size.width>0&&((this||k).boundingBox.left=Math.min((this||k).boundingBox.left,(this||k).labelModule.size.left),(this||k).boundingBox.right=Math.max((this||k).boundingBox.right,(this||k).labelModule.size.left+(this||k).labelModule.size.width),(this||k).boundingBox.bottom=Math.max((this||k).boundingBox.bottom,(this||k).boundingBox.bottom+(this||k).labelModule.size.height))}}]),i}(E_);function Jk(b,w){var k=Au(b);if(Cl){var _=Cl(b);w&&(_=cp(_).call(_,(function(w){return Al(b,w).enumerable}))),k.push.apply(k,_)}return k}function t_(b){for(var w=1;w<arguments.length;w++){var k,_,x=null!=arguments[w]?arguments[w]:{};w%2?Fu(k=Jk(Object(x),!0)).call(k,(function(w){Zl(b,w,x[w])})):Ql?sc(b,Ql(x)):Fu(_=Jk(Object(x))).call(_,(function(w){pc(b,w,Al(x,w))}))}return b}function e_(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var F_=function(b){Rk(i,b);var w=e_(i);function i(b,_,x,E){var O;return Xl(this||k,i),(O=w.call(this||k,b,_,x,E)).ctxRenderer=E,O}return $l(i,[{key:"draw",value:function(b,w,_,x,E,O){this.resize(b,x,E,O),(this||k).left=w-(this||k).width/2,(this||k).top=_-(this||k).height/2,b.save();var C=this.ctxRenderer({ctx:b,id:(this||k).options.id,x:w,y:_,state:{selected:x,hover:E},style:t_({},O),label:(this||k).options.label});if(null!=C.drawNode&&C.drawNode(),b.restore(),C.drawExternalLabel){var S=C.drawExternalLabel;C.drawExternalLabel=function(){b.save(),S(),b.restore()}}return C.nodeDimensions&&((this||k).customSizeWidth=C.nodeDimensions.width,(this||k).customSizeHeight=C.nodeDimensions.height),C}},{key:"distanceToBorder",value:function(b,w){return this._distanceToBorder(b,w)}}]),i}(z_);function o_(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var N_=function(b){Rk(i,b);var w=o_(i);function i(b,_,x){var E;return Xl(this||k,i),(E=w.call(this||k,b,_,x))._setMargins(x),E}return $l(i,[{key:"resize",value:function(b,w,_){if(this.needsRefresh(w,_)){var x=this.getDimensionsFromLabel(b,w,_).width+(this||k).margin.right+(this||k).margin.left;(this||k).width=x,(this||k).height=x,(this||k).radius=(this||k).width/2}}},{key:"draw",value:function(b,w,_,x,E,O){this.resize(b,x,E),(this||k).left=w-(this||k).width/2,(this||k).top=_-(this||k).height/2,this.initContextForDraw(b,O),jo(b,w-(this||k).width/2,_-(this||k).height/2,(this||k).width,(this||k).height),this.performFill(b,O),this.updateBoundingBox(w,_,b,x,E),(this||k).labelModule.draw(b,(this||k).left+(this||k).textSize.width/2+(this||k).margin.left,(this||k).top+(this||k).textSize.height/2+(this||k).margin.top,x,E)}},{key:"distanceToBorder",value:function(b,w){return this._distanceToBorder(b,w)}}]),i}(E_);function r_(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var R_=function(b){Rk(i,b);var w=r_(i);function i(b,_,x){return Xl(this||k,i),w.call(this||k,b,_,x)}return $l(i,[{key:"draw",value:function(b,w,k,_,x,E){return this._drawShape(b,"diamond",4,w,k,_,x,E)}},{key:"distanceToBorder",value:function(b,w){return this._distanceToBorder(b,w)}}]),i}(z_);function a_(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var j_=function(b){Rk(i,b);var w=a_(i);function i(b,_,x){return Xl(this||k,i),w.call(this||k,b,_,x)}return $l(i,[{key:"draw",value:function(b,w,k,_,x,E){return this._drawShape(b,"circle",2,w,k,_,x,E)}},{key:"distanceToBorder",value:function(b){return b&&this.resize(b),(this||k).options.size}}]),i}(z_);function d_(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var L_=function(b){Rk(i,b);var w=d_(i);function i(b,_,x){return Xl(this||k,i),w.call(this||k,b,_,x)}return $l(i,[{key:"resize",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(this||k).selected,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(this||k).hover;if(this.needsRefresh(w,_)){var x=this.getDimensionsFromLabel(b,w,_);(this||k).height=2*x.height,(this||k).width=x.width+x.height,(this||k).radius=.5*(this||k).width}}},{key:"draw",value:function(b,w,_,x,E,O){this.resize(b,x,E),(this||k).left=w-.5*(this||k).width,(this||k).top=_-.5*(this||k).height,this.initContextForDraw(b,O),Ro(b,(this||k).left,(this||k).top,(this||k).width,(this||k).height),this.performFill(b,O),this.updateBoundingBox(w,_,b,x,E),(this||k).labelModule.draw(b,w,_,x,E)}},{key:"distanceToBorder",value:function(b,w){b&&this.resize(b);var _=.5*(this||k).width,x=.5*(this||k).height,E=Math.sin(w)*_,O=Math.cos(w)*x;return _*x/Math.sqrt(E*E+O*O)}}]),i}(E_);function c_(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var H_=function(b){Rk(i,b);var w=c_(i);function i(b,_,x){var E;return Xl(this||k,i),(E=w.call(this||k,b,_,x))._setMargins(x),E}return $l(i,[{key:"resize",value:function(b,w,_){this.needsRefresh(w,_)&&((this||k).iconSize={width:Number((this||k).options.icon.size),height:Number((this||k).options.icon.size)},(this||k).width=(this||k).iconSize.width+(this||k).margin.right+(this||k).margin.left,(this||k).height=(this||k).iconSize.height+(this||k).margin.top+(this||k).margin.bottom,(this||k).radius=.5*(this||k).width)}},{key:"draw",value:function(b,w,_,x,E,O){var C=this||k;return this.resize(b,x,E),(this||k).options.icon.size=(this||k).options.icon.size||50,(this||k).left=w-(this||k).width/2,(this||k).top=_-(this||k).height/2,this._icon(b,w,_,x,E,O),{drawExternalLabel:function(){void 0!==C.options.label&&C.labelModule.draw(b,C.left+C.iconSize.width/2+C.margin.left,_+C.height/2+5,x);C.updateBoundingBox(w,_)}}}},{key:"updateBoundingBox",value:function(b,w){((this||k).boundingBox.top=w-.5*(this||k).options.icon.size,(this||k).boundingBox.left=b-.5*(this||k).options.icon.size,(this||k).boundingBox.right=b+.5*(this||k).options.icon.size,(this||k).boundingBox.bottom=w+.5*(this||k).options.icon.size,void 0!==(this||k).options.label&&(this||k).labelModule.size.width>0)&&((this||k).boundingBox.left=Math.min((this||k).boundingBox.left,(this||k).labelModule.size.left),(this||k).boundingBox.right=Math.max((this||k).boundingBox.right,(this||k).labelModule.size.left+(this||k).labelModule.size.width),(this||k).boundingBox.bottom=Math.max((this||k).boundingBox.bottom,(this||k).boundingBox.bottom+(this||k).labelModule.size.height+5))}},{key:"_icon",value:function(b,w,_,x,E,O){var C=Number((this||k).options.icon.size);void 0!==(this||k).options.icon.code?(b.font=[null!=(this||k).options.icon.weight?(this||k).options.icon.weight:x?"bold":"",(null!=(this||k).options.icon.weight&&x?5:0)+C+"px",(this||k).options.icon.face].join(" "),b.fillStyle=(this||k).options.icon.color||"black",b.textAlign="center",b.textBaseline="middle",this.enableShadow(b,O),b.fillText((this||k).options.icon.code,w,_),this.disableShadow(b,O)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(b,w){return this._distanceToBorder(b,w)}}]),i}(E_);function f_(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var X_=function(b){Rk(i,b);var w=f_(i);function i(b,_,x,E,O){var C;return Xl(this||k,i),(C=w.call(this||k,b,_,x)).setImages(E,O),C}return $l(i,[{key:"resize",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(this||k).selected,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(this||k).hover,x=void 0===(this||k).imageObj.src||void 0===(this||k).imageObj.width||void 0===(this||k).imageObj.height;if(x){var E=2*(this||k).options.size;return(this||k).width=E,void((this||k).height=E)}this.needsRefresh(w,_)&&this._resizeImage()}},{key:"draw",value:function(b,w,_,x,E,O){b.save(),this.switchImages(x),this.resize();var C=w,S=_;if("top-left"===(this||k).options.shapeProperties.coordinateOrigin?((this||k).left=w,(this||k).top=_,C+=(this||k).width/2,S+=(this||k).height/2):((this||k).left=w-(this||k).width/2,(this||k).top=_-(this||k).height/2),!0===(this||k).options.shapeProperties.useBorderWithImage){var T=(this||k).options.borderWidth,M=(this||k).options.borderWidthSelected||2*(this||k).options.borderWidth,D=(x?M:T)/(this||k).body.view.scale;b.lineWidth=Math.min((this||k).width,D),b.beginPath();var B=x?(this||k).options.color.highlight.border:E?(this||k).options.color.hover.border:(this||k).options.color.border,I=x?(this||k).options.color.highlight.background:E?(this||k).options.color.hover.background:(this||k).options.color.background;void 0!==O.opacity&&(B=qy(B,O.opacity),I=qy(I,O.opacity)),b.strokeStyle=B,b.fillStyle=I,b.rect((this||k).left-.5*b.lineWidth,(this||k).top-.5*b.lineWidth,(this||k).width+b.lineWidth,(this||k).height+b.lineWidth),Qv(b).call(b),this.performStroke(b,O),b.closePath()}this._drawImageAtPosition(b,O),this._drawImageLabel(b,C,S,x,E),this.updateBoundingBox(w,_),b.restore()}},{key:"updateBoundingBox",value:function(b,w){this.resize(),"top-left"===(this||k).options.shapeProperties.coordinateOrigin?((this||k).left=b,(this||k).top=w):((this||k).left=b-(this||k).width/2,(this||k).top=w-(this||k).height/2),(this||k).boundingBox.left=(this||k).left,(this||k).boundingBox.top=(this||k).top,(this||k).boundingBox.bottom=(this||k).top+(this||k).height,(this||k).boundingBox.right=(this||k).left+(this||k).width,void 0!==(this||k).options.label&&(this||k).labelModule.size.width>0&&((this||k).boundingBox.left=Math.min((this||k).boundingBox.left,(this||k).labelModule.size.left),(this||k).boundingBox.right=Math.max((this||k).boundingBox.right,(this||k).labelModule.size.left+(this||k).labelModule.size.width),(this||k).boundingBox.bottom=Math.max((this||k).boundingBox.bottom,(this||k).boundingBox.bottom+(this||k).labelOffset))}},{key:"distanceToBorder",value:function(b,w){return this._distanceToBorder(b,w)}}]),i}(M_);function v_(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var q_=function(b){Rk(i,b);var w=v_(i);function i(b,_,x){return Xl(this||k,i),w.call(this||k,b,_,x)}return $l(i,[{key:"draw",value:function(b,w,k,_,x,E){return this._drawShape(b,"square",2,w,k,_,x,E)}},{key:"distanceToBorder",value:function(b,w){return this._distanceToBorder(b,w)}}]),i}(z_);function y_(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var $_=function(b){Rk(i,b);var w=y_(i);function i(b,_,x){return Xl(this||k,i),w.call(this||k,b,_,x)}return $l(i,[{key:"draw",value:function(b,w,k,_,x,E){return this._drawShape(b,"hexagon",4,w,k,_,x,E)}},{key:"distanceToBorder",value:function(b,w){return this._distanceToBorder(b,w)}}]),i}(z_);function b_(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var U_=function(b){Rk(i,b);var w=b_(i);function i(b,_,x){return Xl(this||k,i),w.call(this||k,b,_,x)}return $l(i,[{key:"draw",value:function(b,w,k,_,x,E){return this._drawShape(b,"star",4,w,k,_,x,E)}},{key:"distanceToBorder",value:function(b,w){return this._distanceToBorder(b,w)}}]),i}(z_);function k_(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var Y_=function(b){Rk(i,b);var w=k_(i);function i(b,_,x){var E;return Xl(this||k,i),(E=w.call(this||k,b,_,x))._setMargins(x),E}return $l(i,[{key:"resize",value:function(b,w,_){this.needsRefresh(w,_)&&((this||k).textSize=(this||k).labelModule.getTextSize(b,w,_),(this||k).width=(this||k).textSize.width+(this||k).margin.right+(this||k).margin.left,(this||k).height=(this||k).textSize.height+(this||k).margin.top+(this||k).margin.bottom,(this||k).radius=.5*(this||k).width)}},{key:"draw",value:function(b,w,_,x,E,O){this.resize(b,x,E),(this||k).left=w-(this||k).width/2,(this||k).top=_-(this||k).height/2,this.enableShadow(b,O),(this||k).labelModule.draw(b,(this||k).left+(this||k).textSize.width/2+(this||k).margin.left,(this||k).top+(this||k).textSize.height/2+(this||k).margin.top,x,E),this.disableShadow(b,O),this.updateBoundingBox(w,_,b,x,E)}},{key:"distanceToBorder",value:function(b,w){return this._distanceToBorder(b,w)}}]),i}(E_);function x_(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var G_=function(b){Rk(i,b);var w=x_(i);function i(b,_,x){return Xl(this||k,i),w.call(this||k,b,_,x)}return $l(i,[{key:"draw",value:function(b,w,k,_,x,E){return this._drawShape(b,"triangle",3,w,k,_,x,E)}},{key:"distanceToBorder",value:function(b,w){return this._distanceToBorder(b,w)}}]),i}(z_);function O_(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var Q_=function(b){Rk(i,b);var w=O_(i);function i(b,_,x){return Xl(this||k,i),w.call(this||k,b,_,x)}return $l(i,[{key:"draw",value:function(b,w,k,_,x,E){return this._drawShape(b,"triangleDown",3,w,k,_,x,E)}},{key:"distanceToBorder",value:function(b,w){return this._distanceToBorder(b,w)}}]),i}(z_);function S_(b,w){var k=Au(b);if(Cl){var _=Cl(b);w&&(_=cp(_).call(_,(function(w){return Al(b,w).enumerable}))),k.push.apply(k,_)}return k}function T_(b){for(var w=1;w<arguments.length;w++){var k,_,x=null!=arguments[w]?arguments[w]:{};w%2?Fu(k=S_(Object(x),!0)).call(k,(function(w){Zl(b,w,x[w])})):Ql?sc(b,Ql(x)):Fu(_=S_(Object(x))).call(_,(function(w){pc(b,w,Al(x,w))}))}return b}var J_=function(){function t(b,w,_,x,E,O){Xl(this||k,t),(this||k).options=Jy(E),(this||k).globalOptions=E,(this||k).defaultOptions=O,(this||k).body=w,(this||k).edges=[],(this||k).id=void 0,(this||k).imagelist=_,(this||k).grouplist=x,(this||k).x=void 0,(this||k).y=void 0,(this||k).baseSize=(this||k).options.size,(this||k).baseFontSize=(this||k).options.font.size,(this||k).predefinedPosition=!1,(this||k).selected=!1,(this||k).hover=!1,(this||k).labelModule=new zk((this||k).body,(this||k).options,!1),this.setOptions(b)}return $l(t,[{key:"attachEdge",value:function(b){var w;-1===Jp(w=(this||k).edges).call(w,b)&&(this||k).edges.push(b)}},{key:"detachEdge",value:function(b){var w,_,x=Jp(w=(this||k).edges).call(w,b);-1!=x&&Bf(_=(this||k).edges).call(_,x,1)}},{key:"setOptions",value:function(b){var w=(this||k).options.shape;if(b){if(void 0!==b.color&&((this||k)._localColor=b.color),void 0!==b.id&&((this||k).id=b.id),void 0===(this||k).id)throw new Error("Node must have an id");t.checkMass(b,(this||k).id),void 0!==b.x&&(null===b.x?((this||k).x=void 0,(this||k).predefinedPosition=!1):((this||k).x=Hp(b.x),(this||k).predefinedPosition=!0)),void 0!==b.y&&(null===b.y?((this||k).y=void 0,(this||k).predefinedPosition=!1):((this||k).y=Hp(b.y),(this||k).predefinedPosition=!0)),void 0!==b.size&&((this||k).baseSize=b.size),void 0!==b.value&&(b.value=vk(b.value)),t.parseOptions((this||k).options,b,!0,(this||k).globalOptions,(this||k).grouplist);var _=[b,(this||k).options,(this||k).defaultOptions];return(this||k).chooser=Jw("node",_),this._load_images(),this.updateLabelModule(b),void 0!==b.opacity&&t.checkOpacity(b.opacity)&&((this||k).options.opacity=b.opacity),this.updateShape(w),void 0!==b.hidden||void 0!==b.physics}}},{key:"_load_images",value:function(){if(("circularImage"===(this||k).options.shape||"image"===(this||k).options.shape)&&void 0===(this||k).options.image)throw new Error("Option image must be defined for node type '"+(this||k).options.shape+"'");if(void 0!==(this||k).options.image){if(void 0===(this||k).imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof(this||k).options.image)(this||k).imageObj=(this||k).imagelist.load((this||k).options.image,(this||k).options.brokenImage,(this||k).id);else{if(void 0===(this||k).options.image.unselected)throw new Error("No unselected image provided");(this||k).imageObj=(this||k).imagelist.load((this||k).options.image.unselected,(this||k).options.brokenImage,(this||k).id),void 0!==(this||k).options.image.selected?(this||k).imageObjAlt=(this||k).imagelist.load((this||k).options.image.selected,(this||k).options.brokenImage,(this||k).id):(this||k).imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var b={color:(this||k).options.color.background,opacity:(this||k).options.opacity,borderWidth:(this||k).options.borderWidth,borderColor:(this||k).options.color.border,size:(this||k).options.size,borderDashes:(this||k).options.shapeProperties.borderDashes,borderRadius:(this||k).options.shapeProperties.borderRadius,shadow:(this||k).options.shadow.enabled,shadowColor:(this||k).options.shadow.color,shadowSize:(this||k).options.shadow.size,shadowX:(this||k).options.shadow.x,shadowY:(this||k).options.shadow.y};if((this||k).selected||(this||k).hover?!0===(this||k).chooser?(this||k).selected?(null!=(this||k).options.borderWidthSelected?b.borderWidth=(this||k).options.borderWidthSelected:b.borderWidth*=2,b.color=(this||k).options.color.highlight.background,b.borderColor=(this||k).options.color.highlight.border,b.shadow=(this||k).options.shadow.enabled):(this||k).hover&&(b.color=(this||k).options.color.hover.background,b.borderColor=(this||k).options.color.hover.border,b.shadow=(this||k).options.shadow.enabled):"function"==typeof(this||k).chooser&&(this.chooser(b,(this||k).options.id,(this||k).selected,(this||k).hover),!1===b.shadow&&(b.shadowColor===(this||k).options.shadow.color&&b.shadowSize===(this||k).options.shadow.size&&b.shadowX===(this||k).options.shadow.x&&b.shadowY===(this||k).options.shadow.y||(b.shadow=!0))):b.shadow=(this||k).options.shadow.enabled,void 0!==(this||k).options.opacity){var w=(this||k).options.opacity;b.borderColor=qy(b.borderColor,w),b.color=qy(b.color,w),b.shadowColor=qy(b.shadowColor,w)}return b}},{key:"updateLabelModule",value:function(b){void 0!==(this||k).options.label&&null!==(this||k).options.label||((this||k).options.label=""),t.updateGroupOptions((this||k).options,T_(T_({},b),{},{color:b&&b.color||(this||k)._localColor||void 0}),(this||k).grouplist);var w=(this||k).grouplist.get((this||k).options.group,!1),_=[b,(this||k).options,w,(this||k).globalOptions,(this||k).defaultOptions];(this||k).labelModule.update((this||k).options,_),void 0!==(this||k).labelModule.baseSize&&((this||k).baseFontSize=(this||k).labelModule.baseSize)}},{key:"updateShape",value:function(b){if(b===(this||k).options.shape&&(this||k).shape)(this||k).shape.setOptions((this||k).options,(this||k).imageObj,(this||k).imageObjAlt);else switch((this||k).options.shape){case"box":(this||k).shape=new C_((this||k).options,(this||k).body,(this||k).labelModule);break;case"circle":(this||k).shape=new B_((this||k).options,(this||k).body,(this||k).labelModule);break;case"circularImage":(this||k).shape=new I_((this||k).options,(this||k).body,(this||k).labelModule,(this||k).imageObj,(this||k).imageObjAlt);break;case"custom":(this||k).shape=new F_((this||k).options,(this||k).body,(this||k).labelModule,(this||k).options.ctxRenderer);break;case"database":(this||k).shape=new N_((this||k).options,(this||k).body,(this||k).labelModule);break;case"diamond":(this||k).shape=new R_((this||k).options,(this||k).body,(this||k).labelModule);break;case"dot":(this||k).shape=new j_((this||k).options,(this||k).body,(this||k).labelModule);break;case"ellipse":default:(this||k).shape=new L_((this||k).options,(this||k).body,(this||k).labelModule);break;case"icon":(this||k).shape=new H_((this||k).options,(this||k).body,(this||k).labelModule);break;case"image":(this||k).shape=new X_((this||k).options,(this||k).body,(this||k).labelModule,(this||k).imageObj,(this||k).imageObjAlt);break;case"square":(this||k).shape=new q_((this||k).options,(this||k).body,(this||k).labelModule);break;case"hexagon":(this||k).shape=new $_((this||k).options,(this||k).body,(this||k).labelModule);break;case"star":(this||k).shape=new U_((this||k).options,(this||k).body,(this||k).labelModule);break;case"text":(this||k).shape=new Y_((this||k).options,(this||k).body,(this||k).labelModule);break;case"triangle":(this||k).shape=new G_((this||k).options,(this||k).body,(this||k).labelModule);break;case"triangleDown":(this||k).shape=new Q_((this||k).options,(this||k).body,(this||k).labelModule)}this.needsRefresh()}},{key:"select",value:function(){(this||k).selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){(this||k).selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){(this||k).shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return(this||k).options.title}},{key:"distanceToBorder",value:function(b,w){return(this||k).shape.distanceToBorder(b,w)}},{key:"isFixed",value:function(){return(this||k).options.fixed.x&&(this||k).options.fixed.y}},{key:"isSelected",value:function(){return(this||k).selected}},{key:"getValue",value:function(){return(this||k).options.value}},{key:"getLabelSize",value:function(){return(this||k).labelModule.size()}},{key:"setValueRange",value:function(b,w,_){if(void 0!==(this||k).options.value){var x=(this||k).options.scaling.customScalingFunction(b,w,_,(this||k).options.value),E=(this||k).options.scaling.max-(this||k).options.scaling.min;if(!0===(this||k).options.scaling.label.enabled){var O=(this||k).options.scaling.label.max-(this||k).options.scaling.label.min;(this||k).options.font.size=(this||k).options.scaling.label.min+x*O}(this||k).options.size=(this||k).options.scaling.min+x*E}else(this||k).options.size=(this||k).baseSize,(this||k).options.font.size=(this||k).baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(b){var w=this.getFormattingValues();return(this||k).shape.draw(b,(this||k).x,(this||k).y,(this||k).selected,(this||k).hover,w)||{}}},{key:"updateBoundingBox",value:function(b){(this||k).shape.updateBoundingBox((this||k).x,(this||k).y,b)}},{key:"resize",value:function(b){var w=this.getFormattingValues();(this||k).shape.resize(b,(this||k).selected,(this||k).hover,w)}},{key:"getItemsOnPoint",value:function(b){var w=[];return(this||k).labelModule.visible()&&tk((this||k).labelModule.getSize(),b)&&w.push({nodeId:(this||k).id,labelId:0}),tk((this||k).shape.boundingBox,b)&&w.push({nodeId:(this||k).id}),w}},{key:"isOverlappingWith",value:function(b){return(this||k).shape.left<b.right&&(this||k).shape.left+(this||k).shape.width>b.left&&(this||k).shape.top<b.bottom&&(this||k).shape.top+(this||k).shape.height>b.top}},{key:"isBoundingBoxOverlappingWith",value:function(b){return(this||k).shape.boundingBox.left<b.right&&(this||k).shape.boundingBox.right>b.left&&(this||k).shape.boundingBox.top<b.bottom&&(this||k).shape.boundingBox.bottom>b.top}}],[{key:"checkOpacity",value:function(b){return 0<=b&&b<=1}},{key:"checkCoordinateOrigin",value:function(b){return void 0===b||"center"===b||"top-left"===b}},{key:"updateGroupOptions",value:function(b,w,k){var _;if(void 0!==k){var x=b.group;if(void 0!==w&&void 0!==w.group&&x!==w.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof x||"string"==typeof x&&""!=x){var E=k.get(x);void 0!==E.opacity&&void 0===w.opacity&&(t.checkOpacity(E.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+E.opacity),E.opacity=void 0));var O=cp(_=wk(w)).call(_,(function(b){return null!=w[b]}));O.push("font"),Ay(O,b,E),b.color=Yy(b.color)}}}},{key:"parseOptions",value:function(b,w){var k=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},x=arguments.length>4?arguments[4]:void 0,E=["color","fixed","shadow"];if(Ay(E,b,w,k),t.checkMass(w),void 0!==b.opacity&&(t.checkOpacity(b.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+b.opacity),b.opacity=void 0)),void 0!==w.opacity&&(t.checkOpacity(w.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+w.opacity),w.opacity=void 0)),w.shapeProperties&&!t.checkCoordinateOrigin(w.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+w.shapeProperties.coordinateOrigin),tm(b,w,"shadow",_),void 0!==w.color&&null!==w.color){var O=Yy(w.color);Fy(b.color,O)}else!0===k&&null===w.color&&(b.color=Jy(_.color));void 0!==w.fixed&&null!==w.fixed&&("boolean"==typeof w.fixed?(b.fixed.x=w.fixed,b.fixed.y=w.fixed):(void 0!==w.fixed.x&&"boolean"==typeof w.fixed.x&&(b.fixed.x=w.fixed.x),void 0!==w.fixed.y&&"boolean"==typeof w.fixed.y&&(b.fixed.y=w.fixed.y))),!0===k&&null===w.font&&(b.font=Jy(_.font)),t.updateGroupOptions(b,w,x),void 0!==w.scaling&&tm(b.scaling,w.scaling,"label",_.scaling)}},{key:"checkMass",value:function(b,w){if(void 0!==b.mass&&b.mass<=0){var k="";void 0!==w&&(k=" in node id: "+w),console.error("%cNegative or zero mass disallowed"+k+", setting mass to 1.",tb),b.mass=1}}}]),t}();function P_(b,w){var k=void 0!==bu&&kh(b)||b["@@iterator"];if(!k){if(Su(b)||(k=function(b,w){var k;if(b){if("string"==typeof b)return D_(b,w);var _=Cu(k=Object.prototype.toString.call(b)).call(k,8,-1);"Object"===_&&b.constructor&&(_=b.constructor.name);return"Map"===_||"Set"===_?ih(b):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?D_(b,w):void 0}}(b))||w&&b&&"number"==typeof b.length){k&&(b=k);var _=0,n=function(){};return{s:n,n:function(){return _>=b.length?{done:!0}:{done:!1,value:b[_++]}},e:function(b){throw b},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var x,E=!0,O=!1;return{s:function(){k=k.call(b)},n:function(){var b=k.next();return E=b.done,b},e:function(b){O=!0,x=b},f:function(){try{E||null==k.return||k.return()}finally{if(O)throw x}}}}function D_(b,w){(null==w||w>b.length)&&(w=b.length);for(var k=0,_=new Array(w);k<w;k++)_[k]=b[k];return _}var Z_=function(){function t(b,w,_,x){var E,O=this||k;if(Xl(this||k,t),(this||k).body=b,(this||k).images=w,(this||k).groups=_,(this||k).layoutEngine=x,(this||k).body.functions.createNode=rn(E=(this||k).create).call(E,this||k),(this||k).nodesListeners={add:function(b,w){O.add(w.items)},update:function(b,w){O.update(w.items,w.data,w.oldData)},remove:function(b,w){O.remove(w.items)}},(this||k).defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(b,w,k,_){if(w===b)return.5;var x=1/(w-b);return Math.max(0,(_-b)*x)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},(this||k).defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";(this||k).options=Jy((this||k).defaultOptions),this.bindEventListeners()}return $l(t,[{key:"bindEventListeners",value:function(){var b,w,_=this||k;(this||k).body.emitter.on("refreshNodes",rn(b=(this||k).refresh).call(b,this||k)),(this||k).body.emitter.on("refresh",rn(w=(this||k).refresh).call(w,this||k)),(this||k).body.emitter.on("destroy",(function(){Wy(_.nodesListeners,(function(b,w){_.body.data.nodes&&_.body.data.nodes.off(w,b)})),delete _.body.functions.createNode,delete _.nodesListeners.add,delete _.nodesListeners.update,delete _.nodesListeners.remove,delete _.nodesListeners}))}},{key:"setOptions",value:function(b){if(void 0!==b){if(J_.parseOptions((this||k).options,b),void 0!==b.opacity&&(qw(b.opacity)||!Uw(b.opacity)||b.opacity<0||b.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+b.opacity):(this||k).options.opacity=b.opacity),void 0!==b.shape)for(var w in(this||k).body.nodes)Object.prototype.hasOwnProperty.call((this||k).body.nodes,w)&&(this||k).body.nodes[w].updateShape();if(void 0!==b.font||void 0!==b.widthConstraint||void 0!==b.heightConstraint)for(var _=0,x=Au((this||k).body.nodes);_<x.length;_++){var E=x[_];(this||k).body.nodes[E].updateLabelModule(),(this||k).body.nodes[E].needsRefresh()}if(void 0!==b.size)for(var O in(this||k).body.nodes)Object.prototype.hasOwnProperty.call((this||k).body.nodes,O)&&(this||k).body.nodes[O].needsRefresh();void 0===b.hidden&&void 0===b.physics||(this||k).body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(b){var _=arguments.length>1&&void 0!==arguments[1]&&arguments[1],x=(this||k).body.data.nodes;if(w.isDataViewLike("id",b))(this||k).body.data.nodes=b;else if(Su(b))(this||k).body.data.nodes=new w.DataSet,(this||k).body.data.nodes.add(b);else{if(b)throw new TypeError("Array or DataSet expected");(this||k).body.data.nodes=new w.DataSet}if(x&&Wy((this||k).nodesListeners,(function(b,w){x.off(w,b)})),(this||k).body.nodes={},(this||k).body.data.nodes){var E=this||k;Wy((this||k).nodesListeners,(function(b,w){E.body.data.nodes.on(w,b)}));var O=(this||k).body.data.nodes.getIds();this.add(O,!0)}!1===_&&(this||k).body.emitter.emit("_dataChanged")}},{key:"add",value:function(b){for(var w,_=arguments.length>1&&void 0!==arguments[1]&&arguments[1],x=[],E=0;E<b.length;E++){w=b[E];var O=(this||k).body.data.nodes.get(w),C=this.create(O);x.push(C),(this||k).body.nodes[w]=C}(this||k).layoutEngine.positionInitially(x),!1===_&&(this||k).body.emitter.emit("_dataChanged")}},{key:"update",value:function(b,w,_){for(var x=(this||k).body.nodes,E=!1,O=0;O<b.length;O++){var C=b[O],S=x[C],T=w[O];void 0!==S?S.setOptions(T)&&(E=!0):(E=!0,S=this.create(T),x[C]=S)}E||void 0===_||(E=nk(w).call(w,(function(b,w){var k=_[w];return k&&k.level!==b.level}))),!0===E?(this||k).body.emitter.emit("_dataChanged"):(this||k).body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(b){for(var w=(this||k).body.nodes,_=0;_<b.length;_++)delete w[b[_]];(this||k).body.emitter.emit("_dataChanged")}},{key:"create",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J_;return new w(b,(this||k).body,(this||k).images,(this||k).groups,(this||k).options,(this||k).defaultOptions)}},{key:"refresh",value:function(){var b=this||k,w=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Wy((this||k).body.nodes,(function(k,_){var x=b.body.data.nodes.get(_);void 0!==x&&(!0===w&&k.setOptions({x:null,y:null}),k.setOptions({fixed:!1}),k.setOptions(x))}))}},{key:"getPositions",value:function(b){var w={};if(void 0!==b){if(!0===Su(b)){for(var _=0;_<b.length;_++)if(void 0!==(this||k).body.nodes[b[_]]){var x=(this||k).body.nodes[b[_]];w[b[_]]={x:Math.round(x.x),y:Math.round(x.y)}}}else if(void 0!==(this||k).body.nodes[b]){var E=(this||k).body.nodes[b];w[b]={x:Math.round(E.x),y:Math.round(E.y)}}}else for(var O=0;O<(this||k).body.nodeIndices.length;O++){var C=(this||k).body.nodes[(this||k).body.nodeIndices[O]];w[(this||k).body.nodeIndices[O]]={x:Math.round(C.x),y:Math.round(C.y)}}return w}},{key:"getPosition",value:function(b){if(null==b)throw new TypeError("No id was specified for getPosition method.");if(null==(this||k).body.nodes[b])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(b));return{x:Math.round((this||k).body.nodes[b].x),y:Math.round((this||k).body.nodes[b].y)}}},{key:"storePositions",value:function(){var b,w=[],_=(this||k).body.data.nodes.getDataSet(),x=P_(_.get());try{for(x.s();!(b=x.n()).done;){var E=b.value,O=E.id,C=(this||k).body.nodes[O],S=Math.round(C.x),T=Math.round(C.y);E.x===S&&E.y===T||w.push({id:O,x:S,y:T})}}catch(b){x.e(b)}finally{x.f()}_.update(w)}},{key:"getBoundingBox",value:function(b){if(void 0!==(this||k).body.nodes[b])return(this||k).body.nodes[b].shape.boundingBox}},{key:"getConnectedNodes",value:function(b,w){var _=[];if(void 0!==(this||k).body.nodes[b])for(var x=(this||k).body.nodes[b],E={},O=0;O<x.edges.length;O++){var C=x.edges[O];"to"!==w&&C.toId==x.id?void 0===E[C.fromId]&&(_.push(C.fromId),E[C.fromId]=!0):"from"!==w&&C.fromId==x.id&&void 0===E[C.toId]&&(_.push(C.toId),E[C.toId]=!0)}return _}},{key:"getConnectedEdges",value:function(b){var w=[];if(void 0!==(this||k).body.nodes[b])for(var _=(this||k).body.nodes[b],x=0;x<_.edges.length;x++)w.push(_.edges[x].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",b);return w}},{key:"moveNode",value:function(b,w,_){var x=this||k;void 0!==(this||k).body.nodes[b]?((this||k).body.nodes[b].x=Number(w),(this||k).body.nodes[b].y=Number(_),Wv((function(){x.body.emitter.emit("startSimulation")}),0)):console.error("Node id supplied to moveNode does not exist. Provided: ",b)}}]),t}(),tx=he,ex=q,ix=X,ox=Ze,A_=function(b){return void 0!==b&&(tx(b,"value")||tx(b,"writable"))},nx=R,rx=Gr;xi({target:"Reflect",stat:!0},{get:function t(b,w){var k,_,x=arguments.length<3?b:arguments[2];return ox(b)===x?b[w]:(k=nx.f(b,w))?A_(k)?k.value:void 0===k.get?void 0:ex(k.get,x):ix(_=rx(b))?t(_,w,x):void 0}});var sx=ft.Reflect.get,ax=Nl;function W_(b,w){for(;!Object.prototype.hasOwnProperty.call(b,w)&&null!==(b=Hk(b)););return b}function V_(){return V_="undefined"!=typeof Reflect&&sx?sx:function(b,w,k){var _=W_(b,w);if(_){var x=ax(_,w);return x.get?x.get.call(arguments.length<3?b:k):x.value}},V_.apply(this||k,arguments)}var hx=xi,dx=Math.hypot,ux=Math.abs,gx=Math.sqrt;hx({target:"Math",stat:!0,forced:!!dx&&dx(1/0,NaN)!==1/0},{hypot:function(b,w){for(var k,_,x=0,E=0,O=arguments.length,C=0;E<O;)C<(k=ux(arguments[E++]))?(x=x*(_=C/k)*_+1,C=k):x+=k>0?(_=k/C)*_:k;return C===1/0?1/0:C*gx(x)}});var mx=ft.Math.hypot;function K_(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var wx=function(){function t(){Xl(this||k,t)}return $l(t,null,[{key:"transform",value:function(b,w){Su(b)||(b=[b]);for(var k=w.point.x,_=w.point.y,x=w.angle,E=w.length,O=0;O<b.length;++O){var C=b[O],S=C.x*Math.cos(x)-C.y*Math.sin(x),T=C.x*Math.sin(x)+C.y*Math.cos(x);C.x=k+E*S,C.y=_+E*T}}},{key:"drawPath",value:function(b,w){b.beginPath(),b.moveTo(w[0].x,w[0].y);for(var k=1;k<w.length;++k)b.lineTo(w[k].x,w[k].y);b.closePath()}}]),t}(),_x=function(b){Rk(i,b);var w=K_(i);function i(){return Xl(this||k,i),w.apply(this||k,arguments)}return $l(i,null,[{key:"draw",value:function(b,w){if(w.image){b.save(),b.translate(w.point.x,w.point.y),b.rotate(Math.PI/2+w.angle);var k=null!=w.imageWidth?w.imageWidth:w.image.width,_=null!=w.imageHeight?w.imageHeight:w.image.height;w.image.drawImageAtPosition(b,1,-k/2,0,k,_),b.restore()}return!1}}]),i}(wx),Ex=function(b){Rk(i,b);var w=K_(i);function i(){return Xl(this||k,i),w.apply(this||k,arguments)}return $l(i,null,[{key:"draw",value:function(b,w){var k=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return wx.transform(k,w),wx.drawPath(b,k),!0}}]),i}(wx),Cx=function(){function t(){Xl(this||k,t)}return $l(t,null,[{key:"draw",value:function(b,w){var k=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return wx.transform(k,w),wx.drawPath(b,k),!0}}]),t}(),Sx=function(){function t(){Xl(this||k,t)}return $l(t,null,[{key:"draw",value:function(b,w){var k={x:-.4,y:0};wx.transform(k,w),b.strokeStyle=b.fillStyle,b.fillStyle="rgba(0, 0, 0, 0)";var _=Math.PI,x=w.angle-_/2,E=w.angle+_/2;return b.beginPath(),b.arc(k.x,k.y,.4*w.length,x,E,!1),b.stroke(),!0}}]),t}(),Tx=function(){function t(){Xl(this||k,t)}return $l(t,null,[{key:"draw",value:function(b,w){var k={x:-.3,y:0};wx.transform(k,w),b.strokeStyle=b.fillStyle,b.fillStyle="rgba(0, 0, 0, 0)";var _=Math.PI,x=w.angle+_/2,E=w.angle+3*_/2;return b.beginPath(),b.arc(k.x,k.y,.4*w.length,x,E,!1),b.stroke(),!0}}]),t}(),Mx=function(){function t(){Xl(this||k,t)}return $l(t,null,[{key:"draw",value:function(b,w){var k=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return wx.transform(k,w),wx.drawPath(b,k),!0}}]),t}(),Dx=function(){function t(){Xl(this||k,t)}return $l(t,null,[{key:"draw",value:function(b,w){var k=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return wx.transform(k,w),wx.drawPath(b,k),!0}}]),t}(),Px=function(){function t(){Xl(this||k,t)}return $l(t,null,[{key:"draw",value:function(b,w){var k={x:-.4,y:0};return wx.transform(k,w),No(b,k.x,k.y,.4*w.length),!0}}]),t}(),Bx=function(){function t(){Xl(this||k,t)}return $l(t,null,[{key:"draw",value:function(b,w){var k=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return wx.transform(k,w),wx.drawPath(b,k),!0}}]),t}(),Ix=function(){function t(){Xl(this||k,t)}return $l(t,null,[{key:"draw",value:function(b,w){var k=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return wx.transform(k,w),wx.drawPath(b,k),!0}}]),t}(),zx=function(){function t(){Xl(this||k,t)}return $l(t,null,[{key:"draw",value:function(b,w){var k=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return wx.transform(k,w),wx.drawPath(b,k),!0}}]),t}(),Nx=function(){function t(){Xl(this||k,t)}return $l(t,null,[{key:"draw",value:function(b,w){var k=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return wx.transform(k,w),wx.drawPath(b,k),!0}}]),t}(),Rx=function(){function t(){Xl(this||k,t)}return $l(t,null,[{key:"draw",value:function(b,w){var k;switch(w.type&&(k=w.type.toLowerCase()),k){case"image":return _x.draw(b,w);case"circle":return Px.draw(b,w);case"box":return Ix.draw(b,w);case"crow":return Cx.draw(b,w);case"curve":return Sx.draw(b,w);case"diamond":return zx.draw(b,w);case"inv_curve":return Tx.draw(b,w);case"triangle":return Mx.draw(b,w);case"inv_triangle":return Dx.draw(b,w);case"bar":return Bx.draw(b,w);case"vee":return Nx.draw(b,w);default:return Ex.draw(b,w)}}}]),t}();function lx(b,w){var k=Au(b);if(Cl){var _=Cl(b);w&&(_=cp(_).call(_,(function(w){return Al(b,w).enumerable}))),k.push.apply(k,_)}return k}function cx(b){for(var w=1;w<arguments.length;w++){var k,_,x=null!=arguments[w]?arguments[w]:{};w%2?Fu(k=lx(Object(x),!0)).call(k,(function(w){Zl(b,w,x[w])})):Ql?sc(b,Ql(x)):Fu(_=lx(Object(x))).call(_,(function(w){pc(b,w,Al(x,w))}))}return b}var jx=function(){function t(b,w,_){Xl(this||k,t),(this||k)._body=w,(this||k)._labelModule=_,(this||k).color={},(this||k).colorDirty=!0,(this||k).hoverWidth=1.5,(this||k).selectionWidth=2,this.setOptions(b),(this||k).fromPoint=(this||k).from,(this||k).toPoint=(this||k).to}return $l(t,[{key:"connect",value:function(){(this||k).from=(this||k)._body.nodes[(this||k).options.from],(this||k).to=(this||k)._body.nodes[(this||k).options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(b){(this||k).options=b,(this||k).from=(this||k)._body.nodes[(this||k).options.from],(this||k).to=(this||k)._body.nodes[(this||k).options.to],(this||k).id=(this||k).options.id}},{key:"drawLine",value:function(b,w,k,_){var x=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();b.strokeStyle=this.getColor(b,w),b.lineWidth=w.width,!1!==w.dashes?this._drawDashedLine(b,w,x):this._drawLine(b,w,x)}},{key:"_drawLine",value:function(b,w,_,x,E){if((this||k).from!=(this||k).to)this._line(b,w,_,x,E);else{var O=$c(this._getCircleData(b),3),C=O[0],S=O[1],T=O[2];this._circle(b,w,C,S,T)}}},{key:"_drawDashedLine",value:function(b,w,_,x,E){b.lineCap="round";var O=Su(w.dashes)?w.dashes:[5,5];if(void 0!==b.setLineDash){if(b.save(),b.setLineDash(O),b.lineDashOffset=0,(this||k).from!=(this||k).to)this._line(b,w,_);else{var C=$c(this._getCircleData(b),3),S=C[0],T=C[1],M=C[2];this._circle(b,w,S,T,M)}b.setLineDash([0]),b.lineDashOffset=0,b.restore()}else{if((this||k).from!=(this||k).to)Lo(b,(this||k).from.x,(this||k).from.y,(this||k).to.x,(this||k).to.y,O);else{var D=$c(this._getCircleData(b),3),B=D[0],I=D[1],F=D[2];this._circle(b,w,B,I,F)}this.enableShadow(b,w),b.stroke(),this.disableShadow(b,w)}}},{key:"findBorderPosition",value:function(b,w,_){return(this||k).from!=(this||k).to?this._findBorderPosition(b,w,_):this._findBorderPositionCircle(b,w,_)}},{key:"findBorderPositions",value:function(b){if((this||k).from!=(this||k).to)return{from:this._findBorderPosition((this||k).from,b),to:this._findBorderPosition((this||k).to,b)};var w,_=$c(Cu(w=this._getCircleData(b)).call(w,0,2),2),x=_[0],E=_[1];return{from:this._findBorderPositionCircle((this||k).from,b,{x:x,y:E,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle((this||k).from,b,{x:x,y:E,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(b){var w=(this||k).options.selfReference.size;void 0!==b&&void 0===(this||k).from.shape.width&&(this||k).from.shape.resize(b);var _=ik(b,(this||k).options.selfReference.angle,w,(this||k).from);return[_.x,_.y,w]}},{key:"_pointOnCircle",value:function(b,w,k,_){var x=2*_*Math.PI;return{x:b+k*Math.cos(x),y:w-k*Math.sin(x)}}},{key:"_findBorderPositionCircle",value:function(b,w,_){var x,E=_.x,O=_.y,C=_.low,S=_.high,T=_.direction,M=(this||k).options.selfReference.size,D=.5*(C+S),B=0;!0===(this||k).options.arrowStrikethrough&&(-1===T?B=(this||k).options.endPointOffset.from:1===T&&(B=(this||k).options.endPointOffset.to));var I=0;do{D=.5*(C+S),x=this._pointOnCircle(E,O,M,D);var F=Math.atan2(b.y-x.y,b.x-x.x),N=b.distanceToBorder(w,F)+B-Math.sqrt(Math.pow(x.x-b.x,2)+Math.pow(x.y-b.y,2));if(Math.abs(N)<.05)break;N>0?T>0?C=D:S=D:T>0?S=D:C=D,++I}while(C<=S&&I<10);return cx(cx({},x),{},{t:D})}},{key:"getLineWidth",value:function(b,w){return!0===b?Math.max((this||k).selectionWidth,.3/(this||k)._body.view.scale):!0===w?Math.max((this||k).hoverWidth,.3/(this||k)._body.view.scale):Math.max((this||k).options.width,.3/(this||k)._body.view.scale)}},{key:"getColor",value:function(b,w){if(!1!==w.inheritsColor){if("both"===w.inheritsColor&&(this||k).from.id!==(this||k).to.id){var _=b.createLinearGradient((this||k).from.x,(this||k).from.y,(this||k).to.x,(this||k).to.y),x=(this||k).from.options.color.highlight.border,E=(this||k).to.options.color.highlight.border;return!1===(this||k).from.selected&&!1===(this||k).to.selected?(x=qy((this||k).from.options.color.border,w.opacity),E=qy((this||k).to.options.color.border,w.opacity)):!0===(this||k).from.selected&&!1===(this||k).to.selected?E=(this||k).to.options.color.border:!1===(this||k).from.selected&&!0===(this||k).to.selected&&(x=(this||k).from.options.color.border),_.addColorStop(0,x),_.addColorStop(1,E),_}return"to"===w.inheritsColor?qy((this||k).to.options.color.border,w.opacity):qy((this||k).from.options.color.border,w.opacity)}return qy(w.color,w.opacity)}},{key:"_circle",value:function(b,w,_,x,E){this.enableShadow(b,w);var O=0,C=2*Math.PI;if(!(this||k).options.selfReference.renderBehindTheNode){var S=(this||k).options.selfReference.angle,T=(this||k).options.selfReference.angle+Math.PI,M=this._findBorderPositionCircle((this||k).from,b,{x:_,y:x,low:S,high:T,direction:-1}),D=this._findBorderPositionCircle((this||k).from,b,{x:_,y:x,low:S,high:T,direction:1});O=Math.atan2(M.y-x,M.x-_),C=Math.atan2(D.y-x,D.x-_)}b.beginPath(),b.arc(_,x,E,O,C,!1),b.stroke(),this.disableShadow(b,w)}},{key:"getDistanceToEdge",value:function(b,w,_,x,E,O){if((this||k).from!=(this||k).to)return this._getDistanceToEdge(b,w,_,x,E,O);var C=$c(this._getCircleData(void 0),3),S=C[0],T=C[1],M=C[2],D=S-E,B=T-O;return Math.abs(Math.sqrt(D*D+B*B)-M)}},{key:"_getDistanceToLine",value:function(b,w,k,_,x,E){var O=k-b,C=_-w,S=((x-b)*O+(E-w)*C)/(O*O+C*C);S>1?S=1:S<0&&(S=0);var T=b+S*O-x,M=w+S*C-E;return Math.sqrt(T*T+M*M)}},{key:"getArrowData",value:function(b,w,_,x,E,O){var C,S,T,M,D,B,I,F=O.width;"from"===w?(T=(this||k).from,M=(this||k).to,D=O.fromArrowScale<0,B=Math.abs(O.fromArrowScale),I=O.fromArrowType):"to"===w?(T=(this||k).to,M=(this||k).from,D=O.toArrowScale<0,B=Math.abs(O.toArrowScale),I=O.toArrowType):(T=(this||k).to,M=(this||k).from,D=O.middleArrowScale<0,B=Math.abs(O.middleArrowScale),I=O.middleArrowType);var N=15*B+3*F;if(T!=M){var A=N/mx(T.x-M.x,T.y-M.y);if("middle"!==w)if(!0===(this||k).options.smooth.enabled){var R=this._findBorderPosition(T,b,{via:_}),j=this.getPoint(R.t+A*("from"===w?1:-1),_);C=Math.atan2(R.y-j.y,R.x-j.x),S=R}else C=Math.atan2(T.y-M.y,T.x-M.x),S=this._findBorderPosition(T,b);else{var L=(D?-A:A)/2,H=this.getPoint(.5+L,_),q=this.getPoint(.5-L,_);C=Math.atan2(H.y-q.y,H.x-q.x),S=this.getPoint(.5,_)}}else{var V=$c(this._getCircleData(b),3),$=V[0],Y=V[1],G=V[2];if("from"===w){var K=(this||k).options.selfReference.angle,Z=(this||k).options.selfReference.angle+Math.PI,tt=this._findBorderPositionCircle((this||k).from,b,{x:$,y:Y,low:K,high:Z,direction:-1});C=-2*tt.t*Math.PI+1.5*Math.PI+.1*Math.PI,S=tt}else if("to"===w){var et=(this||k).options.selfReference.angle,it=(this||k).options.selfReference.angle+Math.PI,ot=this._findBorderPositionCircle((this||k).from,b,{x:$,y:Y,low:et,high:it,direction:1});C=-2*ot.t*Math.PI+1.5*Math.PI-1.1*Math.PI,S=ot}else{var nt=(this||k).options.selfReference.angle/(2*Math.PI);S=this._pointOnCircle($,Y,G,nt),C=-2*nt*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:S,core:{x:S.x-.9*N*Math.cos(C),y:S.y-.9*N*Math.sin(C)},angle:C,length:N,type:I}}},{key:"drawArrowHead",value:function(b,w,k,_,x){b.strokeStyle=this.getColor(b,w),b.fillStyle=b.strokeStyle,b.lineWidth=w.width,Rx.draw(b,x)&&(this.enableShadow(b,w),Qv(b).call(b),this.disableShadow(b,w))}},{key:"enableShadow",value:function(b,w){!0===w.shadow&&(b.shadowColor=w.shadowColor,b.shadowBlur=w.shadowSize,b.shadowOffsetX=w.shadowX,b.shadowOffsetY=w.shadowY)}},{key:"disableShadow",value:function(b,w){!0===w.shadow&&(b.shadowColor="rgba(0,0,0,0)",b.shadowBlur=0,b.shadowOffsetX=0,b.shadowOffsetY=0)}},{key:"drawBackground",value:function(b,w){if(!1!==w.background){var k={strokeStyle:b.strokeStyle,lineWidth:b.lineWidth,dashes:b.dashes};b.strokeStyle=w.backgroundColor,b.lineWidth=w.backgroundSize,this.setStrokeDashed(b,w.backgroundDashes),b.stroke(),b.strokeStyle=k.strokeStyle,b.lineWidth=k.lineWidth,b.dashes=k.dashes,this.setStrokeDashed(b,w.dashes)}}},{key:"setStrokeDashed",value:function(b,w){if(!1!==w)if(void 0!==b.setLineDash){var k=Su(w)?w:[5,5];b.setLineDash(k)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==b.setLineDash?b.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),t}();function fx(b,w){var k=Au(b);if(Cl){var _=Cl(b);w&&(_=cp(_).call(_,(function(w){return Al(b,w).enumerable}))),k.push.apply(k,_)}return k}function px(b){for(var w=1;w<arguments.length;w++){var k,_,x=null!=arguments[w]?arguments[w]:{};w%2?Fu(k=fx(Object(x),!0)).call(k,(function(w){Zl(b,w,x[w])})):Ql?sc(b,Ql(x)):Fu(_=fx(Object(x))).call(_,(function(w){pc(b,w,Al(x,w))}))}return b}function vx(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var Lx=function(b){Rk(i,b);var w=vx(i);function i(b,_,x){return Xl(this||k,i),w.call(this||k,b,_,x)}return $l(i,[{key:"_findBorderPositionBezier",value:function(b,w){var _,x,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),O=10,C=.2,S=!1,T=1,M=0,D=(this||k).to,B=(this||k).options.endPointOffset?(this||k).options.endPointOffset.to:0;b.id===(this||k).from.id&&(D=(this||k).from,S=!0,B=(this||k).options.endPointOffset?(this||k).options.endPointOffset.from:0),!1===(this||k).options.arrowStrikethrough&&(B=0);var I=0;do{x=.5*(M+T),_=this.getPoint(x,E);var F=Math.atan2(D.y-_.y,D.x-_.x),N=D.distanceToBorder(w,F)+B,A=Math.sqrt(Math.pow(_.x-D.x,2)+Math.pow(_.y-D.y,2)),R=N-A;if(Math.abs(R)<C)break;R<0?!1===S?M=x:T=x:!1===S?T=x:M=x,++I}while(M<=T&&I<O);return px(px({},_),{},{t:x})}},{key:"_getDistanceToBezierEdge",value:function(b,w,k,_,x,E,O){var C,S,T,M,D,B=1e9,I=b,F=w;for(S=1;S<10;S++)T=.1*S,M=Math.pow(1-T,2)*b+2*T*(1-T)*O.x+Math.pow(T,2)*k,D=Math.pow(1-T,2)*w+2*T*(1-T)*O.y+Math.pow(T,2)*_,S>0&&(B=(C=this._getDistanceToLine(I,F,M,D,x,E))<B?C:B),I=M,F=D;return B}},{key:"_bezierCurve",value:function(b,w,_,x){b.beginPath(),b.moveTo((this||k).fromPoint.x,(this||k).fromPoint.y),null!=_&&null!=_.x?null!=x&&null!=x.x?b.bezierCurveTo(_.x,_.y,x.x,x.y,(this||k).toPoint.x,(this||k).toPoint.y):b.quadraticCurveTo(_.x,_.y,(this||k).toPoint.x,(this||k).toPoint.y):b.lineTo((this||k).toPoint.x,(this||k).toPoint.y),this.drawBackground(b,w),this.enableShadow(b,w),b.stroke(),this.disableShadow(b,w)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),i}(jx);function yx(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var Hx=function(b){Rk(i,b);var w=yx(i);function i(b,_,x){var E;return Xl(this||k,i),(E=w.call(this||k,b,_,x)).via=E.via,E._boundFunction=function(){E.positionBezierNode()},E._body.emitter.on("_repositionBezierNodes",E._boundFunction),E}return $l(i,[{key:"setOptions",value:function(b){V_(Hk(i.prototype),"setOptions",this||k).call(this||k,b);var w=!1;(this||k).options.physics!==b.physics&&(w=!0),(this||k).options=b,(this||k).id=(this||k).options.id,(this||k).from=(this||k)._body.nodes[(this||k).options.from],(this||k).to=(this||k)._body.nodes[(this||k).options.to],this.setupSupportNode(),this.connect(),!0===w&&((this||k).via.setOptions({physics:(this||k).options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){(this||k).from=(this||k)._body.nodes[(this||k).options.from],(this||k).to=(this||k)._body.nodes[(this||k).options.to],void 0===(this||k).from||void 0===(this||k).to||!1===(this||k).options.physics||(this||k).from.id===(this||k).to.id?(this||k).via.setOptions({physics:!1}):(this||k).via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return(this||k)._body.emitter.off("_repositionBezierNodes",(this||k)._boundFunction),void 0!==(this||k).via&&(delete(this||k)._body.nodes[(this||k).via.id],(this||k).via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===(this||k).via){var b="edgeId:"+(this||k).id,w=(this||k)._body.functions.createNode({id:b,shape:"circle",physics:!0,hidden:!0});(this||k)._body.nodes[b]=w,(this||k).via=w,(this||k).via.parentEdgeId=(this||k).id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==(this||k).via&&void 0!==(this||k).from&&void 0!==(this||k).to?((this||k).via.x=.5*((this||k).from.x+(this||k).to.x),(this||k).via.y=.5*((this||k).from.y+(this||k).to.y)):void 0!==(this||k).via&&((this||k).via.x=0,(this||k).via.y=0)}},{key:"_line",value:function(b,w,k){this._bezierCurve(b,w,k)}},{key:"_getViaCoordinates",value:function(){return(this||k).via}},{key:"getViaNode",value:function(){return(this||k).via}},{key:"getPoint",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(this||k).via;if((this||k).from===(this||k).to){var _=this._getCircleData(),x=$c(_,3),E=x[0],O=x[1],C=x[2],S=2*Math.PI*(1-b);return{x:E+C*Math.sin(S),y:O+C-C*(1-Math.cos(S))}}return{x:Math.pow(1-b,2)*(this||k).fromPoint.x+2*b*(1-b)*w.x+Math.pow(b,2)*(this||k).toPoint.x,y:Math.pow(1-b,2)*(this||k).fromPoint.y+2*b*(1-b)*w.y+Math.pow(b,2)*(this||k).toPoint.y}}},{key:"_findBorderPosition",value:function(b,w){return this._findBorderPositionBezier(b,w,(this||k).via)}},{key:"_getDistanceToEdge",value:function(b,w,_,x,E,O){return this._getDistanceToBezierEdge(b,w,_,x,E,O,(this||k).via)}}]),i}(Lx);function bx(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var Vx=function(b){Rk(i,b);var w=bx(i);function i(b,_,x){return Xl(this||k,i),w.call(this||k,b,_,x)}return $l(i,[{key:"_line",value:function(b,w,k){this._bezierCurve(b,w,k)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var b,w,_=(this||k).options.smooth.roundness,x=(this||k).options.smooth.type,E=Math.abs((this||k).from.x-(this||k).to.x),O=Math.abs((this||k).from.y-(this||k).to.y);if("discrete"===x||"diagonalCross"===x){var C,S;C=S=E<=O?_*O:_*E,(this||k).from.x>(this||k).to.x&&(C=-C),(this||k).from.y>=(this||k).to.y&&(S=-S);var T=(this||k).from.x+C,M=(this||k).from.y+S;return"discrete"===x&&(E<=O?T=E<_*O?(this||k).from.x:T:M=O<_*E?(this||k).from.y:M),{x:T,y:M}}if("straightCross"===x){var D=(1-_)*E,B=(1-_)*O;return E<=O?(D=0,(this||k).from.y<(this||k).to.y&&(B=-B)):((this||k).from.x<(this||k).to.x&&(D=-D),B=0),{x:(this||k).to.x+D,y:(this||k).to.y+B}}if("horizontal"===x){var I=(1-_)*E;return(this||k).from.x<(this||k).to.x&&(I=-I),{x:(this||k).to.x+I,y:(this||k).from.y}}if("vertical"===x){var F=(1-_)*O;return(this||k).from.y<(this||k).to.y&&(F=-F),{x:(this||k).from.x,y:(this||k).to.y+F}}if("curvedCW"===x){E=(this||k).to.x-(this||k).from.x,O=(this||k).from.y-(this||k).to.y;var N=Math.sqrt(E*E+O*O),A=Math.PI,R=(Math.atan2(O,E)+(.5*_+.5)*A)%(2*A);return{x:(this||k).from.x+(.5*_+.5)*N*Math.sin(R),y:(this||k).from.y+(.5*_+.5)*N*Math.cos(R)}}if("curvedCCW"===x){E=(this||k).to.x-(this||k).from.x,O=(this||k).from.y-(this||k).to.y;var j=Math.sqrt(E*E+O*O),L=Math.PI,H=(Math.atan2(O,E)+(.5*-_+.5)*L)%(2*L);return{x:(this||k).from.x+(.5*_+.5)*j*Math.sin(H),y:(this||k).from.y+(.5*_+.5)*j*Math.cos(H)}}b=w=E<=O?_*O:_*E,(this||k).from.x>(this||k).to.x&&(b=-b),(this||k).from.y>=(this||k).to.y&&(w=-w);var q=(this||k).from.x+b,V=(this||k).from.y+w;return E<=O?q=(this||k).from.x<=(this||k).to.x?(this||k).to.x<q?(this||k).to.x:q:(this||k).to.x>q?(this||k).to.x:q:V=(this||k).from.y>=(this||k).to.y?(this||k).to.y>V?(this||k).to.y:V:(this||k).to.y<V?(this||k).to.y:V,{x:q,y:V}}},{key:"_findBorderPosition",value:function(b,w){var k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(b,w,k.via)}},{key:"_getDistanceToEdge",value:function(b,w,k,_,x,E){var O=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(b,w,k,_,x,E,O)}},{key:"getPoint",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),_=b,x=Math.pow(1-_,2)*(this||k).fromPoint.x+2*_*(1-_)*w.x+Math.pow(_,2)*(this||k).toPoint.x,E=Math.pow(1-_,2)*(this||k).fromPoint.y+2*_*(1-_)*w.y+Math.pow(_,2)*(this||k).toPoint.y;return{x:x,y:E}}}]),i}(Lx);function kx(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var $x=function(b){Rk(i,b);var w=kx(i);function i(b,_,x){return Xl(this||k,i),w.call(this||k,b,_,x)}return $l(i,[{key:"_getDistanceToBezierEdge2",value:function(b,w,k,_,x,E,O,C){for(var S=1e9,T=b,M=w,D=[0,0,0,0],B=1;B<10;B++){var I=.1*B;D[0]=Math.pow(1-I,3),D[1]=3*I*Math.pow(1-I,2),D[2]=3*Math.pow(I,2)*(1-I),D[3]=Math.pow(I,3);var F=D[0]*b+D[1]*O.x+D[2]*C.x+D[3]*k,N=D[0]*w+D[1]*O.y+D[2]*C.y+D[3]*_;if(B>0){var A=this._getDistanceToLine(T,M,F,N,x,E);S=A<S?A:S}T=F,M=N}return S}}]),i}(Lx);function xx(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var Ux=function(b){Rk(i,b);var w=xx(i);function i(b,_,x){return Xl(this||k,i),w.call(this||k,b,_,x)}return $l(i,[{key:"_line",value:function(b,w,k){var _=k[0],x=k[1];this._bezierCurve(b,w,_,x)}},{key:"_getViaCoordinates",value:function(){var b,w,_,x,E=(this||k).from.x-(this||k).to.x,O=(this||k).from.y-(this||k).to.y,C=(this||k).options.smooth.roundness;return(Math.abs(E)>Math.abs(O)||!0===(this||k).options.smooth.forceDirection||"horizontal"===(this||k).options.smooth.forceDirection)&&"vertical"!==(this||k).options.smooth.forceDirection?(w=(this||k).from.y,x=(this||k).to.y,b=(this||k).from.x-C*E,_=(this||k).to.x+C*E):(w=(this||k).from.y-C*O,x=(this||k).to.y+C*O,b=(this||k).from.x,_=(this||k).to.x),[{x:b,y:w},{x:_,y:x}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(b,w){return this._findBorderPositionBezier(b,w)}},{key:"_getDistanceToEdge",value:function(b,w,k,_,x,E){var O=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),C=$c(O,2),S=C[0],T=C[1];return this._getDistanceToBezierEdge2(b,w,k,_,x,E,S,T)}},{key:"getPoint",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),_=$c(w,2),x=_[0],E=_[1],O=b,C=[Math.pow(1-O,3),3*O*Math.pow(1-O,2),3*Math.pow(O,2)*(1-O),Math.pow(O,3)],S=C[0]*(this||k).fromPoint.x+C[1]*x.x+C[2]*E.x+C[3]*(this||k).toPoint.x,T=C[0]*(this||k).fromPoint.y+C[1]*x.y+C[2]*E.y+C[3]*(this||k).toPoint.y;return{x:S,y:T}}}]),i}($x);function Ox(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var Yx=function(b){Rk(i,b);var w=Ox(i);function i(b,_,x){return Xl(this||k,i),w.call(this||k,b,_,x)}return $l(i,[{key:"_line",value:function(b,w){b.beginPath(),b.moveTo((this||k).fromPoint.x,(this||k).fromPoint.y),b.lineTo((this||k).toPoint.x,(this||k).toPoint.y),this.enableShadow(b,w),b.stroke(),this.disableShadow(b,w)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(b){return{x:(1-b)*(this||k).fromPoint.x+b*(this||k).toPoint.x,y:(1-b)*(this||k).fromPoint.y+b*(this||k).toPoint.y}}},{key:"_findBorderPosition",value:function(b,w){var _=(this||k).to,x=(this||k).from;b.id===(this||k).from.id&&(_=(this||k).from,x=(this||k).to);var E=Math.atan2(_.y-x.y,_.x-x.x),O=_.x-x.x,C=_.y-x.y,S=Math.sqrt(O*O+C*C),T=(S-b.distanceToBorder(w,E))/S;return{x:(1-T)*x.x+T*_.x,y:(1-T)*x.y+T*_.y,t:0}}},{key:"_getDistanceToEdge",value:function(b,w,k,_,x,E){return this._getDistanceToLine(b,w,k,_,x,E)}}]),i}(jx),Gx=function(){function t(b,w,_,x,E){if(Xl(this||k,t),void 0===w)throw new Error("No body provided");(this||k).options=Jy(x),(this||k).globalOptions=x,(this||k).defaultOptions=E,(this||k).body=w,(this||k).imagelist=_,(this||k).id=void 0,(this||k).fromId=void 0,(this||k).toId=void 0,(this||k).selected=!1,(this||k).hover=!1,(this||k).labelDirty=!0,(this||k).baseWidth=(this||k).options.width,(this||k).baseFontSize=(this||k).options.font.size,(this||k).from=void 0,(this||k).to=void 0,(this||k).edgeType=void 0,(this||k).connected=!1,(this||k).labelModule=new zk((this||k).body,(this||k).options,!0),this.setOptions(b)}return $l(t,[{key:"setOptions",value:function(b){if(b){var w=void 0!==b.physics&&(this||k).options.physics!==b.physics||void 0!==b.hidden&&((this||k).options.hidden||!1)!==(b.hidden||!1)||void 0!==b.from&&(this||k).options.from!==b.from||void 0!==b.to&&(this||k).options.to!==b.to;t.parseOptions((this||k).options,b,!0,(this||k).globalOptions),void 0!==b.id&&((this||k).id=b.id),void 0!==b.from&&((this||k).fromId=b.from),void 0!==b.to&&((this||k).toId=b.to),void 0!==b.title&&((this||k).title=b.title),void 0!==b.value&&(b.value=vk(b.value));var _=[b,(this||k).options,(this||k).defaultOptions];return(this||k).chooser=Jw("edge",_),this.updateLabelModule(b),w=this.updateEdgeType()||w,this._setInteractionWidths(),this.connect(),w}}},{key:"getFormattingValues",value:function(){var b=!0===(this||k).options.arrows.to||!0===(this||k).options.arrows.to.enabled,w=!0===(this||k).options.arrows.from||!0===(this||k).options.arrows.from.enabled,_=!0===(this||k).options.arrows.middle||!0===(this||k).options.arrows.middle.enabled,x=(this||k).options.color.inherit,E={toArrow:b,toArrowScale:(this||k).options.arrows.to.scaleFactor,toArrowType:(this||k).options.arrows.to.type,toArrowSrc:(this||k).options.arrows.to.src,toArrowImageWidth:(this||k).options.arrows.to.imageWidth,toArrowImageHeight:(this||k).options.arrows.to.imageHeight,middleArrow:_,middleArrowScale:(this||k).options.arrows.middle.scaleFactor,middleArrowType:(this||k).options.arrows.middle.type,middleArrowSrc:(this||k).options.arrows.middle.src,middleArrowImageWidth:(this||k).options.arrows.middle.imageWidth,middleArrowImageHeight:(this||k).options.arrows.middle.imageHeight,fromArrow:w,fromArrowScale:(this||k).options.arrows.from.scaleFactor,fromArrowType:(this||k).options.arrows.from.type,fromArrowSrc:(this||k).options.arrows.from.src,fromArrowImageWidth:(this||k).options.arrows.from.imageWidth,fromArrowImageHeight:(this||k).options.arrows.from.imageHeight,arrowStrikethrough:(this||k).options.arrowStrikethrough,color:x?void 0:(this||k).options.color.color,inheritsColor:x,opacity:(this||k).options.color.opacity,hidden:(this||k).options.hidden,length:(this||k).options.length,shadow:(this||k).options.shadow.enabled,shadowColor:(this||k).options.shadow.color,shadowSize:(this||k).options.shadow.size,shadowX:(this||k).options.shadow.x,shadowY:(this||k).options.shadow.y,dashes:(this||k).options.dashes,width:(this||k).options.width,background:(this||k).options.background.enabled,backgroundColor:(this||k).options.background.color,backgroundSize:(this||k).options.background.size,backgroundDashes:(this||k).options.background.dashes};if((this||k).selected||(this||k).hover)if(!0===(this||k).chooser){if((this||k).selected){var O=(this||k).options.selectionWidth;"function"==typeof O?E.width=O(E.width):"number"==typeof O&&(E.width+=O),E.width=Math.max(E.width,.3/(this||k).body.view.scale),E.color=(this||k).options.color.highlight,E.shadow=(this||k).options.shadow.enabled}else if((this||k).hover){var C=(this||k).options.hoverWidth;"function"==typeof C?E.width=C(E.width):"number"==typeof C&&(E.width+=C),E.width=Math.max(E.width,.3/(this||k).body.view.scale),E.color=(this||k).options.color.hover,E.shadow=(this||k).options.shadow.enabled}}else"function"==typeof(this||k).chooser&&(this.chooser(E,(this||k).options.id,(this||k).selected,(this||k).hover),void 0!==E.color&&(E.inheritsColor=!1),!1===E.shadow&&(E.shadowColor===(this||k).options.shadow.color&&E.shadowSize===(this||k).options.shadow.size&&E.shadowX===(this||k).options.shadow.x&&E.shadowY===(this||k).options.shadow.y||(E.shadow=!0)));else E.shadow=(this||k).options.shadow.enabled,E.width=Math.max(E.width,.3/(this||k).body.view.scale);return E}},{key:"updateLabelModule",value:function(b){var w=[b,(this||k).options,(this||k).globalOptions,(this||k).defaultOptions];(this||k).labelModule.update((this||k).options,w),void 0!==(this||k).labelModule.baseSize&&((this||k).baseFontSize=(this||k).labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var b=(this||k).options.smooth,w=!1,_=!0;return void 0!==(this||k).edgeType&&(((this||k).edgeType instanceof Hx&&!0===b.enabled&&"dynamic"===b.type||(this||k).edgeType instanceof Ux&&!0===b.enabled&&"cubicBezier"===b.type||(this||k).edgeType instanceof Vx&&!0===b.enabled&&"dynamic"!==b.type&&"cubicBezier"!==b.type||(this||k).edgeType instanceof Yx&&!1===b.type.enabled)&&(_=!1),!0===_&&(w=this.cleanup())),!0===_?!0===b.enabled?"dynamic"===b.type?(w=!0,(this||k).edgeType=new Hx((this||k).options,(this||k).body,(this||k).labelModule)):"cubicBezier"===b.type?(this||k).edgeType=new Ux((this||k).options,(this||k).body,(this||k).labelModule):(this||k).edgeType=new Vx((this||k).options,(this||k).body,(this||k).labelModule):(this||k).edgeType=new Yx((this||k).options,(this||k).body,(this||k).labelModule):(this||k).edgeType.setOptions((this||k).options),w}},{key:"connect",value:function(){this.disconnect(),(this||k).from=(this||k).body.nodes[(this||k).fromId]||void 0,(this||k).to=(this||k).body.nodes[(this||k).toId]||void 0,(this||k).connected=void 0!==(this||k).from&&void 0!==(this||k).to,!0===(this||k).connected?((this||k).from.attachEdge(this||k),(this||k).to.attachEdge(this||k)):((this||k).from&&(this||k).from.detachEdge(this||k),(this||k).to&&(this||k).to.detachEdge(this||k)),(this||k).edgeType.connect()}},{key:"disconnect",value:function(){(this||k).from&&((this||k).from.detachEdge(this||k),(this||k).from=void 0),(this||k).to&&((this||k).to.detachEdge(this||k),(this||k).to=void 0),(this||k).connected=!1}},{key:"getTitle",value:function(){return(this||k).title}},{key:"isSelected",value:function(){return(this||k).selected}},{key:"getValue",value:function(){return(this||k).options.value}},{key:"setValueRange",value:function(b,w,_){if(void 0!==(this||k).options.value){var x=(this||k).options.scaling.customScalingFunction(b,w,_,(this||k).options.value),E=(this||k).options.scaling.max-(this||k).options.scaling.min;if(!0===(this||k).options.scaling.label.enabled){var O=(this||k).options.scaling.label.max-(this||k).options.scaling.label.min;(this||k).options.font.size=(this||k).options.scaling.label.min+x*O}(this||k).options.width=(this||k).options.scaling.min+x*E}else(this||k).options.width=(this||k).baseWidth,(this||k).options.font.size=(this||k).baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof(this||k).options.hoverWidth?(this||k).edgeType.hoverWidth=(this||k).options.hoverWidth((this||k).options.width):(this||k).edgeType.hoverWidth=(this||k).options.hoverWidth+(this||k).options.width,"function"==typeof(this||k).options.selectionWidth?(this||k).edgeType.selectionWidth=(this||k).options.selectionWidth((this||k).options.width):(this||k).edgeType.selectionWidth=(this||k).options.selectionWidth+(this||k).options.width}},{key:"draw",value:function(b){var w=this.getFormattingValues();if(!w.hidden){var _=(this||k).edgeType.getViaNode();(this||k).edgeType.drawLine(b,w,(this||k).selected,(this||k).hover,_),this.drawLabel(b,_)}}},{key:"drawArrows",value:function(b){var w=this.getFormattingValues();if(!w.hidden){var _=(this||k).edgeType.getViaNode(),x={};(this||k).edgeType.fromPoint=(this||k).edgeType.from,(this||k).edgeType.toPoint=(this||k).edgeType.to,w.fromArrow&&(x.from=(this||k).edgeType.getArrowData(b,"from",_,(this||k).selected,(this||k).hover,w),!1===w.arrowStrikethrough&&((this||k).edgeType.fromPoint=x.from.core),w.fromArrowSrc&&(x.from.image=(this||k).imagelist.load(w.fromArrowSrc)),w.fromArrowImageWidth&&(x.from.imageWidth=w.fromArrowImageWidth),w.fromArrowImageHeight&&(x.from.imageHeight=w.fromArrowImageHeight)),w.toArrow&&(x.to=(this||k).edgeType.getArrowData(b,"to",_,(this||k).selected,(this||k).hover,w),!1===w.arrowStrikethrough&&((this||k).edgeType.toPoint=x.to.core),w.toArrowSrc&&(x.to.image=(this||k).imagelist.load(w.toArrowSrc)),w.toArrowImageWidth&&(x.to.imageWidth=w.toArrowImageWidth),w.toArrowImageHeight&&(x.to.imageHeight=w.toArrowImageHeight)),w.middleArrow&&(x.middle=(this||k).edgeType.getArrowData(b,"middle",_,(this||k).selected,(this||k).hover,w),w.middleArrowSrc&&(x.middle.image=(this||k).imagelist.load(w.middleArrowSrc)),w.middleArrowImageWidth&&(x.middle.imageWidth=w.middleArrowImageWidth),w.middleArrowImageHeight&&(x.middle.imageHeight=w.middleArrowImageHeight)),w.fromArrow&&(this||k).edgeType.drawArrowHead(b,w,(this||k).selected,(this||k).hover,x.from),w.middleArrow&&(this||k).edgeType.drawArrowHead(b,w,(this||k).selected,(this||k).hover,x.middle),w.toArrow&&(this||k).edgeType.drawArrowHead(b,w,(this||k).selected,(this||k).hover,x.to)}}},{key:"drawLabel",value:function(b,w){if(void 0!==(this||k).options.label){var _,x=(this||k).from,E=(this||k).to;if((this||k).labelModule.differentState((this||k).selected,(this||k).hover)&&(this||k).labelModule.getTextSize(b,(this||k).selected,(this||k).hover),x.id!=E.id){(this||k).labelModule.pointToSelf=!1,_=(this||k).edgeType.getPoint(.5,w),b.save();var O=this._getRotation(b);0!=O.angle&&(b.translate(O.x,O.y),b.rotate(O.angle)),(this||k).labelModule.draw(b,_.x,_.y,(this||k).selected,(this||k).hover),b.restore()}else{(this||k).labelModule.pointToSelf=!0;var C=ik(b,(this||k).options.selfReference.angle,(this||k).options.selfReference.size,x);_=this._pointOnCircle(C.x,C.y,(this||k).options.selfReference.size,(this||k).options.selfReference.angle),(this||k).labelModule.draw(b,_.x,_.y,(this||k).selected,(this||k).hover)}}}},{key:"getItemsOnPoint",value:function(b){var w=[];if((this||k).labelModule.visible()){var _=this._getRotation();tk((this||k).labelModule.getSize(),b,_)&&w.push({edgeId:(this||k).id,labelId:0})}var x={left:b.x,top:b.y};return this.isOverlappingWith(x)&&w.push({edgeId:(this||k).id}),w}},{key:"isOverlappingWith",value:function(b){if((this||k).connected){var w=(this||k).from.x,_=(this||k).from.y,x=(this||k).to.x,E=(this||k).to.y,O=b.left,C=b.top;return(this||k).edgeType.getDistanceToEdge(w,_,x,E,O,C)<10}return!1}},{key:"_getRotation",value:function(b){var w=(this||k).edgeType.getViaNode(),_=(this||k).edgeType.getPoint(.5,w);void 0!==b&&(this||k).labelModule.calculateLabelSize(b,(this||k).selected,(this||k).hover,_.x,_.y);var x={x:_.x,y:(this||k).labelModule.size.yLine,angle:0};if(!(this||k).labelModule.visible())return x;if("horizontal"===(this||k).options.font.align)return x;var E=(this||k).from.y-(this||k).to.y,O=(this||k).from.x-(this||k).to.x,C=Math.atan2(E,O);return(C<-1&&O<0||C>0&&O<0)&&(C+=Math.PI),x.angle=C,x}},{key:"_pointOnCircle",value:function(b,w,k,_){return{x:b+k*Math.cos(_),y:w-k*Math.sin(_)}}},{key:"select",value:function(){(this||k).selected=!0}},{key:"unselect",value:function(){(this||k).selected=!1}},{key:"cleanup",value:function(){return(this||k).edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete(this||k).body.edges[(this||k).id]}},{key:"endPointsValid",value:function(){return void 0!==(this||k).body.nodes[(this||k).fromId]&&void 0!==(this||k).body.nodes[(this||k).toId]}}],[{key:"parseOptions",value:function(b,w){var k=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},x=arguments.length>4&&void 0!==arguments[4]&&arguments[4],E=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(Ny(E,b,w,k),void 0!==w.endPointOffset&&void 0!==w.endPointOffset.from&&(Uw(w.endPointOffset.from)?b.endPointOffset.from=w.endPointOffset.from:(b.endPointOffset.from=void 0!==_.endPointOffset.from?_.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==w.endPointOffset&&void 0!==w.endPointOffset.to&&(Uw(w.endPointOffset.to)?b.endPointOffset.to=w.endPointOffset.to:(b.endPointOffset.to=void 0!==_.endPointOffset.to?_.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),ek(w.label)?b.label=w.label:ek(b.label)||(b.label=void 0),tm(b,w,"smooth",_),tm(b,w,"shadow",_),tm(b,w,"background",_),void 0!==w.dashes&&null!==w.dashes?b.dashes=w.dashes:!0===k&&null===w.dashes&&(b.dashes=rv(_.dashes)),void 0!==w.scaling&&null!==w.scaling?(void 0!==w.scaling.min&&(b.scaling.min=w.scaling.min),void 0!==w.scaling.max&&(b.scaling.max=w.scaling.max),tm(b.scaling,w.scaling,"label",_.scaling)):!0===k&&null===w.scaling&&(b.scaling=rv(_.scaling)),void 0!==w.arrows&&null!==w.arrows)if("string"==typeof w.arrows){var O=w.arrows.toLowerCase();b.arrows.to.enabled=-1!=Jp(O).call(O,"to"),b.arrows.middle.enabled=-1!=Jp(O).call(O,"middle"),b.arrows.from.enabled=-1!=Jp(O).call(O,"from")}else{if("object"!==Qc(w.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Tv(w.arrows));tm(b.arrows,w.arrows,"to",_.arrows),tm(b.arrows,w.arrows,"middle",_.arrows),tm(b.arrows,w.arrows,"from",_.arrows)}else!0===k&&null===w.arrows&&(b.arrows=rv(_.arrows));if(void 0!==w.color&&null!==w.color){var C=By(w.color)?{color:w.color,highlight:w.color,hover:w.color,inherit:!1,opacity:1}:w.color,S=b.color;if(x)Ry(S,_.color,!1,k);else for(var T in S)Object.prototype.hasOwnProperty.call(S,T)&&delete S[T];if(By(S))S.color=S,S.highlight=S,S.hover=S,S.inherit=!1,void 0===C.opacity&&(S.opacity=1);else{var M=!1;void 0!==C.color&&(S.color=C.color,M=!0),void 0!==C.highlight&&(S.highlight=C.highlight,M=!0),void 0!==C.hover&&(S.hover=C.hover,M=!0),void 0!==C.inherit&&(S.inherit=C.inherit),void 0!==C.opacity&&(S.opacity=Math.min(1,Math.max(0,C.opacity))),!0===M?S.inherit=!1:void 0===S.inherit&&(S.inherit="from")}}else!0===k&&null===w.color&&(b.color=Jy(_.color));!0===k&&null===w.font&&(b.font=Jy(_.font)),Object.prototype.hasOwnProperty.call(w,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),b.selfReference.size=w.selfReferenceSize)}}]),t}(),Zx=function(){function t(b,w,_){var x,E=this||k;Xl(this||k,t),(this||k).body=b,(this||k).images=w,(this||k).groups=_,(this||k).body.functions.createEdge=rn(x=(this||k).create).call(x,this||k),(this||k).edgesListeners={add:function(b,w){E.add(w.items)},update:function(b,w){E.update(w.items)},remove:function(b,w){E.remove(w.items)}},(this||k).options={},(this||k).defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(b,w,k,_){if(w===b)return.5;var x=1/(w-b);return Math.max(0,(_-b)*x)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Ry((this||k).options,(this||k).defaultOptions),this.bindEventListeners()}return $l(t,[{key:"bindEventListeners",value:function(){var b,w,_=this||k;(this||k).body.emitter.on("_forceDisableDynamicCurves",(function(b){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===b&&(b="continuous");var k=!1;for(var x in _.body.edges)if(Object.prototype.hasOwnProperty.call(_.body.edges,x)){var E=_.body.edges[x],O=_.body.data.edges.get(x);if(null!=O){var C=O.smooth;void 0!==C&&!0===C.enabled&&"dynamic"===C.type&&(void 0===b?E.setOptions({smooth:!1}):E.setOptions({smooth:{type:b}}),k=!0)}}!0===w&&!0===k&&_.body.emitter.emit("_dataChanged")})),(this||k).body.emitter.on("_dataUpdated",(function(){_.reconnectEdges()})),(this||k).body.emitter.on("refreshEdges",rn(b=(this||k).refresh).call(b,this||k)),(this||k).body.emitter.on("refresh",rn(w=(this||k).refresh).call(w,this||k)),(this||k).body.emitter.on("destroy",(function(){Wy(_.edgesListeners,(function(b,w){_.body.data.edges&&_.body.data.edges.off(w,b)})),delete _.body.functions.createEdge,delete _.edgesListeners.add,delete _.edgesListeners.update,delete _.edgesListeners.remove,delete _.edgesListeners}))}},{key:"setOptions",value:function(b){if(void 0!==b){Gx.parseOptions((this||k).options,b,!0,(this||k).defaultOptions,!0);var w=!1;if(void 0!==b.smooth)for(var _ in(this||k).body.edges)Object.prototype.hasOwnProperty.call((this||k).body.edges,_)&&(w=(this||k).body.edges[_].updateEdgeType()||w);if(void 0!==b.font)for(var x in(this||k).body.edges)Object.prototype.hasOwnProperty.call((this||k).body.edges,x)&&(this||k).body.edges[x].updateLabelModule();void 0===b.hidden&&void 0===b.physics&&!0!==w||(this||k).body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(b){var _=this||k,x=arguments.length>1&&void 0!==arguments[1]&&arguments[1],E=(this||k).body.data.edges;if(w.isDataViewLike("id",b))(this||k).body.data.edges=b;else if(Su(b))(this||k).body.data.edges=new w.DataSet,(this||k).body.data.edges.add(b);else{if(b)throw new TypeError("Array or DataSet expected");(this||k).body.data.edges=new w.DataSet}if(E&&Wy((this||k).edgesListeners,(function(b,w){E.off(w,b)})),(this||k).body.edges={},(this||k).body.data.edges){Wy((this||k).edgesListeners,(function(b,w){_.body.data.edges.on(w,b)}));var O=(this||k).body.data.edges.getIds();this.add(O,!0)}(this||k).body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===x&&(this||k).body.emitter.emit("_dataChanged")}},{key:"add",value:function(b){for(var w=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=(this||k).body.edges,x=(this||k).body.data.edges,E=0;E<b.length;E++){var O=b[E],C=_[O];C&&C.disconnect();var S=x.get(O,{showInternalIds:!0});_[O]=this.create(S)}(this||k).body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===w&&(this||k).body.emitter.emit("_dataChanged")}},{key:"update",value:function(b){for(var w=(this||k).body.edges,_=(this||k).body.data.edges,x=!1,E=0;E<b.length;E++){var O=b[E],C=_.get(O),S=w[O];void 0!==S?(S.disconnect(),x=S.setOptions(C)||x,S.connect()):((this||k).body.edges[O]=this.create(C),x=!0)}!0===x?((this||k).body.emitter.emit("_adjustEdgesForHierarchicalLayout"),(this||k).body.emitter.emit("_dataChanged")):(this||k).body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(b){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==b.length){var _=(this||k).body.edges;Wy(b,(function(b){var w=_[b];void 0!==w&&w.remove()})),w&&(this||k).body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var b=this||k;Wy((this||k).body.edges,(function(w,k){var _=b.body.data.edges.get(k);void 0!==_&&w.setOptions(_)}))}},{key:"create",value:function(b){return new Gx(b,(this||k).body,(this||k).images,(this||k).options,(this||k).defaultOptions)}},{key:"reconnectEdges",value:function(){var b,w=(this||k).body.nodes,_=(this||k).body.edges;for(b in w)Object.prototype.hasOwnProperty.call(w,b)&&(w[b].edges=[]);for(b in _)if(Object.prototype.hasOwnProperty.call(_,b)){var x=_[b];x.from=null,x.to=null,x.connect()}}},{key:"getConnectedNodes",value:function(b){var w=[];if(void 0!==(this||k).body.edges[b]){var _=(this||k).body.edges[b];void 0!==_.fromId&&w.push(_.fromId),void 0!==_.toId&&w.push(_.toId)}return w}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var b=this||k,w=[];Wy((this||k).body.edges,(function(k,_){var x=b.body.nodes[k.toId],E=b.body.nodes[k.fromId];void 0!==x&&!0===x.isCluster||void 0!==E&&!0===E.isCluster||void 0!==x&&void 0!==E||w.push(_)})),this.remove(w,!1)}},{key:"_addMissingEdges",value:function(){var b=(this||k).body.data.edges;if(null!=b){var w=(this||k).body.edges,_=[];Fu(b).call(b,(function(b,k){void 0===w[k]&&_.push(k)})),this.add(_,!0)}}}]),t}(),tE=function(){function t(b,w,_){Xl(this||k,t),(this||k).body=b,(this||k).physicsBody=w,(this||k).barnesHutTree,this.setOptions(_),(this||k)._rng=_y("BARNES HUT SOLVER")}return $l(t,[{key:"setOptions",value:function(b){(this||k).options=b,(this||k).thetaInversed=1/(this||k).options.theta,(this||k).overlapAvoidanceFactor=1-Math.max(0,Math.min(1,(this||k).options.avoidOverlap))}},{key:"solve",value:function(){if(0!==(this||k).options.gravitationalConstant&&(this||k).physicsBody.physicsNodeIndices.length>0){var b,w=(this||k).body.nodes,_=(this||k).physicsBody.physicsNodeIndices,x=_.length,E=this._formBarnesHutTree(w,_);(this||k).barnesHutTree=E;for(var O=0;O<x;O++)(b=w[_[O]]).options.mass>0&&this._getForceContributions(E.root,b)}}},{key:"_getForceContributions",value:function(b,w){this._getForceContribution(b.children.NW,w),this._getForceContribution(b.children.NE,w),this._getForceContribution(b.children.SW,w),this._getForceContribution(b.children.SE,w)}},{key:"_getForceContribution",value:function(b,w){if(b.childrenCount>0){var _=b.centerOfMass.x-w.x,x=b.centerOfMass.y-w.y,E=Math.sqrt(_*_+x*x);E*b.calcSize>(this||k).thetaInversed?this._calculateForces(E,_,x,w,b):4===b.childrenCount?this._getForceContributions(b,w):b.children.data.id!=w.id&&this._calculateForces(E,_,x,w,b)}}},{key:"_calculateForces",value:function(b,w,_,x,E){0===b&&(w=b=.1),(this||k).overlapAvoidanceFactor<1&&x.shape.radius&&(b=Math.max(.1+(this||k).overlapAvoidanceFactor*x.shape.radius,b-x.shape.radius));var O=(this||k).options.gravitationalConstant*E.mass*x.options.mass/Math.pow(b,3),C=w*O,S=_*O;(this||k).physicsBody.forces[x.id].x+=C,(this||k).physicsBody.forces[x.id].y+=S}},{key:"_formBarnesHutTree",value:function(b,w){for(var k,_=w.length,x=b[w[0]].x,E=b[w[0]].y,O=b[w[0]].x,C=b[w[0]].y,S=1;S<_;S++){var T=b[w[S]],M=T.x,D=T.y;T.options.mass>0&&(M<x&&(x=M),M>O&&(O=M),D<E&&(E=D),D>C&&(C=D))}var B=Math.abs(O-x)-Math.abs(C-E);B>0?(E-=.5*B,C+=.5*B):(x+=.5*B,O-=.5*B);var I=Math.max(1e-5,Math.abs(O-x)),F=.5*I,N=.5*(x+O),A=.5*(E+C),R={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:N-F,maxX:N+F,minY:A-F,maxY:A+F},size:I,calcSize:1/I,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(R.root);for(var j=0;j<_;j++)(k=b[w[j]]).options.mass>0&&this._placeInTree(R.root,k);return R}},{key:"_updateBranchMass",value:function(b,w){var k=b.centerOfMass,_=b.mass+w.options.mass,x=1/_;k.x=k.x*b.mass+w.x*w.options.mass,k.x*=x,k.y=k.y*b.mass+w.y*w.options.mass,k.y*=x,b.mass=_;var E=Math.max(Math.max(w.height,w.radius),w.width);b.maxWidth=b.maxWidth<E?E:b.maxWidth}},{key:"_placeInTree",value:function(b,w,k){1==k&&void 0!==k||this._updateBranchMass(b,w);var _,x=b.children.NW.range;_=x.maxX>w.x?x.maxY>w.y?"NW":"SW":x.maxY>w.y?"NE":"SE",this._placeInRegion(b,w,_)}},{key:"_placeInRegion",value:function(b,w,k){var _=b.children[k];switch(_.childrenCount){case 0:_.children.data=w,_.childrenCount=1,this._updateBranchMass(_,w);break;case 1:_.children.data.x===w.x&&_.children.data.y===w.y?(w.x+=this._rng(),w.y+=this._rng()):(this._splitBranch(_),this._placeInTree(_,w));break;case 4:this._placeInTree(_,w)}}},{key:"_splitBranch",value:function(b){var w=null;1===b.childrenCount&&(w=b.children.data,b.mass=0,b.centerOfMass.x=0,b.centerOfMass.y=0),b.childrenCount=4,b.children.data=null,this._insertRegion(b,"NW"),this._insertRegion(b,"NE"),this._insertRegion(b,"SW"),this._insertRegion(b,"SE"),null!=w&&this._placeInTree(b,w)}},{key:"_insertRegion",value:function(b,w){var k,_,x,E,O=.5*b.size;switch(w){case"NW":k=b.range.minX,_=b.range.minX+O,x=b.range.minY,E=b.range.minY+O;break;case"NE":k=b.range.minX+O,_=b.range.maxX,x=b.range.minY,E=b.range.minY+O;break;case"SW":k=b.range.minX,_=b.range.minX+O,x=b.range.minY+O,E=b.range.maxY;break;case"SE":k=b.range.minX+O,_=b.range.maxX,x=b.range.minY+O,E=b.range.maxY}b.children[w]={centerOfMass:{x:0,y:0},mass:0,range:{minX:k,maxX:_,minY:x,maxY:E},size:.5*b.size,calcSize:2*b.calcSize,children:{data:null},maxWidth:0,level:b.level+1,childrenCount:0}}},{key:"_debug",value:function(b,w){void 0!==(this||k).barnesHutTree&&(b.lineWidth=1,this._drawBranch((this||k).barnesHutTree.root,b,w))}},{key:"_drawBranch",value:function(b,w,k){void 0===k&&(k="#FF0000"),4===b.childrenCount&&(this._drawBranch(b.children.NW,w),this._drawBranch(b.children.NE,w),this._drawBranch(b.children.SE,w),this._drawBranch(b.children.SW,w)),w.strokeStyle=k,w.beginPath(),w.moveTo(b.range.minX,b.range.minY),w.lineTo(b.range.maxX,b.range.minY),w.stroke(),w.beginPath(),w.moveTo(b.range.maxX,b.range.minY),w.lineTo(b.range.maxX,b.range.maxY),w.stroke(),w.beginPath(),w.moveTo(b.range.maxX,b.range.maxY),w.lineTo(b.range.minX,b.range.maxY),w.stroke(),w.beginPath(),w.moveTo(b.range.minX,b.range.maxY),w.lineTo(b.range.minX,b.range.minY),w.stroke()}}]),t}(),eE=function(){function t(b,w,_){Xl(this||k,t),(this||k)._rng=_y("REPULSION SOLVER"),(this||k).body=b,(this||k).physicsBody=w,this.setOptions(_)}return $l(t,[{key:"setOptions",value:function(b){(this||k).options=b}},{key:"solve",value:function(){for(var b,w,_,x,E,O,C,S,T=(this||k).body.nodes,M=(this||k).physicsBody.physicsNodeIndices,D=(this||k).physicsBody.forces,B=(this||k).options.nodeDistance,I=-2/3/B,F=0;F<M.length-1;F++){C=T[M[F]];for(var N=F+1;N<M.length;N++)b=(S=T[M[N]]).x-C.x,w=S.y-C.y,0===(_=Math.sqrt(b*b+w*w))&&(b=_=.1*this._rng()),_<2*B&&(O=_<.5*B?1:I*_+1.3333333333333333,x=b*(O/=_),E=w*O,D[C.id].x-=x,D[C.id].y-=E,D[S.id].x+=x,D[S.id].y+=E)}}}]),t}(),nE=function(){function t(b,w,_){Xl(this||k,t),(this||k).body=b,(this||k).physicsBody=w,this.setOptions(_)}return $l(t,[{key:"setOptions",value:function(b){(this||k).options=b,(this||k).overlapAvoidanceFactor=Math.max(0,Math.min(1,(this||k).options.avoidOverlap||0))}},{key:"solve",value:function(){for(var b=(this||k).body.nodes,w=(this||k).physicsBody.physicsNodeIndices,_=(this||k).physicsBody.forces,x=(this||k).options.nodeDistance,E=0;E<w.length-1;E++)for(var O=b[w[E]],C=E+1;C<w.length;C++){var S=b[w[C]];if(O.level===S.level){var T=x+(this||k).overlapAvoidanceFactor*((O.shape.radius||0)/2+(S.shape.radius||0)/2),M=S.x-O.x,D=S.y-O.y,B=Math.sqrt(M*M+D*D),I=void 0;I=B<T?-Math.pow(.05*B,2)+Math.pow(.05*T,2):0,0!==B&&(I/=B);var F=M*I,N=D*I;_[O.id].x-=F,_[O.id].y-=N,_[S.id].x+=F,_[S.id].y+=N}}}}]),t}(),sE=function(){function t(b,w,_){Xl(this||k,t),(this||k).body=b,(this||k).physicsBody=w,this.setOptions(_)}return $l(t,[{key:"setOptions",value:function(b){(this||k).options=b}},{key:"solve",value:function(){for(var b,w,_,x,E,O=(this||k).physicsBody.physicsEdgeIndices,C=(this||k).body.edges,S=0;S<O.length;S++)!0===(w=C[O[S]]).connected&&w.toId!==w.fromId&&void 0!==(this||k).body.nodes[w.toId]&&void 0!==(this||k).body.nodes[w.fromId]&&(void 0!==w.edgeType.via?(b=void 0===w.options.length?(this||k).options.springLength:w.options.length,_=w.to,x=w.edgeType.via,E=w.from,this._calculateSpringForce(_,x,.5*b),this._calculateSpringForce(x,E,.5*b)):(b=void 0===w.options.length?1.5*(this||k).options.springLength:w.options.length,this._calculateSpringForce(w.from,w.to,b)))}},{key:"_calculateSpringForce",value:function(b,w,_){var x=b.x-w.x,E=b.y-w.y,O=Math.max(Math.sqrt(x*x+E*E),.01),C=(this||k).options.springConstant*(_-O)/O,S=x*C,T=E*C;void 0!==(this||k).physicsBody.forces[b.id]&&((this||k).physicsBody.forces[b.id].x+=S,(this||k).physicsBody.forces[b.id].y+=T),void 0!==(this||k).physicsBody.forces[w.id]&&((this||k).physicsBody.forces[w.id].x-=S,(this||k).physicsBody.forces[w.id].y-=T)}}]),t}(),hE=function(){function t(b,w,_){Xl(this||k,t),(this||k).body=b,(this||k).physicsBody=w,this.setOptions(_)}return $l(t,[{key:"setOptions",value:function(b){(this||k).options=b}},{key:"solve",value:function(){for(var b,w,_,x,E,O,C,S,T,M,D=(this||k).body.edges,B=.5,I=(this||k).physicsBody.physicsEdgeIndices,F=(this||k).physicsBody.physicsNodeIndices,N=(this||k).physicsBody.forces,A=0;A<F.length;A++){var R=F[A];N[R].springFx=0,N[R].springFy=0}for(var j=0;j<I.length;j++)!0===(w=D[I[j]]).connected&&(b=void 0===w.options.length?(this||k).options.springLength:w.options.length,_=w.from.x-w.to.x,x=w.from.y-w.to.y,S=0===(S=Math.sqrt(_*_+x*x))?.01:S,E=_*(C=(this||k).options.springConstant*(b-S)/S),O=x*C,w.to.level!=w.from.level?(void 0!==N[w.toId]&&(N[w.toId].springFx-=E,N[w.toId].springFy-=O),void 0!==N[w.fromId]&&(N[w.fromId].springFx+=E,N[w.fromId].springFy+=O)):(void 0!==N[w.toId]&&(N[w.toId].x-=B*E,N[w.toId].y-=B*O),void 0!==N[w.fromId]&&(N[w.fromId].x+=B*E,N[w.fromId].y+=B*O)));C=1;for(var L=0;L<F.length;L++){var H=F[L];T=Math.min(C,Math.max(-C,N[H].springFx)),M=Math.min(C,Math.max(-C,N[H].springFy)),N[H].x+=T,N[H].y+=M}for(var q=0,V=0,$=0;$<F.length;$++){var Y=F[$];q+=N[Y].x,V+=N[Y].y}for(var G=q/F.length,K=V/F.length,Z=0;Z<F.length;Z++){var tt=F[Z];N[tt].x-=G,N[tt].y-=K}}}]),t}(),cE=function(){function t(b,w,_){Xl(this||k,t),(this||k).body=b,(this||k).physicsBody=w,this.setOptions(_)}return $l(t,[{key:"setOptions",value:function(b){(this||k).options=b}},{key:"solve",value:function(){for(var b,w,_,x,E=(this||k).body.nodes,O=(this||k).physicsBody.physicsNodeIndices,C=(this||k).physicsBody.forces,S=0;S<O.length;S++)b=-(x=E[O[S]]).x,w=-x.y,_=Math.sqrt(b*b+w*w),this._calculateForces(_,b,w,C,x)}},{key:"_calculateForces",value:function(b,w,_,x,E){var O=0===b?0:(this||k).options.centralGravity/b;x[E.id].x=w*O,x[E.id].y=_*O}}]),t}();function Fx(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var uE=function(b){Rk(i,b);var w=Fx(i);function i(b,_,x){var E;return Xl(this||k,i),(E=w.call(this||k,b,_,x))._rng=_y("FORCE ATLAS 2 BASED REPULSION SOLVER"),E}return $l(i,[{key:"_calculateForces",value:function(b,w,_,x,E){0===b&&(w=b=.1*this._rng()),(this||k).overlapAvoidanceFactor<1&&x.shape.radius&&(b=Math.max(.1+(this||k).overlapAvoidanceFactor*x.shape.radius,b-x.shape.radius));var O=x.edges.length+1,C=(this||k).options.gravitationalConstant*E.mass*x.options.mass*O/Math.pow(b,2),S=w*C,T=_*C;(this||k).physicsBody.forces[x.id].x+=S,(this||k).physicsBody.forces[x.id].y+=T}}]),i}(tE);function Ax(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var fE,pE=function(b){Rk(i,b);var w=Ax(i);function i(b,_,x){return Xl(this||k,i),w.call(this||k,b,_,x)}return $l(i,[{key:"_calculateForces",value:function(b,w,_,x,E){if(b>0){var O=E.edges.length+1,C=(this||k).options.centralGravity*O*E.options.mass;x[E.id].x=w*C,x[E.id].y=_*C}}}]),i}(cE),vE=function(){function t(b){Xl(this||k,t),(this||k).body=b,(this||k).physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},(this||k).physicsEnabled=!0,(this||k).simulationInterval=1e3/60,(this||k).requiresTimeout=!0,(this||k).previousStates={},(this||k).referenceState={},(this||k).freezeCache={},(this||k).renderTimer=void 0,(this||k).adaptiveTimestep=!1,(this||k).adaptiveTimestepEnabled=!1,(this||k).adaptiveCounter=0,(this||k).adaptiveInterval=3,(this||k).stabilized=!1,(this||k).startedStabilization=!1,(this||k).stabilizationIterations=0,(this||k).ready=!1,(this||k).options={},(this||k).defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Bo((this||k).options,(this||k).defaultOptions),(this||k).timestep=.5,(this||k).layoutFailed=!1,this.bindEventListeners()}return $l(t,[{key:"bindEventListeners",value:function(){var b=this||k;(this||k).body.emitter.on("initPhysics",(function(){b.initPhysics()})),(this||k).body.emitter.on("_layoutFailed",(function(){b.layoutFailed=!0})),(this||k).body.emitter.on("resetPhysics",(function(){b.stopSimulation(),b.ready=!1})),(this||k).body.emitter.on("disablePhysics",(function(){b.physicsEnabled=!1,b.stopSimulation()})),(this||k).body.emitter.on("restorePhysics",(function(){b.setOptions(b.options),!0===b.ready&&b.startSimulation()})),(this||k).body.emitter.on("startSimulation",(function(){!0===b.ready&&b.startSimulation()})),(this||k).body.emitter.on("stopSimulation",(function(){b.stopSimulation()})),(this||k).body.emitter.on("destroy",(function(){b.stopSimulation(!1),b.body.emitter.off()})),(this||k).body.emitter.on("_dataChanged",(function(){b.updatePhysicsData()}))}},{key:"setOptions",value:function(b){if(void 0!==b)if(!1===b)(this||k).options.enabled=!1,(this||k).physicsEnabled=!1,this.stopSimulation();else if(!0===b)(this||k).options.enabled=!0,(this||k).physicsEnabled=!0,this.startSimulation();else{(this||k).physicsEnabled=!0,Ay(["stabilization"],(this||k).options,b),tm((this||k).options,b,"stabilization"),void 0===b.enabled&&((this||k).options.enabled=!0),!1===(this||k).options.enabled&&((this||k).physicsEnabled=!1,this.stopSimulation());var w=(this||k).options.wind;w&&(("number"!=typeof w.x||qw(w.x))&&(w.x=0),("number"!=typeof w.y||qw(w.y))&&(w.y=0)),(this||k).timestep=(this||k).options.timestep}this.init()}},{key:"init",value:function(){var b;"forceAtlas2Based"===(this||k).options.solver?(b=(this||k).options.forceAtlas2Based,(this||k).nodesSolver=new uE((this||k).body,(this||k).physicsBody,b),(this||k).edgesSolver=new sE((this||k).body,(this||k).physicsBody,b),(this||k).gravitySolver=new pE((this||k).body,(this||k).physicsBody,b)):"repulsion"===(this||k).options.solver?(b=(this||k).options.repulsion,(this||k).nodesSolver=new eE((this||k).body,(this||k).physicsBody,b),(this||k).edgesSolver=new sE((this||k).body,(this||k).physicsBody,b),(this||k).gravitySolver=new cE((this||k).body,(this||k).physicsBody,b)):"hierarchicalRepulsion"===(this||k).options.solver?(b=(this||k).options.hierarchicalRepulsion,(this||k).nodesSolver=new nE((this||k).body,(this||k).physicsBody,b),(this||k).edgesSolver=new hE((this||k).body,(this||k).physicsBody,b),(this||k).gravitySolver=new cE((this||k).body,(this||k).physicsBody,b)):(b=(this||k).options.barnesHut,(this||k).nodesSolver=new tE((this||k).body,(this||k).physicsBody,b),(this||k).edgesSolver=new sE((this||k).body,(this||k).physicsBody,b),(this||k).gravitySolver=new cE((this||k).body,(this||k).physicsBody,b)),(this||k).modelOptions=b}},{key:"initPhysics",value:function(){!0===(this||k).physicsEnabled&&!0===(this||k).options.enabled?!0===(this||k).options.stabilization.enabled?this.stabilize():((this||k).stabilized=!1,(this||k).ready=!0,(this||k).body.emitter.emit("fit",{},(this||k).layoutFailed),this.startSimulation()):((this||k).ready=!0,(this||k).body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var b;!0===(this||k).physicsEnabled&&!0===(this||k).options.enabled?((this||k).stabilized=!1,(this||k).adaptiveTimestep=!1,(this||k).body.emitter.emit("_resizeNodes"),void 0===(this||k).viewFunction&&((this||k).viewFunction=rn(b=(this||k).simulationStep).call(b,this||k),(this||k).body.emitter.on("initRedraw",(this||k).viewFunction),(this||k).body.emitter.emit("_startRendering"))):(this||k).body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var b=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(this||k).stabilized=!0,!0===b&&this._emitStabilized(),void 0!==(this||k).viewFunction&&((this||k).body.emitter.off("initRedraw",(this||k).viewFunction),(this||k).viewFunction=void 0,!0===b&&(this||k).body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var b=Wu();this.physicsTick(),(Wu()-b<.4*(this||k).simulationInterval||!0===(this||k).runDoubleSpeed)&&!1===(this||k).stabilized&&(this.physicsTick(),(this||k).runDoubleSpeed=!0),!0===(this||k).stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var b=this||k,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(this||k).stabilizationIterations;((this||k).stabilizationIterations>1||!0===(this||k).startedStabilization)&&Wv((function(){b.body.emitter.emit("stabilized",{iterations:w}),b.startedStabilization=!1,b.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){(this||k).gravitySolver.solve(),(this||k).nodesSolver.solve(),(this||k).edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?(this||k).timestep=1.2*(this||k).timestep:(this||k).timestep/1.2<(this||k).options.timestep?(this||k).timestep=(this||k).options.timestep:((this||k).adaptiveCounter=-1,(this||k).timestep=Math.max((this||k).options.timestep,(this||k).timestep/1.2))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),!0!==(this||k).stabilized){!0===(this||k).adaptiveTimestep&&!0===(this||k).adaptiveTimestepEnabled?((this||k).adaptiveCounter%(this||k).adaptiveInterval==0?((this||k).timestep=2*(this||k).timestep,this.physicsStep(),this.revert(),(this||k).timestep=.5*(this||k).timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),(this||k).adaptiveCounter+=1):((this||k).timestep=(this||k).options.timestep,this.physicsStep());!0===(this||k).stabilized&&this.revert(),(this||k).stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){(this||k).physicsBody.forces={},(this||k).physicsBody.physicsNodeIndices=[],(this||k).physicsBody.physicsEdgeIndices=[];var b=(this||k).body.nodes,w=(this||k).body.edges;for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&!0===b[_].options.physics&&(this||k).physicsBody.physicsNodeIndices.push(b[_].id);for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&!0===w[x].options.physics&&(this||k).physicsBody.physicsEdgeIndices.push(w[x].id);for(var E=0;E<(this||k).physicsBody.physicsNodeIndices.length;E++){var O=(this||k).physicsBody.physicsNodeIndices[E];(this||k).physicsBody.forces[O]={x:0,y:0},void 0===(this||k).physicsBody.velocities[O]&&((this||k).physicsBody.velocities[O]={x:0,y:0})}for(var C in(this||k).physicsBody.velocities)void 0===b[C]&&delete(this||k).physicsBody.velocities[C]}},{key:"revert",value:function(){var b=Au((this||k).previousStates),w=(this||k).body.nodes,_=(this||k).physicsBody.velocities;(this||k).referenceState={};for(var x=0;x<b.length;x++){var E=b[x];void 0!==w[E]?!0===w[E].options.physics&&((this||k).referenceState[E]={positions:{x:w[E].x,y:w[E].y}},_[E].x=(this||k).previousStates[E].vx,_[E].y=(this||k).previousStates[E].vy,w[E].x=(this||k).previousStates[E].x,w[E].y=(this||k).previousStates[E].y):delete(this||k).previousStates[E]}}},{key:"_evaluateStepQuality",value:function(){var b,w,_=(this||k).body.nodes,x=(this||k).referenceState;for(var E in(this||k).referenceState)if(Object.prototype.hasOwnProperty.call((this||k).referenceState,E)&&void 0!==_[E]&&(b=_[E].x-x[E].positions.x,w=_[E].y-x[E].positions.y,Math.sqrt(Math.pow(b,2)+Math.pow(w,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var b=(this||k).physicsBody.physicsNodeIndices,w=0,_=0,x=0;x<b.length;x++){var E=b[x],O=this._performStep(E);w=Math.max(w,O),_+=O}(this||k).adaptiveTimestepEnabled=_/b.length<5,(this||k).stabilized=w<(this||k).options.minVelocity}},{key:"calculateComponentVelocity",value:function(b,w,_){b+=(w-(this||k).modelOptions.damping*b)/_*(this||k).timestep;var x=(this||k).options.maxVelocity||1e9;return Math.abs(b)>x&&(b=b>0?x:-x),b}},{key:"_performStep",value:function(b){var w=(this||k).body.nodes[b],_=(this||k).physicsBody.forces[b];(this||k).options.wind&&(_.x+=(this||k).options.wind.x,_.y+=(this||k).options.wind.y);var x=(this||k).physicsBody.velocities[b];return(this||k).previousStates[b]={x:w.x,y:w.y,vx:x.x,vy:x.y},!1===w.options.fixed.x?(x.x=this.calculateComponentVelocity(x.x,_.x,w.options.mass),w.x+=x.x*(this||k).timestep):(_.x=0,x.x=0),!1===w.options.fixed.y?(x.y=this.calculateComponentVelocity(x.y,_.y,w.options.mass),w.y+=x.y*(this||k).timestep):(_.y=0,x.y=0),Math.sqrt(Math.pow(x.x,2)+Math.pow(x.y,2))}},{key:"_freezeNodes",value:function(){var b=(this||k).body.nodes;for(var w in b)if(Object.prototype.hasOwnProperty.call(b,w)&&b[w].x&&b[w].y){var _=b[w].options.fixed;(this||k).freezeCache[w]={x:_.x,y:_.y},_.x=!0,_.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var b=(this||k).body.nodes;for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&void 0!==(this||k).freezeCache[w]&&(b[w].options.fixed.x=(this||k).freezeCache[w].x,b[w].options.fixed.y=(this||k).freezeCache[w].y);(this||k).freezeCache={}}},{key:"stabilize",value:function(){var b=this||k,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(this||k).options.stabilization.iterations;"number"!=typeof w&&(w=(this||k).options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",w)),0!==(this||k).physicsBody.physicsNodeIndices.length?((this||k).adaptiveTimestep=(this||k).options.adaptiveTimestep,(this||k).body.emitter.emit("_resizeNodes"),this.stopSimulation(),(this||k).stabilized=!1,(this||k).body.emitter.emit("_blockRedraw"),(this||k).targetIterations=w,!0===(this||k).options.stabilization.onlyDynamicEdges&&this._freezeNodes(),(this||k).stabilizationIterations=0,Wv((function(){return b._stabilizationBatch()}),0)):(this||k).ready=!0}},{key:"_startStabilizing",value:function(){return!0!==(this||k).startedStabilization&&((this||k).body.emitter.emit("startStabilizing"),(this||k).startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var b=this||k,e=function(){return!1===b.stabilized&&b.stabilizationIterations<b.targetIterations},i=function(){b.body.emitter.emit("stabilizationProgress",{iterations:b.stabilizationIterations,total:b.targetIterations})};this._startStabilizing()&&i();for(var w,_=0;e()&&_<(this||k).options.stabilization.updateInterval;)this.physicsTick(),_++;i(),e()?Wv(rn(w=(this||k)._stabilizationBatch).call(w,this||k),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){(this||k).body.emitter.emit("_allowRedraw"),!0===(this||k).options.stabilization.fit&&(this||k).body.emitter.emit("fit"),!0===(this||k).options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),(this||k).body.emitter.emit("stabilizationIterationsDone"),(this||k).body.emitter.emit("_requestRedraw"),!0===(this||k).stabilized?this._emitStabilized():this.startSimulation(),(this||k).ready=!0}},{key:"_drawForces",value:function(b){for(var w=0;w<(this||k).physicsBody.physicsNodeIndices.length;w++){var _=(this||k).physicsBody.physicsNodeIndices[w],x=(this||k).body.nodes[_],E=(this||k).physicsBody.forces[_],O=Math.sqrt(Math.pow(E.x,2)+Math.pow(E.x,2)),C=Math.min(Math.max(5,O),15),S=3*C,T=Ky((180-180*Math.min(1,Math.max(0,.03*O)))/360,1,1),M={x:x.x+20*E.x,y:x.y+20*E.y};b.lineWidth=C,b.strokeStyle=T,b.beginPath(),b.moveTo(x.x,x.y),b.lineTo(M.x,M.y),b.stroke();var D=Math.atan2(E.y,E.x);b.fillStyle=T,Rx.draw(b,{type:"arrow",point:M,angle:D,length:S}),Qv(b).call(b)}}}]),t}(),gE=new Uint8Array(16);function Wx(){if(!fE&&!(fE="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fE(gE)}var yE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function qx(b){return"string"==typeof b&&yE.test(b)}for(var mE=[],bE=0;bE<256;++bE)mE.push((bE+256).toString(16).substr(1));function Xx(b,w,k){var _=(b=b||{}).random||(b.rng||Wx)();if(_[6]=15&_[6]|64,_[8]=63&_[8]|128,w){k=k||0;for(var x=0;x<16;++x)w[k+x]=_[x];return w}return function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,k=(mE[b[w+0]]+mE[b[w+1]]+mE[b[w+2]]+mE[b[w+3]]+"-"+mE[b[w+4]]+mE[b[w+5]]+"-"+mE[b[w+6]]+mE[b[w+7]]+"-"+mE[b[w+8]]+mE[b[w+9]]+"-"+mE[b[w+10]]+mE[b[w+11]]+mE[b[w+12]]+mE[b[w+13]]+mE[b[w+14]]+mE[b[w+15]]).toLowerCase();if(!qx(k))throw TypeError("Stringified UUID is invalid");return k}(_)}var wE=function(){function t(){Xl(this||k,t)}return $l(t,null,[{key:"getRange",value:function(b){var w,k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],_=1e9,x=-1e9,E=1e9,O=-1e9;if(k.length>0)for(var C=0;C<k.length;C++)E>(w=b[k[C]]).shape.boundingBox.left&&(E=w.shape.boundingBox.left),O<w.shape.boundingBox.right&&(O=w.shape.boundingBox.right),_>w.shape.boundingBox.top&&(_=w.shape.boundingBox.top),x<w.shape.boundingBox.bottom&&(x=w.shape.boundingBox.bottom);return 1e9===E&&-1e9===O&&1e9===_&&-1e9===x&&(_=0,x=0,E=0,O=0),{minX:E,maxX:O,minY:_,maxY:x}}},{key:"getRangeCore",value:function(b){var w,k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],_=1e9,x=-1e9,E=1e9,O=-1e9;if(k.length>0)for(var C=0;C<k.length;C++)E>(w=b[k[C]]).x&&(E=w.x),O<w.x&&(O=w.x),_>w.y&&(_=w.y),x<w.y&&(x=w.y);return 1e9===E&&-1e9===O&&1e9===_&&-1e9===x&&(_=0,x=0,E=0,O=0),{minX:E,maxX:O,minY:_,maxY:x}}},{key:"findCenter",value:function(b){return{x:.5*(b.maxX+b.minX),y:.5*(b.maxY+b.minY)}}},{key:"cloneOptions",value:function(b,w){var k={};return void 0===w||"node"===w?(Ry(k,b.options,!0),k.x=b.x,k.y=b.y,k.amountOfConnections=b.edges.length):Ry(k,b.options,!0),k}}]),t}();function Kx(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var kE=function(b){Rk(i,b);var w=Kx(i);function i(b,_,x,E,O,C){var S;return Xl(this||k,i),(S=w.call(this||k,b,_,x,E,O,C)).isCluster=!0,S.containedNodes={},S.containedEdges={},S}return $l(i,[{key:"_openChildCluster",value:function(b){var w=this||k,_=(this||k).body.nodes[b];if(void 0===(this||k).containedNodes[b])throw new Error("node with id: "+b+" not in current cluster");if(!_.isCluster)throw new Error("node with id: "+b+" is not a cluster");delete(this||k).containedNodes[b],Wy(_.edges,(function(b){delete w.containedEdges[b.id]})),Wy(_.containedNodes,(function(b,k){w.containedNodes[k]=b})),_.containedNodes={},Wy(_.containedEdges,(function(b,k){w.containedEdges[k]=b})),_.containedEdges={},Wy(_.edges,(function(b){Wy(w.edges,(function(k){var _,x,E=Jp(_=k.clusteringEdgeReplacingIds).call(_,b.id);-1!==E&&(Wy(b.clusteringEdgeReplacingIds,(function(b){k.clusteringEdgeReplacingIds.push(b),w.body.edges[b].edgeReplacedById=k.id})),Bf(x=k.clusteringEdgeReplacingIds).call(x,E,1))}))})),_.edges=[]}}]),i}(J_),_E=function(){function t(b){var w=this||k;Xl(this||k,t),(this||k).body=b,(this||k).clusteredNodes={},(this||k).clusteredEdges={},(this||k).options={},(this||k).defaultOptions={},Bo((this||k).options,(this||k).defaultOptions),(this||k).body.emitter.on("_resetData",(function(){w.clusteredNodes={},w.clusteredEdges={}}))}return $l(t,[{key:"clusterByHubsize",value:function(b,w){void 0===b?b=this._getHubSize():"object"===Qc(b)&&(w=this._checkOptions(b),b=this._getHubSize());for(var _=[],x=0;x<(this||k).body.nodeIndices.length;x++){var E=(this||k).body.nodes[(this||k).body.nodeIndices[x]];E.edges.length>=b&&_.push(E.id)}for(var O=0;O<_.length;O++)this.clusterByConnection(_[O],w,!0);(this||k).body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var b=this||k,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===w.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");w=this._checkOptions(w);var x={},E={};Wy((this||k).body.nodes,(function(k,_){k.options&&!0===w.joinCondition(k.options)&&(x[_]=k,Wy(k.edges,(function(w){void 0===b.clusteredEdges[w.id]&&(E[w.id]=w)})))})),this._cluster(x,E,w,_)}},{key:"clusterByEdgeCount",value:function(b,w){var _=this||k,x=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];w=this._checkOptions(w);for(var E,O,C,S=[],T={},d=function(k){var x={},M={},D=_.body.nodeIndices[k],B=_.body.nodes[D];if(void 0===T[D]){C=0,O=[];for(var I=0;I<B.edges.length;I++)E=B.edges[I],void 0===_.clusteredEdges[E.id]&&(E.toId!==E.fromId&&C++,O.push(E));if(C===b){for(var p=function(b){if(void 0===w.joinCondition||null===w.joinCondition)return!0;var k=wE.cloneOptions(b);return w.joinCondition(k)},F=!0,N=0;N<O.length;N++){E=O[N];var A=_._getConnectedId(E,D);if(!p(B)){F=!1;break}M[E.id]=E,x[D]=B,x[A]=_.body.nodes[A],T[D]=!0}if(Au(x).length>0&&Au(M).length>0&&!0===F){var R=function(){for(var b=0;b<S.length;++b)for(var w in x)if(void 0!==S[b].nodes[w])return S[b]}();if(void 0!==R){for(var j in x)void 0===R.nodes[j]&&(R.nodes[j]=x[j]);for(var L in M)void 0===R.edges[L]&&(R.edges[L]=M[L])}else S.push({nodes:x,edges:M})}}}},M=0;M<(this||k).body.nodeIndices.length;M++)d(M);for(var D=0;D<S.length;D++)this._cluster(S[D].nodes,S[D].edges,w,!1);!0===x&&(this||k).body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(b){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,b,w)}},{key:"clusterBridges",value:function(b){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,b,w)}},{key:"clusterByConnection",value:function(b,w){var _,x=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===b)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===(this||k).body.nodes[b])throw new Error("The nodeId given to clusterByConnection does not exist!");var E=(this||k).body.nodes[b];void 0===(w=this._checkOptions(w,E)).clusterNodeProperties.x&&(w.clusterNodeProperties.x=E.x),void 0===w.clusterNodeProperties.y&&(w.clusterNodeProperties.y=E.y),void 0===w.clusterNodeProperties.fixed&&(w.clusterNodeProperties.fixed={},w.clusterNodeProperties.fixed.x=E.options.fixed.x,w.clusterNodeProperties.fixed.y=E.options.fixed.y);var O={},C={},S=E.id,T=wE.cloneOptions(E);O[S]=E;for(var M=0;M<E.edges.length;M++){var D=E.edges[M];if(void 0===(this||k).clusteredEdges[D.id]){var B=this._getConnectedId(D,S);if(void 0===(this||k).clusteredNodes[B])if(B!==S)if(void 0===w.joinCondition)C[D.id]=D,O[B]=(this||k).body.nodes[B];else{var I=wE.cloneOptions((this||k).body.nodes[B]);!0===w.joinCondition(T,I)&&(C[D.id]=D,O[B]=(this||k).body.nodes[B])}else C[D.id]=D}}var F=Iu(_=Au(O)).call(_,(function(b){return O[b].id}));for(var N in O)if(Object.prototype.hasOwnProperty.call(O,N))for(var A=O[N],R=0;R<A.edges.length;R++){var j=A.edges[R];Jp(F).call(F,this._getConnectedId(j,A.id))>-1&&(C[j.id]=j)}this._cluster(O,C,w,x)}},{key:"_createClusterEdges",value:function(b,w,_,x){for(var E,O,C,S,T,M,D=Au(b),B=[],I=0;I<D.length;I++){C=b[O=D[I]];for(var F=0;F<C.edges.length;F++)E=C.edges[F],void 0===(this||k).clusteredEdges[E.id]&&(E.toId==E.fromId?w[E.id]=E:E.toId==O?(S=_.id,M=T=E.fromId):(S=E.toId,T=_.id,M=S),void 0===b[M]&&B.push({edge:E,fromId:T,toId:S}))}for(var N=[],v=function(b){for(var w=0;w<N.length;w++){var k=N[w],_=b.fromId===k.fromId&&b.toId===k.toId,x=b.fromId===k.toId&&b.toId===k.fromId;if(_||x)return k}return null},A=0;A<B.length;A++){var R=B[A],j=R.edge,L=v(R);null===L?(L=this._createClusteredEdge(R.fromId,R.toId,j,x),N.push(L)):L.clusteringEdgeReplacingIds.push(j.id),(this||k).body.edges[j.id].edgeReplacedById=L.id,this._backupEdgeOptions(j),j.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===b.clusterEdgeProperties&&(b.clusterEdgeProperties={}),void 0===b.clusterNodeProperties&&(b.clusterNodeProperties={}),b}},{key:"_cluster",value:function(b,w,_){var x=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],E=[];for(var O in b)Object.prototype.hasOwnProperty.call(b,O)&&void 0!==(this||k).clusteredNodes[O]&&E.push(O);for(var C=0;C<E.length;++C)delete b[E[C]];if(0!=Au(b).length&&(1!=Au(b).length||1==_.clusterNodeProperties.allowSingleNodeCluster)){var S=Ry({},_.clusterNodeProperties);if(void 0!==_.processProperties){var T=[];for(var M in b)if(Object.prototype.hasOwnProperty.call(b,M)){var D=wE.cloneOptions(b[M]);T.push(D)}var B=[];for(var I in w)if(Object.prototype.hasOwnProperty.call(w,I)&&"clusterEdge:"!==I.substr(0,12)){var F=wE.cloneOptions(w[I],"edge");B.push(F)}if(!(S=_.processProperties(S,T,B)))throw new Error("The processProperties function does not return properties!")}void 0===S.id&&(S.id="cluster:"+Xx());var N=S.id;void 0===S.label&&(S.label="cluster");var A=void 0;void 0===S.x&&(A=this._getClusterPosition(b),S.x=A.x),void 0===S.y&&(void 0===A&&(A=this._getClusterPosition(b)),S.y=A.y),S.id=N;var R=(this||k).body.functions.createNode(S,kE);R.containedNodes=b,R.containedEdges=w,R.clusterEdgeProperties=_.clusterEdgeProperties,(this||k).body.nodes[S.id]=R,this._clusterEdges(b,w,S,_.clusterEdgeProperties),S.id=void 0,!0===x&&(this||k).body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(b){void 0===(this||k).clusteredEdges[b.id]&&((this||k).clusteredEdges[b.id]={physics:b.options.physics})}},{key:"_restoreEdge",value:function(b){var w=(this||k).clusteredEdges[b.id];void 0!==w&&(b.setOptions({physics:w.physics}),delete(this||k).clusteredEdges[b.id])}},{key:"isCluster",value:function(b){return void 0!==(this||k).body.nodes[b]?!0===(this||k).body.nodes[b].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(b){for(var w,k=Au(b),_=b[k[0]].x,x=b[k[0]].x,E=b[k[0]].y,O=b[k[0]].y,C=1;C<k.length;C++)_=(w=b[k[C]]).x<_?w.x:_,x=w.x>x?w.x:x,E=w.y<E?w.y:E,O=w.y>O?w.y:O;return{x:.5*(_+x),y:.5*(E+O)}}},{key:"openCluster",value:function(b,w){var _=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===b)throw new Error("No clusterNodeId supplied to openCluster.");var x=(this||k).body.nodes[b];if(void 0===x)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==x.isCluster||void 0===x.containedNodes||void 0===x.containedEdges)throw new Error("The node:"+b+" is not a valid cluster.");var E=this.findNode(b),O=Jp(E).call(E,b)-1;if(O>=0){var C=E[O],S=(this||k).body.nodes[C];return S._openChildCluster(b),delete(this||k).body.nodes[b],void(!0===_&&(this||k).body.emitter.emit("_dataChanged"))}var T=x.containedNodes,M=x.containedEdges;if(void 0!==w&&void 0!==w.releaseFunction&&"function"==typeof w.releaseFunction){var D={},B={x:x.x,y:x.y};for(var I in T)if(Object.prototype.hasOwnProperty.call(T,I)){var F=(this||k).body.nodes[I];D[I]={x:F.x,y:F.y}}var N=w.releaseFunction(B,D);for(var A in T)if(Object.prototype.hasOwnProperty.call(T,A)){var R=(this||k).body.nodes[A];void 0!==N[A]&&(R.x=void 0===N[A].x?x.x:N[A].x,R.y=void 0===N[A].y?x.y:N[A].y)}}else Wy(T,(function(b){!1===b.options.fixed.x&&(b.x=x.x),!1===b.options.fixed.y&&(b.y=x.y)}));for(var j in T)if(Object.prototype.hasOwnProperty.call(T,j)){var L=(this||k).body.nodes[j];L.vx=x.vx,L.vy=x.vy,L.setOptions({physics:!0}),delete(this||k).clusteredNodes[j]}for(var H=[],q=0;q<x.edges.length;q++)H.push(x.edges[q]);for(var V=0;V<H.length;V++){for(var $=H[V],Y=this._getConnectedId($,b),G=(this||k).clusteredNodes[Y],K=0;K<$.clusteringEdgeReplacingIds.length;K++){var Z=$.clusteringEdgeReplacingIds[K],tt=(this||k).body.edges[Z];if(void 0!==tt)if(void 0!==G){var et=(this||k).body.nodes[G.clusterId];et.containedEdges[tt.id]=tt,delete M[tt.id];var it=tt.fromId,ot=tt.toId;tt.toId==Y?ot=G.clusterId:it=G.clusterId,this._createClusteredEdge(it,ot,tt,et.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(tt)}$.remove()}for(var nt in M)Object.prototype.hasOwnProperty.call(M,nt)&&this._restoreEdge(M[nt]);delete(this||k).body.nodes[b],!0===_&&(this||k).body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(b){var w=[];if(!0===this.isCluster(b)){var _=(this||k).body.nodes[b].containedNodes;for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&w.push((this||k).body.nodes[x].id)}return w}},{key:"findNode",value:function(b){for(var w,_=[],x=0;void 0!==(this||k).clusteredNodes[b]&&x<100;){if(void 0===(w=(this||k).body.nodes[b]))return[];_.push(w.id),b=(this||k).clusteredNodes[b].clusterId,x++}return void 0===(w=(this||k).body.nodes[b])?[]:(_.push(w.id),df(_).call(_),_)}},{key:"updateClusteredNode",value:function(b,w){if(void 0===b)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===w)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===(this||k).body.nodes[b])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");(this||k).body.nodes[b].setOptions(w),(this||k).body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(b,w){if(void 0===b)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===w)throw new Error("No newOptions supplied to updateEdge.");if(void 0===(this||k).body.edges[b])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var _=this.getClusteredEdges(b),x=0;x<_.length;x++)(this||k).body.edges[_[x]].setOptions(w);(this||k).body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(b){for(var w=[],_=0;void 0!==b&&void 0!==(this||k).body.edges[b]&&_<100;)w.push((this||k).body.edges[b].id),b=(this||k).body.edges[b].edgeReplacedById,_++;return df(w).call(w),w}},{key:"getBaseEdge",value:function(b){return this.getBaseEdges(b)[0]}},{key:"getBaseEdges",value:function(b){for(var w=[b],_=[],x=[],E=0;w.length>0&&E<100;){var O=w.pop();if(void 0!==O){var C=(this||k).body.edges[O];if(void 0!==C){E++;var S=C.clusteringEdgeReplacingIds;if(void 0===S)x.push(O);else for(var T=0;T<S.length;++T){var M=S[T];-1===Jp(w).call(w,S)&&-1===Jp(_).call(_,S)&&w.push(M)}_.push(O)}}}return x}},{key:"_getConnectedId",value:function(b,w){return b.toId!=w?b.toId:(b.fromId,b.fromId)}},{key:"_getHubSize",value:function(){for(var b=0,w=0,_=0,x=0,E=0;E<(this||k).body.nodeIndices.length;E++){var O=(this||k).body.nodes[(this||k).body.nodeIndices[E]];O.edges.length>x&&(x=O.edges.length),b+=O.edges.length,w+=Math.pow(O.edges.length,2),_+=1}b/=_;var C=(w/=_)-Math.pow(b,2),S=Math.sqrt(C),T=Math.floor(b+2*S);return T>x&&(T=x),T}},{key:"_createClusteredEdge",value:function(b,w,_,x,E){var O=wE.cloneOptions(_,"edge");Ry(O,x),O.from=b,O.to=w,O.id="clusterEdge:"+Xx(),void 0!==E&&Ry(O,E);var C=(this||k).body.functions.createEdge(O);return C.clusteringEdgeReplacingIds=[_.id],C.connect(),(this||k).body.edges[C.id]=C,C}},{key:"_clusterEdges",value:function(b,w,_,x){if(w instanceof Gx){var E=w,O={};O[E.id]=E,w=O}if(b instanceof J_){var C=b,S={};S[C.id]=C,b=S}if(null==_)throw new Error("_clusterEdges: parameter clusterNode required");for(var T in void 0===x&&(x=_.clusterEdgeProperties),this._createClusterEdges(b,w,_,x),w)if(Object.prototype.hasOwnProperty.call(w,T)&&void 0!==(this||k).body.edges[T]){var M=(this||k).body.edges[T];this._backupEdgeOptions(M),M.setOptions({physics:!1})}for(var D in b)Object.prototype.hasOwnProperty.call(b,D)&&((this||k).clusteredNodes[D]={clusterId:_.id,node:(this||k).body.nodes[D]},(this||k).body.nodes[D].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(b){if(void 0!==b){var w=(this||k).clusteredNodes[b];if(void 0!==w){var _=w.clusterId;if(void 0!==_)return(this||k).body.nodes[_]}}}},{key:"_filter",value:function(b,w){var k=[];return Wy(b,(function(b){w(b)&&k.push(b)})),k}},{key:"_updateState",value:function(){var b,w=this||k,_=[],x={},n=function(b){Wy(w.body.nodes,(function(w){!0===w.isCluster&&b(w)}))};for(b in(this||k).clusteredNodes)Object.prototype.hasOwnProperty.call((this||k).clusteredNodes,b)&&void 0===(this||k).body.nodes[b]&&_.push(b);n((function(b){for(var w=0;w<_.length;w++)delete b.containedNodes[_[w]]}));for(var E=0;E<_.length;E++)delete(this||k).clusteredNodes[_[E]];Wy((this||k).clusteredEdges,(function(b){var k=w.body.edges[b];void 0!==k&&k.endPointsValid()||(x[b]=b)})),n((function(b){Wy(b.containedEdges,(function(b,w){b.endPointsValid()||x[w]||(x[w]=w)}))})),Wy((this||k).body.edges,(function(b,k){var _=!0,E=b.clusteringEdgeReplacingIds;if(void 0!==E){var O=0;Wy(E,(function(b){var k=w.body.edges[b];void 0!==k&&k.endPointsValid()&&(O+=1)})),_=O>0}b.endPointsValid()&&_||(x[k]=k)})),n((function(b){Wy(x,(function(k){delete b.containedEdges[k],Wy(b.edges,(function(_,E){_.id!==k?_.clusteringEdgeReplacingIds=w._filter(_.clusteringEdgeReplacingIds,(function(b){return!x[b]})):b.edges[E]=null})),b.edges=w._filter(b.edges,(function(b){return null!==b}))}))})),Wy(x,(function(b){delete w.clusteredEdges[b]})),Wy(x,(function(b){delete w.body.edges[b]})),Wy(Au((this||k).body.edges),(function(b){var k=w.body.edges[b],_=w._isClusteredNode(k.fromId)||w._isClusteredNode(k.toId);if(_!==w._isClusteredEdge(k.id))if(_){var x=w._getClusterNodeForNode(k.fromId);void 0!==x&&w._clusterEdges(w.body.nodes[k.fromId],k,x);var E=w._getClusterNodeForNode(k.toId);void 0!==E&&w._clusterEdges(w.body.nodes[k.toId],k,E)}else delete w._clusterEdges[b],w._restoreEdge(k)}));for(var O=!1,C=!0,h=function(){var b=[];n((function(w){var k=Au(w.containedNodes).length,_=!0===w.options.allowSingleNodeCluster;(_&&k<1||!_&&k<2)&&b.push(w.id)}));for(var k=0;k<b.length;++k)w.openCluster(b[k],{},!1);C=b.length>0,O=O||C};C;)h();O&&this._updateState()}},{key:"_isClusteredNode",value:function(b){return void 0!==(this||k).clusteredNodes[b]}},{key:"_isClusteredEdge",value:function(b){return void 0!==(this||k).clusteredEdges[b]}}]),t}();function Qx(b,w){var k=void 0!==bu&&kh(b)||b["@@iterator"];if(!k){if(Su(b)||(k=function(b,w){var k;if(b){if("string"==typeof b)return Jx(b,w);var _=Cu(k=Object.prototype.toString.call(b)).call(k,8,-1);"Object"===_&&b.constructor&&(_=b.constructor.name);return"Map"===_||"Set"===_?ih(b):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?Jx(b,w):void 0}}(b))||w&&b&&"number"==typeof b.length){k&&(b=k);var _=0,n=function(){};return{s:n,n:function(){return _>=b.length?{done:!0}:{done:!1,value:b[_++]}},e:function(b){throw b},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var x,E=!0,O=!1;return{s:function(){k=k.call(b)},n:function(){var b=k.next();return E=b.done,b},e:function(b){O=!0,x=b},f:function(){try{E||null==k.return||k.return()}finally{if(O)throw x}}}}function Jx(b,w){(null==w||w>b.length)&&(w=b.length);for(var k=0,_=new Array(w);k<w;k++)_[k]=b[k];return _}var xE=function(){function t(b,w){var _;Xl(this||k,t),void 0!==window&&(_=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===_?function(b){b()}:_,(this||k).body=b,(this||k).canvas=w,(this||k).redrawRequested=!1,(this||k).renderTimer=void 0,(this||k).requiresTimeout=!0,(this||k).renderingActive=!1,(this||k).renderRequests=0,(this||k).allowRedraw=!0,(this||k).dragging=!1,(this||k).zooming=!1,(this||k).options={},(this||k).defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Bo((this||k).options,(this||k).defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return $l(t,[{key:"bindEventListeners",value:function(){var b,w=this||k;(this||k).body.emitter.on("dragStart",(function(){w.dragging=!0})),(this||k).body.emitter.on("dragEnd",(function(){w.dragging=!1})),(this||k).body.emitter.on("zoom",(function(){w.zooming=!0,window.clearTimeout(w.zoomTimeoutId),w.zoomTimeoutId=Wv((function(){var b;w.zooming=!1,rn(b=w._requestRedraw).call(b,w)()}),250)})),(this||k).body.emitter.on("_resizeNodes",(function(){w._resizeNodes()})),(this||k).body.emitter.on("_redraw",(function(){!1===w.renderingActive&&w._redraw()})),(this||k).body.emitter.on("_blockRedraw",(function(){w.allowRedraw=!1})),(this||k).body.emitter.on("_allowRedraw",(function(){w.allowRedraw=!0,w.redrawRequested=!1})),(this||k).body.emitter.on("_requestRedraw",rn(b=(this||k)._requestRedraw).call(b,this||k)),(this||k).body.emitter.on("_startRendering",(function(){w.renderRequests+=1,w.renderingActive=!0,w._startRendering()})),(this||k).body.emitter.on("_stopRendering",(function(){w.renderRequests-=1,w.renderingActive=w.renderRequests>0,w.renderTimer=void 0})),(this||k).body.emitter.on("destroy",(function(){w.renderRequests=0,w.allowRedraw=!1,w.renderingActive=!1,!0===w.requiresTimeout?clearTimeout(w.renderTimer):window.cancelAnimationFrame(w.renderTimer),w.body.emitter.off()}))}},{key:"setOptions",value:function(b){void 0!==b&&Ny(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],(this||k).options,b)}},{key:"_requestNextFrame",value:function(b,w){if("undefined"!=typeof window){var _,x=window;return!0===(this||k).requiresTimeout?_=Wv(b,w):x.requestAnimationFrame&&(_=x.requestAnimationFrame(b)),_}}},{key:"_startRendering",value:function(){var b;!0===(this||k).renderingActive&&void 0===(this||k).renderTimer&&((this||k).renderTimer=this._requestNextFrame(rn(b=(this||k)._renderStep).call(b,this||k),(this||k).simulationInterval))}},{key:"_renderStep",value:function(){!0===(this||k).renderingActive&&((this||k).renderTimer=void 0,!0===(this||k).requiresTimeout&&this._startRendering(),this._redraw(),!1===(this||k).requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){(this||k).body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var b=this||k;!0!==(this||k).redrawRequested&&!1===(this||k).renderingActive&&!0===(this||k).allowRedraw&&((this||k).redrawRequested=!0,this._requestNextFrame((function(){b._redraw(!1)}),0))}},{key:"_redraw",value:function(){var b=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===(this||k).allowRedraw){(this||k).body.emitter.emit("initRedraw"),(this||k).redrawRequested=!1;var w={drawExternalLabels:null};0!==(this||k).canvas.frame.canvas.width&&0!==(this||k).canvas.frame.canvas.height||(this||k).canvas.setSize(),(this||k).canvas.setTransform();var _=(this||k).canvas.getContext(),x=(this||k).canvas.frame.canvas.clientWidth,E=(this||k).canvas.frame.canvas.clientHeight;if(_.clearRect(0,0,x,E),0===(this||k).canvas.frame.clientWidth)return;if(_.save(),_.translate((this||k).body.view.translation.x,(this||k).body.view.translation.y),_.scale((this||k).body.view.scale,(this||k).body.view.scale),_.beginPath(),(this||k).body.emitter.emit("beforeDrawing",_),_.closePath(),!1===b&&(!1===(this||k).dragging||!0===(this||k).dragging&&!1===(this||k).options.hideEdgesOnDrag)&&(!1===(this||k).zooming||!0===(this||k).zooming&&!1===(this||k).options.hideEdgesOnZoom)&&this._drawEdges(_),!1===(this||k).dragging||!0===(this||k).dragging&&!1===(this||k).options.hideNodesOnDrag){var O=this._drawNodes(_,b),C=O.drawExternalLabels;w.drawExternalLabels=C}!1===b&&(!1===(this||k).dragging||!0===(this||k).dragging&&!1===(this||k).options.hideEdgesOnDrag)&&(!1===(this||k).zooming||!0===(this||k).zooming&&!1===(this||k).options.hideEdgesOnZoom)&&this._drawArrows(_),null!=w.drawExternalLabels&&w.drawExternalLabels(),!1===b&&this._drawSelectionBox(_),_.beginPath(),(this||k).body.emitter.emit("afterDrawing",_),_.closePath(),_.restore(),!0===b&&_.clearRect(0,0,x,E)}}},{key:"_resizeNodes",value:function(){(this||k).canvas.setTransform();var b=(this||k).canvas.getContext();b.save(),b.translate((this||k).body.view.translation.x,(this||k).body.view.translation.y),b.scale((this||k).body.view.scale,(this||k).body.view.scale);var w,_=(this||k).body.nodes;for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&((w=_[x]).resize(b),w.updateBoundingBox(b,w.selected));b.restore()}},{key:"_drawNodes",value:function(b){for(var w,_,x=arguments.length>1&&void 0!==arguments[1]&&arguments[1],E=(this||k).body.nodes,O=(this||k).body.nodeIndices,C=[],S=[],T=20,M=(this||k).canvas.DOMtoCanvas({x:-T,y:-T}),D=(this||k).canvas.DOMtoCanvas({x:(this||k).canvas.frame.canvas.clientWidth+T,y:(this||k).canvas.frame.canvas.clientHeight+T}),B={top:M.y,left:M.x,bottom:D.y,right:D.x},I=[],F=0;F<O.length;F++)if((w=E[O[F]]).hover)S.push(O[F]);else if(w.isSelected())C.push(O[F]);else if(!0===x){var N=w.draw(b);null!=N.drawExternalLabel&&I.push(N.drawExternalLabel)}else if(!0===w.isBoundingBoxOverlappingWith(B)){var A=w.draw(b);null!=A.drawExternalLabel&&I.push(A.drawExternalLabel)}else w.updateBoundingBox(b,w.selected);var R=C.length,j=S.length;for(_=0;_<R;_++){var L=(w=E[C[_]]).draw(b);null!=L.drawExternalLabel&&I.push(L.drawExternalLabel)}for(_=0;_<j;_++){var H=(w=E[S[_]]).draw(b);null!=H.drawExternalLabel&&I.push(H.drawExternalLabel)}return{drawExternalLabels:function(){var b,w=Qx(I);try{for(w.s();!(b=w.n()).done;)(0,b.value)()}catch(b){w.e(b)}finally{w.f()}}}}},{key:"_drawEdges",value:function(b){for(var w=(this||k).body.edges,_=(this||k).body.edgeIndices,x=0;x<_.length;x++){var E=w[_[x]];!0===E.connected&&E.draw(b)}}},{key:"_drawArrows",value:function(b){for(var w=(this||k).body.edges,_=(this||k).body.edgeIndices,x=0;x<_.length;x++){var E=w[_[x]];!0===E.connected&&E.drawArrows(b)}}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var b=navigator.userAgent.toLowerCase();(this||k).requiresTimeout=!1,(-1!=Jp(b).call(b,"msie 9.0")||-1!=Jp(b).call(b,"safari")&&Jp(b).call(b,"chrome")<=-1)&&((this||k).requiresTimeout=!0)}else(this||k).requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(b){if((this||k).body.selectionBox.show){b.beginPath();var w=(this||k).body.selectionBox.position.end.x-(this||k).body.selectionBox.position.start.x,_=(this||k).body.selectionBox.position.end.y-(this||k).body.selectionBox.position.start.y;b.rect((this||k).body.selectionBox.position.start.x,(this||k).body.selectionBox.position.start.y,w,_),b.fillStyle="rgba(151, 194, 252, 0.2)",b.fillRect((this||k).body.selectionBox.position.start.x,(this||k).body.selectionBox.position.start.y,w,_),b.strokeStyle="rgba(151, 194, 252, 1)",b.stroke()}else b.closePath()}}]),t}(),EE=ft.setInterval;function iE(b,w){w.inputHandler=function(b){b.isFirst&&w(b)},b.on("hammer.input",w.inputHandler)}function oE(b,w){return w.inputHandler=function(b){b.isFinal&&w(b)},b.on("hammer.input",w.inputHandler)}var OE=function(){function t(b){Xl(this||k,t),(this||k).body=b,(this||k).pixelRatio=1,(this||k).cameraState={},(this||k).initialized=!1,(this||k).canvasViewCenter={},(this||k)._cleanupCallbacks=[],(this||k).options={},(this||k).defaultOptions={autoResize:!0,height:"100%",width:"100%"},Bo((this||k).options,(this||k).defaultOptions),this.bindEventListeners()}return $l(t,[{key:"bindEventListeners",value:function(){var b,w=this||k;(this||k).body.emitter.once("resize",(function(b){0!==b.width&&(w.body.view.translation.x=.5*b.width),0!==b.height&&(w.body.view.translation.y=.5*b.height)})),(this||k).body.emitter.on("setSize",rn(b=(this||k).setSize).call(b,this||k)),(this||k).body.emitter.on("destroy",(function(){w.hammerFrame.destroy(),w.hammer.destroy(),w._cleanUp()}))}},{key:"setOptions",value:function(b){var w,_,x,E,O,C=this||k;void 0!==b&&Ny(["width","height","autoResize"],(this||k).options,b);if(this._cleanUp(),!0===(this||k).options.autoResize){var S;if(window.ResizeObserver){var T=new ResizeObserver((function(){!0===C.setSize()&&C.body.emitter.emit("_requestRedraw")})),M=(this||k).frame;T.observe(M),(this||k)._cleanupCallbacks.push((function(){T.unobserve(M)}))}else{var D=EE((function(){!0===C.setSize()&&C.body.emitter.emit("_requestRedraw")}),1e3);(this||k)._cleanupCallbacks.push((function(){clearInterval(D)}))}var B=rn(S=(this||k)._onResize).call(S,this||k);w=window,_="resize",x=B,w.addEventListener?(void 0===E&&(E=!1),"mousewheel"===_&&Zf(O=navigator.userAgent).call(O,"Firefox")&&(_="DOMMouseScroll"),w.addEventListener(_,x,E)):w.attachEvent("on"+_,x),(this||k)._cleanupCallbacks.push((function(){!function(b,w,k,_){var x;b.removeEventListener?(void 0===_&&(_=!1),"mousewheel"===w&&Zf(x=navigator.userAgent).call(x,"Firefox")&&(w="DOMMouseScroll"),b.removeEventListener(w,k,_)):b.detachEvent("on"+w,k)}(window,"resize",B)}))}}},{key:"_cleanUp",value:function(){var b,w,_;Fu(b=df(w=Bf(_=(this||k)._cleanupCallbacks).call(_,0)).call(w)).call(b,(function(b){try{b()}catch(b){console.error(b)}}))}},{key:"_onResize",value:function(){this.setSize(),(this||k).body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(this||k).pixelRatio;!0===(this||k).initialized&&((this||k).cameraState.previousWidth=(this||k).frame.canvas.width/b,(this||k).cameraState.previousHeight=(this||k).frame.canvas.height/b,(this||k).cameraState.scale=(this||k).body.view.scale,(this||k).cameraState.position=this.DOMtoCanvas({x:.5*(this||k).frame.canvas.width/b,y:.5*(this||k).frame.canvas.height/b}))}},{key:"_setCameraState",value:function(){if(void 0!==(this||k).cameraState.scale&&0!==(this||k).frame.canvas.clientWidth&&0!==(this||k).frame.canvas.clientHeight&&0!==(this||k).pixelRatio&&(this||k).cameraState.previousWidth>0&&(this||k).cameraState.previousHeight>0){var b=(this||k).frame.canvas.width/(this||k).pixelRatio/(this||k).cameraState.previousWidth,w=(this||k).frame.canvas.height/(this||k).pixelRatio/(this||k).cameraState.previousHeight,_=(this||k).cameraState.scale;1!=b&&1!=w?_=.5*(this||k).cameraState.scale*(b+w):1!=b?_=(this||k).cameraState.scale*b:1!=w&&(_=(this||k).cameraState.scale*w),(this||k).body.view.scale=_;var x=this.DOMtoCanvas({x:.5*(this||k).frame.canvas.clientWidth,y:.5*(this||k).frame.canvas.clientHeight}),E={x:x.x-(this||k).cameraState.position.x,y:x.y-(this||k).cameraState.position.y};(this||k).body.view.translation.x+=E.x*(this||k).body.view.scale,(this||k).body.view.translation.y+=E.y*(this||k).body.view.scale}}},{key:"_prepareValue",value:function(b){if("number"==typeof b)return b+"px";if("string"==typeof b){if(-1!==Jp(b).call(b,"%")||-1!==Jp(b).call(b,"px"))return b;if(-1===Jp(b).call(b,"%"))return b+"px"}throw new Error("Could not use the value supplied for width or height:"+b)}},{key:"_create",value:function(){for(;(this||k).body.container.hasChildNodes();)(this||k).body.container.removeChild((this||k).body.container.firstChild);if((this||k).frame=document.createElement("div"),(this||k).frame.className="vis-network",(this||k).frame.style.position="relative",(this||k).frame.style.overflow="hidden",(this||k).frame.tabIndex=0,(this||k).frame.canvas=document.createElement("canvas"),(this||k).frame.canvas.style.position="relative",(this||k).frame.appendChild((this||k).frame.canvas),(this||k).frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var b=document.createElement("DIV");b.style.color="red",b.style.fontWeight="bold",b.style.padding="10px",b.innerText="Error: your browser does not support HTML canvas",(this||k).frame.canvas.appendChild(b)}(this||k).body.container.appendChild((this||k).frame),(this||k).body.view.scale=1,(this||k).body.view.translation={x:.5*(this||k).frame.canvas.clientWidth,y:.5*(this||k).frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var b=this||k;void 0!==(this||k).hammer&&(this||k).hammer.destroy(),(this||k).drag={},(this||k).pinch={},(this||k).hammer=new Qm((this||k).frame.canvas),(this||k).hammer.get("pinch").set({enable:!0}),(this||k).hammer.get("pan").set({threshold:5,direction:Qm.DIRECTION_ALL}),iE((this||k).hammer,(function(w){b.body.eventListeners.onTouch(w)})),(this||k).hammer.on("tap",(function(w){b.body.eventListeners.onTap(w)})),(this||k).hammer.on("doubletap",(function(w){b.body.eventListeners.onDoubleTap(w)})),(this||k).hammer.on("press",(function(w){b.body.eventListeners.onHold(w)})),(this||k).hammer.on("panstart",(function(w){b.body.eventListeners.onDragStart(w)})),(this||k).hammer.on("panmove",(function(w){b.body.eventListeners.onDrag(w)})),(this||k).hammer.on("panend",(function(w){b.body.eventListeners.onDragEnd(w)})),(this||k).hammer.on("pinch",(function(w){b.body.eventListeners.onPinch(w)})),(this||k).frame.canvas.addEventListener("wheel",(function(w){b.body.eventListeners.onMouseWheel(w)})),(this||k).frame.canvas.addEventListener("mousemove",(function(w){b.body.eventListeners.onMouseMove(w)})),(this||k).frame.canvas.addEventListener("contextmenu",(function(w){b.body.eventListeners.onContext(w)})),(this||k).hammerFrame=new Qm((this||k).frame),oE((this||k).hammerFrame,(function(w){b.body.eventListeners.onRelease(w)}))}},{key:"setSize",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(this||k).options.width,w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(this||k).options.height;b=this._prepareValue(b),w=this._prepareValue(w);var _=!1,x=(this||k).frame.canvas.width,E=(this||k).frame.canvas.height,O=(this||k).pixelRatio;if(this._setPixelRatio(),b!=(this||k).options.width||w!=(this||k).options.height||(this||k).frame.style.width!=b||(this||k).frame.style.height!=w)this._getCameraState(O),(this||k).frame.style.width=b,(this||k).frame.style.height=w,(this||k).frame.canvas.style.width="100%",(this||k).frame.canvas.style.height="100%",(this||k).frame.canvas.width=Math.round((this||k).frame.canvas.clientWidth*(this||k).pixelRatio),(this||k).frame.canvas.height=Math.round((this||k).frame.canvas.clientHeight*(this||k).pixelRatio),(this||k).options.width=b,(this||k).options.height=w,(this||k).canvasViewCenter={x:.5*(this||k).frame.clientWidth,y:.5*(this||k).frame.clientHeight},_=!0;else{var C=Math.round((this||k).frame.canvas.clientWidth*(this||k).pixelRatio),S=Math.round((this||k).frame.canvas.clientHeight*(this||k).pixelRatio);(this||k).frame.canvas.width===C&&(this||k).frame.canvas.height===S||this._getCameraState(O),(this||k).frame.canvas.width!==C&&((this||k).frame.canvas.width=C,_=!0),(this||k).frame.canvas.height!==S&&((this||k).frame.canvas.height=S,_=!0)}return!0===_&&((this||k).body.emitter.emit("resize",{width:Math.round((this||k).frame.canvas.width/(this||k).pixelRatio),height:Math.round((this||k).frame.canvas.height/(this||k).pixelRatio),oldWidth:Math.round(x/(this||k).pixelRatio),oldHeight:Math.round(E/(this||k).pixelRatio)}),this._setCameraState()),(this||k).initialized=!0,_}},{key:"getContext",value:function(){return(this||k).frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var b=this.getContext();if(void 0===b)throw new Error("Could not get canvax context");var w=1;return"undefined"!=typeof window&&(w=window.devicePixelRatio||1),w/(b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){(this||k).pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var b=this.getContext();if(void 0===b)throw new Error("Could not get canvax context");b.setTransform((this||k).pixelRatio,0,0,(this||k).pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(b){return(b-(this||k).body.view.translation.x)/(this||k).body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(b){return b*(this||k).body.view.scale+(this||k).body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(b){return(b-(this||k).body.view.translation.y)/(this||k).body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(b){return b*(this||k).body.view.scale+(this||k).body.view.translation.y}},{key:"canvasToDOM",value:function(b){return{x:this._XconvertCanvasToDOM(b.x),y:this._YconvertCanvasToDOM(b.y)}}},{key:"DOMtoCanvas",value:function(b){return{x:this._XconvertDOMtoCanvas(b.x),y:this._YconvertDOMtoCanvas(b.y)}}}]),t}();function rE(b,w){var k=Bo({nodes:w,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=b?b:{});if(!Su(k.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===k.nodes.length&&(k.nodes=w),!("number"==typeof k.minZoomLevel&&k.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof k.maxZoomLevel&&k.minZoomLevel<=k.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return k}var CE=function(){function t(b,w){var _,x,E=this||k;Xl(this||k,t),(this||k).body=b,(this||k).canvas=w,(this||k).animationSpeed=1/(this||k).renderRefreshRate,(this||k).animationEasingFunction="easeInOutQuint",(this||k).easingTime=0,(this||k).sourceScale=0,(this||k).targetScale=0,(this||k).sourceTranslation=0,(this||k).targetTranslation=0,(this||k).lockedOnNodeId=void 0,(this||k).lockedOnNodeOffset=void 0,(this||k).touchTime=0,(this||k).viewFunction=void 0,(this||k).body.emitter.on("fit",rn(_=(this||k).fit).call(_,this||k)),(this||k).body.emitter.on("animationFinished",(function(){E.body.emitter.emit("_stopRendering")})),(this||k).body.emitter.on("unlockNode",rn(x=(this||k).releaseNode).call(x,this||k))}return $l(t,[{key:"setOptions",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(this||k).options=b}},{key:"fit",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]&&arguments[1];b=rE(b,(this||k).body.nodeIndices);var _,x,E=(this||k).canvas.frame.canvas.clientWidth,O=(this||k).canvas.frame.canvas.clientHeight;if(0===E||0===O)x=1,_=wE.getRange((this||k).body.nodes,b.nodes);else if(!0===w){var C=0;for(var S in(this||k).body.nodes)if(Object.prototype.hasOwnProperty.call((this||k).body.nodes,S)){var T=(this||k).body.nodes[S];!0===T.predefinedPosition&&(C+=1)}if(C>.5*(this||k).body.nodeIndices.length)return void this.fit(b,!1);_=wE.getRange((this||k).body.nodes,b.nodes);var M=(this||k).body.nodeIndices.length;x=12.662/(M+7.4147)+.0964822;var D=Math.min(E/600,O/600);x*=D}else{(this||k).body.emitter.emit("_resizeNodes"),_=wE.getRange((this||k).body.nodes,b.nodes);var B=1.1*Math.abs(_.maxX-_.minX),I=1.1*Math.abs(_.maxY-_.minY),F=E/B,N=O/I;x=F<=N?F:N}x>b.maxZoomLevel?x=b.maxZoomLevel:x<b.minZoomLevel&&(x=b.minZoomLevel);var A=wE.findCenter(_),R={position:A,scale:x,animation:b.animation};this.moveTo(R)}},{key:"focus",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==(this||k).body.nodes[b]){var _={x:(this||k).body.nodes[b].x,y:(this||k).body.nodes[b].y};w.position=_,w.lockedOnNode=b,this.moveTo(w)}else console.error("Node: "+b+" cannot be found.")}},{key:"moveTo",value:function(b){if(void 0!==b){if(null!=b.offset){if(null!=b.offset.x){if(b.offset.x=+b.offset.x,!Uw(b.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else b.offset.x=0;if(null!=b.offset.y){if(b.offset.y=+b.offset.y,!Uw(b.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else b.offset.x=0}else b.offset={x:0,y:0};if(null!=b.position){if(null!=b.position.x){if(b.position.x=+b.position.x,!Uw(b.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else b.position.x=0;if(null!=b.position.y){if(b.position.y=+b.position.y,!Uw(b.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else b.position.x=0}else b.position=this.getViewPosition();if(null!=b.scale){if(b.scale=+b.scale,!(b.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else b.scale=(this||k).body.view.scale;void 0===b.animation&&(b.animation={duration:0}),!1===b.animation&&(b.animation={duration:0}),!0===b.animation&&(b.animation={}),void 0===b.animation.duration&&(b.animation.duration=1e3),void 0===b.animation.easingFunction&&(b.animation.easingFunction="easeInOutQuad"),this.animateView(b)}else b={}}},{key:"animateView",value:function(b){if(void 0!==b){(this||k).animationEasingFunction=b.animation.easingFunction,this.releaseNode(),!0===b.locked&&((this||k).lockedOnNodeId=b.lockedOnNode,(this||k).lockedOnNodeOffset=b.offset),0!=(this||k).easingTime&&this._transitionRedraw(!0),(this||k).sourceScale=(this||k).body.view.scale,(this||k).sourceTranslation=(this||k).body.view.translation,(this||k).targetScale=b.scale,(this||k).body.view.scale=(this||k).targetScale;var w,_,x=(this||k).canvas.DOMtoCanvas({x:.5*(this||k).canvas.frame.canvas.clientWidth,y:.5*(this||k).canvas.frame.canvas.clientHeight}),E=x.x-b.position.x,O=x.y-b.position.y;(this||k).targetTranslation={x:(this||k).sourceTranslation.x+E*(this||k).targetScale+b.offset.x,y:(this||k).sourceTranslation.y+O*(this||k).targetScale+b.offset.y},0===b.animation.duration?null!=(this||k).lockedOnNodeId?((this||k).viewFunction=rn(w=(this||k)._lockedRedraw).call(w,this||k),(this||k).body.emitter.on("initRedraw",(this||k).viewFunction)):((this||k).body.view.scale=(this||k).targetScale,(this||k).body.view.translation=(this||k).targetTranslation,(this||k).body.emitter.emit("_requestRedraw")):((this||k).animationSpeed=1/(60*b.animation.duration*.001)||1/60,(this||k).animationEasingFunction=b.animation.easingFunction,(this||k).viewFunction=rn(_=(this||k)._transitionRedraw).call(_,this||k),(this||k).body.emitter.on("initRedraw",(this||k).viewFunction),(this||k).body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var b=(this||k).body.nodes[(this||k).lockedOnNodeId].x,w=(this||k).body.nodes[(this||k).lockedOnNodeId].y,_=(this||k).canvas.DOMtoCanvas({x:.5*(this||k).canvas.frame.canvas.clientWidth,y:.5*(this||k).canvas.frame.canvas.clientHeight}),x=_.x-b,E=_.y-w,O=(this||k).body.view.translation,C={x:O.x+x*(this||k).body.view.scale+(this||k).lockedOnNodeOffset.x,y:O.y+E*(this||k).body.view.scale+(this||k).lockedOnNodeOffset.y};(this||k).body.view.translation=C}},{key:"releaseNode",value:function(){void 0!==(this||k).lockedOnNodeId&&void 0!==(this||k).viewFunction&&((this||k).body.emitter.off("initRedraw",(this||k).viewFunction),(this||k).lockedOnNodeId=void 0,(this||k).lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var b=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this||k).easingTime+=(this||k).animationSpeed,(this||k).easingTime=!0===b?1:(this||k).easingTime;var w=km[(this||k).animationEasingFunction]((this||k).easingTime);if((this||k).body.view.scale=(this||k).sourceScale+((this||k).targetScale-(this||k).sourceScale)*w,(this||k).body.view.translation={x:(this||k).sourceTranslation.x+((this||k).targetTranslation.x-(this||k).sourceTranslation.x)*w,y:(this||k).sourceTranslation.y+((this||k).targetTranslation.y-(this||k).sourceTranslation.y)*w},(this||k).easingTime>=1){var _;((this||k).body.emitter.off("initRedraw",(this||k).viewFunction),(this||k).easingTime=0,null!=(this||k).lockedOnNodeId)&&((this||k).viewFunction=rn(_=(this||k)._lockedRedraw).call(_,this||k),(this||k).body.emitter.on("initRedraw",(this||k).viewFunction));(this||k).body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return(this||k).body.view.scale}},{key:"getViewPosition",value:function(){return(this||k).canvas.DOMtoCanvas({x:.5*(this||k).canvas.frame.canvas.clientWidth,y:.5*(this||k).canvas.frame.canvas.clientHeight})}}]),t}();function aE(b){var w,k=b&&b.preventDefault||!1,_=b&&b.container||window,x={},E={keydown:{},keyup:{}},O={};for(w=97;w<=122;w++)O[String.fromCharCode(w)]={code:w-97+65,shift:!1};for(w=65;w<=90;w++)O[String.fromCharCode(w)]={code:w,shift:!0};for(w=0;w<=9;w++)O[""+w]={code:48+w,shift:!1};for(w=1;w<=12;w++)O["F"+w]={code:111+w,shift:!1};for(w=0;w<=9;w++)O["num"+w]={code:96+w,shift:!1};O["num*"]={code:106,shift:!1},O["num+"]={code:107,shift:!1},O["num-"]={code:109,shift:!1},O["num/"]={code:111,shift:!1},O["num."]={code:110,shift:!1},O.left={code:37,shift:!1},O.up={code:38,shift:!1},O.right={code:39,shift:!1},O.down={code:40,shift:!1},O.space={code:32,shift:!1},O.enter={code:13,shift:!1},O.shift={code:16,shift:void 0},O.esc={code:27,shift:!1},O.backspace={code:8,shift:!1},O.tab={code:9,shift:!1},O.ctrl={code:17,shift:!1},O.alt={code:18,shift:!1},O.delete={code:46,shift:!1},O.pageup={code:33,shift:!1},O.pagedown={code:34,shift:!1},O["="]={code:187,shift:!1},O["-"]={code:189,shift:!1},O["]"]={code:221,shift:!1},O["["]={code:219,shift:!1};var a=function(b){d(b,"keydown")},h=function(b){d(b,"keyup")},d=function(b,w){if(void 0!==E[w][b.keyCode]){for(var _=E[w][b.keyCode],x=0;x<_.length;x++)(void 0===_[x].shift||1==_[x].shift&&1==b.shiftKey||0==_[x].shift&&0==b.shiftKey)&&_[x].fn(b);1==k&&b.preventDefault()}};return x.bind=function(b,w,k){if(void 0===k&&(k="keydown"),void 0===O[b])throw new Error("unsupported key: "+b);void 0===E[k][O[b].code]&&(E[k][O[b].code]=[]),E[k][O[b].code].push({fn:w,shift:O[b].shift})},x.bindAll=function(b,w){for(var k in void 0===w&&(w="keydown"),O)O.hasOwnProperty(k)&&x.bind(k,b,w)},x.getKey=function(b){for(var w in O)if(O.hasOwnProperty(w)){if(1==b.shiftKey&&1==O[w].shift&&b.keyCode==O[w].code)return w;if(0==b.shiftKey&&0==O[w].shift&&b.keyCode==O[w].code)return w;if(b.keyCode==O[w].code&&"shift"==w)return w}return"unknown key, currently not supported"},x.unbind=function(b,w,k){if(void 0===k&&(k="keydown"),void 0===O[b])throw new Error("unsupported key: "+b);if(void 0!==w){var _=[],x=E[k][O[b].code];if(void 0!==x)for(var C=0;C<x.length;C++)x[C].fn==w&&x[C].shift==O[b].shift||_.push(E[k][O[b].code][C]);E[k][O[b].code]=_}else E[k][O[b].code]=[]},x.reset=function(){E={keydown:{},keyup:{}}},x.destroy=function(){E={keydown:{},keyup:{}},_.removeEventListener("keydown",a,!0),_.removeEventListener("keyup",h,!0)},_.addEventListener("keydown",a,!0),_.addEventListener("keyup",h,!0),x}var DE=function(){function t(b,w){var _=this||k;Xl(this||k,t),(this||k).body=b,(this||k).canvas=w,(this||k).iconsCreated=!1,(this||k).navigationHammers=[],(this||k).boundFunctions={},(this||k).touchTime=0,(this||k).activated=!1,(this||k).body.emitter.on("activate",(function(){_.activated=!0,_.configureKeyboardBindings()})),(this||k).body.emitter.on("deactivate",(function(){_.activated=!1,_.configureKeyboardBindings()})),(this||k).body.emitter.on("destroy",(function(){void 0!==_.keycharm&&_.keycharm.destroy()})),(this||k).options={}}return $l(t,[{key:"setOptions",value:function(b){void 0!==b&&((this||k).options=b,this.create())}},{key:"create",value:function(){!0===(this||k).options.navigationButtons?!1===(this||k).iconsCreated&&this.loadNavigationElements():!0===(this||k).iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=(this||k).navigationHammers.length){for(var b=0;b<(this||k).navigationHammers.length;b++)(this||k).navigationHammers[b].destroy();(this||k).navigationHammers=[]}(this||k).navigationDOM&&(this||k).navigationDOM.wrapper&&(this||k).navigationDOM.wrapper.parentNode&&(this||k).navigationDOM.wrapper.parentNode.removeChild((this||k).navigationDOM.wrapper),(this||k).iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var b=this||k;this.cleanNavigation(),(this||k).navigationDOM={};var w=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],_=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];(this||k).navigationDOM.wrapper=document.createElement("div"),(this||k).navigationDOM.wrapper.className="vis-navigation",(this||k).canvas.frame.appendChild((this||k).navigationDOM.wrapper);for(var x=0;x<w.length;x++){(this||k).navigationDOM[w[x]]=document.createElement("div"),(this||k).navigationDOM[w[x]].className="vis-button vis-"+w[x],(this||k).navigationDOM.wrapper.appendChild((this||k).navigationDOM[w[x]]);var E,O,C=new Qm((this||k).navigationDOM[w[x]]);"_fit"===_[x]?iE(C,rn(E=(this||k)._fit).call(E,this||k)):iE(C,rn(O=(this||k).bindToRedraw).call(O,this||k,_[x]));(this||k).navigationHammers.push(C)}var S=new Qm((this||k).canvas.frame);oE(S,(function(){b._stopMovement()})),(this||k).navigationHammers.push(S),(this||k).iconsCreated=!0}},{key:"bindToRedraw",value:function(b){var w;void 0===(this||k).boundFunctions[b]&&((this||k).boundFunctions[b]=rn(w=(this||k)[b]).call(w,this||k),(this||k).body.emitter.on("initRedraw",(this||k).boundFunctions[b]),(this||k).body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(b){void 0!==(this||k).boundFunctions[b]&&((this||k).body.emitter.off("initRedraw",(this||k).boundFunctions[b]),(this||k).body.emitter.emit("_stopRendering"),delete(this||k).boundFunctions[b])}},{key:"_fit",value:function(){(new Date).valueOf()-(this||k).touchTime>700&&((this||k).body.emitter.emit("fit",{duration:700}),(this||k).touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var b in(this||k).boundFunctions)Object.prototype.hasOwnProperty.call((this||k).boundFunctions,b)&&((this||k).body.emitter.off("initRedraw",(this||k).boundFunctions[b]),(this||k).body.emitter.emit("_stopRendering"));(this||k).boundFunctions={}}},{key:"_moveUp",value:function(){(this||k).body.view.translation.y+=(this||k).options.keyboard.speed.y}},{key:"_moveDown",value:function(){(this||k).body.view.translation.y-=(this||k).options.keyboard.speed.y}},{key:"_moveLeft",value:function(){(this||k).body.view.translation.x+=(this||k).options.keyboard.speed.x}},{key:"_moveRight",value:function(){(this||k).body.view.translation.x-=(this||k).options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var b=(this||k).body.view.scale,w=(this||k).body.view.scale*(1+(this||k).options.keyboard.speed.zoom),_=(this||k).body.view.translation,x=w/b,E=(1-x)*(this||k).canvas.canvasViewCenter.x+_.x*x,O=(1-x)*(this||k).canvas.canvasViewCenter.y+_.y*x;(this||k).body.view.scale=w,(this||k).body.view.translation={x:E,y:O},(this||k).body.emitter.emit("zoom",{direction:"+",scale:(this||k).body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var b=(this||k).body.view.scale,w=(this||k).body.view.scale/(1+(this||k).options.keyboard.speed.zoom),_=(this||k).body.view.translation,x=w/b,E=(1-x)*(this||k).canvas.canvasViewCenter.x+_.x*x,O=(1-x)*(this||k).canvas.canvasViewCenter.y+_.y*x;(this||k).body.view.scale=w,(this||k).body.view.translation={x:E,y:O},(this||k).body.emitter.emit("zoom",{direction:"-",scale:(this||k).body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var b,w,_,x,E,O,C,S,T,M,D,B,I,F,N,A,R,j,L,H,q,V,$,Y,G=this||k;(void 0!==(this||k).keycharm&&(this||k).keycharm.destroy(),!0===(this||k).options.keyboard.enabled)&&(!0===(this||k).options.keyboard.bindToWindow?(this||k).keycharm=aE({container:window,preventDefault:!0}):(this||k).keycharm=aE({container:(this||k).canvas.frame,preventDefault:!0}),(this||k).keycharm.reset(),!0===(this||k).activated&&(rn(b=(this||k).keycharm).call(b,"up",(function(){G.bindToRedraw("_moveUp")}),"keydown"),rn(w=(this||k).keycharm).call(w,"down",(function(){G.bindToRedraw("_moveDown")}),"keydown"),rn(_=(this||k).keycharm).call(_,"left",(function(){G.bindToRedraw("_moveLeft")}),"keydown"),rn(x=(this||k).keycharm).call(x,"right",(function(){G.bindToRedraw("_moveRight")}),"keydown"),rn(E=(this||k).keycharm).call(E,"=",(function(){G.bindToRedraw("_zoomIn")}),"keydown"),rn(O=(this||k).keycharm).call(O,"num+",(function(){G.bindToRedraw("_zoomIn")}),"keydown"),rn(C=(this||k).keycharm).call(C,"num-",(function(){G.bindToRedraw("_zoomOut")}),"keydown"),rn(S=(this||k).keycharm).call(S,"-",(function(){G.bindToRedraw("_zoomOut")}),"keydown"),rn(T=(this||k).keycharm).call(T,"[",(function(){G.bindToRedraw("_zoomOut")}),"keydown"),rn(M=(this||k).keycharm).call(M,"]",(function(){G.bindToRedraw("_zoomIn")}),"keydown"),rn(D=(this||k).keycharm).call(D,"pageup",(function(){G.bindToRedraw("_zoomIn")}),"keydown"),rn(B=(this||k).keycharm).call(B,"pagedown",(function(){G.bindToRedraw("_zoomOut")}),"keydown"),rn(I=(this||k).keycharm).call(I,"up",(function(){G.unbindFromRedraw("_moveUp")}),"keyup"),rn(F=(this||k).keycharm).call(F,"down",(function(){G.unbindFromRedraw("_moveDown")}),"keyup"),rn(N=(this||k).keycharm).call(N,"left",(function(){G.unbindFromRedraw("_moveLeft")}),"keyup"),rn(A=(this||k).keycharm).call(A,"right",(function(){G.unbindFromRedraw("_moveRight")}),"keyup"),rn(R=(this||k).keycharm).call(R,"=",(function(){G.unbindFromRedraw("_zoomIn")}),"keyup"),rn(j=(this||k).keycharm).call(j,"num+",(function(){G.unbindFromRedraw("_zoomIn")}),"keyup"),rn(L=(this||k).keycharm).call(L,"num-",(function(){G.unbindFromRedraw("_zoomOut")}),"keyup"),rn(H=(this||k).keycharm).call(H,"-",(function(){G.unbindFromRedraw("_zoomOut")}),"keyup"),rn(q=(this||k).keycharm).call(q,"[",(function(){G.unbindFromRedraw("_zoomOut")}),"keyup"),rn(V=(this||k).keycharm).call(V,"]",(function(){G.unbindFromRedraw("_zoomIn")}),"keyup"),rn($=(this||k).keycharm).call($,"pageup",(function(){G.unbindFromRedraw("_zoomIn")}),"keyup"),rn(Y=(this||k).keycharm).call(Y,"pagedown",(function(){G.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),t}();function dE(b,w){var k=void 0!==bu&&kh(b)||b["@@iterator"];if(!k){if(Su(b)||(k=function(b,w){var k;if(b){if("string"==typeof b)return lE(b,w);var _=Cu(k=Object.prototype.toString.call(b)).call(k,8,-1);"Object"===_&&b.constructor&&(_=b.constructor.name);return"Map"===_||"Set"===_?ih(b):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?lE(b,w):void 0}}(b))||w&&b&&"number"==typeof b.length){k&&(b=k);var _=0,n=function(){};return{s:n,n:function(){return _>=b.length?{done:!0}:{done:!1,value:b[_++]}},e:function(b){throw b},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var x,E=!0,O=!1;return{s:function(){k=k.call(b)},n:function(){var b=k.next();return E=b.done,b},e:function(b){O=!0,x=b},f:function(){try{E||null==k.return||k.return()}finally{if(O)throw x}}}}function lE(b,w){(null==w||w>b.length)&&(w=b.length);for(var k=0,_=new Array(w);k<w;k++)_[k]=b[k];return _}var PE=function(){function t(b,w,_){var x,E,O,C,S,T,M,D,B,I,F,N,A;Xl(this||k,t),(this||k).body=b,(this||k).canvas=w,(this||k).selectionHandler=_,(this||k).navigationHandler=new DE(b,w),(this||k).body.eventListeners.onTap=rn(x=(this||k).onTap).call(x,this||k),(this||k).body.eventListeners.onTouch=rn(E=(this||k).onTouch).call(E,this||k),(this||k).body.eventListeners.onDoubleTap=rn(O=(this||k).onDoubleTap).call(O,this||k),(this||k).body.eventListeners.onHold=rn(C=(this||k).onHold).call(C,this||k),(this||k).body.eventListeners.onDragStart=rn(S=(this||k).onDragStart).call(S,this||k),(this||k).body.eventListeners.onDrag=rn(T=(this||k).onDrag).call(T,this||k),(this||k).body.eventListeners.onDragEnd=rn(M=(this||k).onDragEnd).call(M,this||k),(this||k).body.eventListeners.onMouseWheel=rn(D=(this||k).onMouseWheel).call(D,this||k),(this||k).body.eventListeners.onPinch=rn(B=(this||k).onPinch).call(B,this||k),(this||k).body.eventListeners.onMouseMove=rn(I=(this||k).onMouseMove).call(I,this||k),(this||k).body.eventListeners.onRelease=rn(F=(this||k).onRelease).call(F,this||k),(this||k).body.eventListeners.onContext=rn(N=(this||k).onContext).call(N,this||k),(this||k).touchTime=0,(this||k).drag={},(this||k).pinch={},(this||k).popup=void 0,(this||k).popupObj=void 0,(this||k).popupTimer=void 0,(this||k).body.functions.getPointer=rn(A=(this||k).getPointer).call(A,this||k),(this||k).options={},(this||k).defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Bo((this||k).options,(this||k).defaultOptions),this.bindEventListeners()}return $l(t,[{key:"bindEventListeners",value:function(){var b=this||k;(this||k).body.emitter.on("destroy",(function(){clearTimeout(b.popupTimer),delete b.body.functions.getPointer}))}},{key:"setOptions",value:function(b){void 0!==b&&(Ay(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],(this||k).options,b),tm((this||k).options,b,"keyboard"),b.tooltip&&(Bo((this||k).options.tooltip,b.tooltip),b.tooltip.color&&((this||k).options.tooltip.color=Yy(b.tooltip.color))));(this||k).navigationHandler.setOptions((this||k).options)}},{key:"getPointer",value:function(b){return{x:b.x-(w=(this||k).canvas.frame.canvas,w.getBoundingClientRect().left),y:b.y-Hy((this||k).canvas.frame.canvas)};var w}},{key:"onTouch",value:function(b){(new Date).valueOf()-(this||k).touchTime>50&&((this||k).drag.pointer=this.getPointer(b.center),(this||k).drag.pinched=!1,(this||k).pinch.scale=(this||k).body.view.scale,(this||k).touchTime=(new Date).valueOf())}},{key:"onTap",value:function(b){var w=this.getPointer(b.center),_=(this||k).selectionHandler.options.multiselect&&(b.changedPointers[0].ctrlKey||b.changedPointers[0].metaKey);this.checkSelectionChanges(w,_),(this||k).selectionHandler.commitAndEmit(w,b),(this||k).selectionHandler.generateClickEvent("click",b,w)}},{key:"onDoubleTap",value:function(b){var w=this.getPointer(b.center);(this||k).selectionHandler.generateClickEvent("doubleClick",b,w)}},{key:"onHold",value:function(b){var w=this.getPointer(b.center),_=(this||k).selectionHandler.options.multiselect;this.checkSelectionChanges(w,_),(this||k).selectionHandler.commitAndEmit(w,b),(this||k).selectionHandler.generateClickEvent("click",b,w),(this||k).selectionHandler.generateClickEvent("hold",b,w)}},{key:"onRelease",value:function(b){if((new Date).valueOf()-(this||k).touchTime>10){var w=this.getPointer(b.center);(this||k).selectionHandler.generateClickEvent("release",b,w),(this||k).touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(b){var w=this.getPointer({x:b.clientX,y:b.clientY});(this||k).selectionHandler.generateClickEvent("oncontext",b,w)}},{key:"checkSelectionChanges",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!0===w?(this||k).selectionHandler.selectAdditionalOnPoint(b):(this||k).selectionHandler.selectOnPoint(b)}},{key:"_determineDifference",value:function(b,w){var i=function(b,w){for(var k=[],_=0;_<b.length;_++){var x=b[_];-1===Jp(w).call(w,x)&&k.push(x)}return k};return{nodes:i(b.nodes,w.nodes),edges:i(b.edges,w.edges)}}},{key:"onDragStart",value:function(b){if(!(this||k).drag.dragging){void 0===(this||k).drag.pointer&&this.onTouch(b);var w=(this||k).selectionHandler.getNodeAt((this||k).drag.pointer);if((this||k).drag.dragging=!0,(this||k).drag.selection=[],(this||k).drag.translation=Bo({},(this||k).body.view.translation),(this||k).drag.nodeId=void 0,b.srcEvent.shiftKey){(this||k).body.selectionBox.show=!0;var _=this.getPointer(b.center);(this||k).body.selectionBox.position.start={x:(this||k).canvas._XconvertDOMtoCanvas(_.x),y:(this||k).canvas._YconvertDOMtoCanvas(_.y)},(this||k).body.selectionBox.position.end={x:(this||k).canvas._XconvertDOMtoCanvas(_.x),y:(this||k).canvas._YconvertDOMtoCanvas(_.y)}}if(void 0!==w&&!0===(this||k).options.dragNodes){(this||k).drag.nodeId=w.id,!1===w.isSelected()&&(this||k).selectionHandler.setSelection({nodes:[w.id]}),(this||k).selectionHandler.generateClickEvent("dragStart",b,(this||k).drag.pointer);var x,E=dE((this||k).selectionHandler.getSelectedNodes());try{for(E.s();!(x=E.n()).done;){var O=x.value,C={id:O.id,node:O,x:O.x,y:O.y,xFixed:O.options.fixed.x,yFixed:O.options.fixed.y};O.options.fixed.x=!0,O.options.fixed.y=!0,(this||k).drag.selection.push(C)}}catch(b){E.e(b)}finally{E.f()}}else(this||k).selectionHandler.generateClickEvent("dragStart",b,(this||k).drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(b){var w=this||k;if(!0!==(this||k).drag.pinched){(this||k).body.emitter.emit("unlockNode");var _=this.getPointer(b.center),x=(this||k).drag.selection;if(x&&x.length&&!0===(this||k).options.dragNodes){(this||k).selectionHandler.generateClickEvent("dragging",b,_);var E=_.x-(this||k).drag.pointer.x,O=_.y-(this||k).drag.pointer.y;Fu(x).call(x,(function(b){var k=b.node;!1===b.xFixed&&(k.x=w.canvas._XconvertDOMtoCanvas(w.canvas._XconvertCanvasToDOM(b.x)+E)),!1===b.yFixed&&(k.y=w.canvas._YconvertDOMtoCanvas(w.canvas._YconvertCanvasToDOM(b.y)+O))})),(this||k).body.emitter.emit("startSimulation")}else{if(b.srcEvent.shiftKey){if((this||k).selectionHandler.generateClickEvent("dragging",b,_,void 0,!0),void 0===(this||k).drag.pointer)return void this.onDragStart(b);(this||k).body.selectionBox.position.end={x:(this||k).canvas._XconvertDOMtoCanvas(_.x),y:(this||k).canvas._YconvertDOMtoCanvas(_.y)},(this||k).body.emitter.emit("_requestRedraw")}if(!0===(this||k).options.dragView&&!b.srcEvent.shiftKey){if((this||k).selectionHandler.generateClickEvent("dragging",b,_,void 0,!0),void 0===(this||k).drag.pointer)return void this.onDragStart(b);var C=_.x-(this||k).drag.pointer.x,S=_.y-(this||k).drag.pointer.y;(this||k).body.view.translation={x:(this||k).drag.translation.x+C,y:(this||k).drag.translation.y+S},(this||k).body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(b){var w=this||k;if((this||k).drag.dragging=!1,(this||k).body.selectionBox.show){var _;(this||k).body.selectionBox.show=!1;var x=(this||k).body.selectionBox.position,E={minX:Math.min(x.start.x,x.end.x),minY:Math.min(x.start.y,x.end.y),maxX:Math.max(x.start.x,x.end.x),maxY:Math.max(x.start.y,x.end.y)},O=cp(_=(this||k).body.nodeIndices).call(_,(function(b){var k=w.body.nodes[b];return k.x>=E.minX&&k.x<=E.maxX&&k.y>=E.minY&&k.y<=E.maxY}));Fu(O).call(O,(function(b){return w.selectionHandler.selectObject(w.body.nodes[b])}));var C=this.getPointer(b.center);(this||k).selectionHandler.commitAndEmit(C,b),(this||k).selectionHandler.generateClickEvent("dragEnd",b,this.getPointer(b.center),void 0,!0),(this||k).body.emitter.emit("_requestRedraw")}else{var S=(this||k).drag.selection;S&&S.length?(Fu(S).call(S,(function(b){b.node.options.fixed.x=b.xFixed,b.node.options.fixed.y=b.yFixed})),(this||k).selectionHandler.generateClickEvent("dragEnd",b,this.getPointer(b.center)),(this||k).body.emitter.emit("startSimulation")):((this||k).selectionHandler.generateClickEvent("dragEnd",b,this.getPointer(b.center),void 0,!0),(this||k).body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(b){var w=this.getPointer(b.center);(this||k).drag.pinched=!0,void 0===(this||k).pinch.scale&&((this||k).pinch.scale=1);var _=(this||k).pinch.scale*b.scale;this.zoom(_,w)}},{key:"zoom",value:function(b,w){if(!0===(this||k).options.zoomView){var _=(this||k).body.view.scale;b<1e-5&&(b=1e-5),b>10&&(b=10);var x=void 0;void 0!==(this||k).drag&&!0===(this||k).drag.dragging&&(x=(this||k).canvas.DOMtoCanvas((this||k).drag.pointer));var E=(this||k).body.view.translation,O=b/_,C=(1-O)*w.x+E.x*O,S=(1-O)*w.y+E.y*O;if((this||k).body.view.scale=b,(this||k).body.view.translation={x:C,y:S},null!=x){var T=(this||k).canvas.canvasToDOM(x);(this||k).drag.pointer.x=T.x,(this||k).drag.pointer.y=T.y}(this||k).body.emitter.emit("_requestRedraw"),_<b?(this||k).body.emitter.emit("zoom",{direction:"+",scale:(this||k).body.view.scale,pointer:w}):(this||k).body.emitter.emit("zoom",{direction:"-",scale:(this||k).body.view.scale,pointer:w})}}},{key:"onMouseWheel",value:function(b){if(!0===(this||k).options.zoomView){if(0!==b.deltaY){var w=(this||k).body.view.scale;w*=1+(b.deltaY<0?1:-1)*(.1*(this||k).options.zoomSpeed);var _=this.getPointer({x:b.clientX,y:b.clientY});this.zoom(w,_)}b.preventDefault()}}},{key:"onMouseMove",value:function(b){var w=this||k,_=this.getPointer({x:b.clientX,y:b.clientY}),x=!1;void 0!==(this||k).popup&&(!1===(this||k).popup.hidden&&this._checkHidePopup(_),!1===(this||k).popup.hidden&&(x=!0,(this||k).popup.setPosition(_.x+3,_.y-5),(this||k).popup.show())),(this||k).options.keyboard.autoFocus&&!1===(this||k).options.keyboard.bindToWindow&&!0===(this||k).options.keyboard.enabled&&(this||k).canvas.frame.focus(),!1===x&&(void 0!==(this||k).popupTimer&&(clearInterval((this||k).popupTimer),(this||k).popupTimer=void 0),(this||k).drag.dragging||((this||k).popupTimer=Wv((function(){return w._checkShowPopup(_)}),(this||k).options.tooltipDelay))),!0===(this||k).options.hover&&(this||k).selectionHandler.hoverObject(b,_)}},{key:"_checkShowPopup",value:function(b){var w=(this||k).canvas._XconvertDOMtoCanvas(b.x),_=(this||k).canvas._YconvertDOMtoCanvas(b.y),x={left:w,top:_,right:w,bottom:_},E=void 0===(this||k).popupObj?void 0:(this||k).popupObj.id,O=!1,C="node";if(void 0===(this||k).popupObj){for(var S,T=(this||k).body.nodeIndices,M=(this||k).body.nodes,D=[],B=0;B<T.length;B++)!0===(S=M[T[B]]).isOverlappingWith(x)&&(O=!0,void 0!==S.getTitle()&&D.push(T[B]));D.length>0&&((this||k).popupObj=M[D[D.length-1]],O=!0)}if(void 0===(this||k).popupObj&&!1===O){for(var I,F=(this||k).body.edgeIndices,N=(this||k).body.edges,A=[],R=0;R<F.length;R++)!0===(I=N[F[R]]).isOverlappingWith(x)&&!0===I.connected&&void 0!==I.getTitle()&&A.push(F[R]);A.length>0&&((this||k).popupObj=N[A[A.length-1]],C="edge")}void 0!==(this||k).popupObj?(this||k).popupObj.id!==E&&(void 0===(this||k).popup&&((this||k).popup=new Jm((this||k).canvas.frame)),(this||k).popup.popupTargetType=C,(this||k).popup.popupTargetId=(this||k).popupObj.id,(this||k).popup.setPosition(b.x+3,b.y-5),(this||k).popup.setText((this||k).popupObj.getTitle()),(this||k).popup.show(),(this||k).body.emitter.emit("showPopup",(this||k).popupObj.id)):void 0!==(this||k).popup&&((this||k).popup.hide(),(this||k).body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(b){var w=(this||k).selectionHandler._pointerToPositionObject(b),_=!1;if("node"===(this||k).popup.popupTargetType){if(void 0!==(this||k).body.nodes[(this||k).popup.popupTargetId]&&!0===(_=(this||k).body.nodes[(this||k).popup.popupTargetId].isOverlappingWith(w))){var x=(this||k).selectionHandler.getNodeAt(b);_=void 0!==x&&x.id===(this||k).popup.popupTargetId}}else void 0===(this||k).selectionHandler.getNodeAt(b)&&void 0!==(this||k).body.edges[(this||k).popup.popupTargetId]&&(_=(this||k).body.edges[(this||k).popup.popupTargetId].isOverlappingWith(w));!1===_&&((this||k).popupObj=void 0,(this||k).popup.hide(),(this||k).body.emitter.emit("hidePopup"))}}]),t}();nw("Set",(function(b){return function(){return b(this||k,arguments.length?arguments[0]:void 0)}}),Hw);var BE=ft.Set,IE=A,zE=sw,FE=bb.exports.getWeakData,NE=Ze,AE=X,RE=Wb,jE=jb,LE=he,HE=hr.set,WE=hr.getterFor,XE=sd.find,qE=sd.findIndex,$E=IE([].splice),UE=0,SE=function(b){return b.frozen||(b.frozen=new TE)},TE=function(){(this||k).entries=[]},ME=function(b,w){return XE(b.entries,(function(b){return b[0]===w}))};TE.prototype={get:function(b){var w=ME(this||k,b);if(w)return w[1]},has:function(b){return!!ME(this||k,b)},set:function(b,w){var _=ME(this||k,b);_?_[1]=w:(this||k).entries.push([b,w])},delete:function(b){var w=qE((this||k).entries,(function(w){return w[0]===b}));return~w&&$E((this||k).entries,w,1),!!~w}};var YE,GE={getConstructor:function(b,w,_,x){var E=b((function(b,k){RE(b,O),HE(b,{type:w,id:UE++,frozen:void 0}),null!=k&&jE(k,b[x],{that:b,AS_ENTRIES:_})})),O=E.prototype,C=WE(w),a=function(b,w,k){var _=C(b),x=FE(NE(w),!0);return!0===x?SE(_).set(w,k):x[_.id]=k,b};return zE(O,{delete:function(b){var w=C(this||k);if(!AE(b))return!1;var _=FE(b);return!0===_?SE(w).delete(b):_&&LE(_,w.id)&&delete _[w.id]},has:function(b){var w=C(this||k);if(!AE(b))return!1;var _=FE(b);return!0===_?SE(w).has(b):_&&LE(_,w.id)}}),zE(O,_?{get:function(b){var w=C(this||k);if(AE(b)){var _=FE(b);return!0===_?SE(w).get(b):_?_[w.id]:void 0}},set:function(b,w){return a(this||k,b,w)}}:{add:function(b){return a(this||k,b,!0)}}),E}},KE=x,QE=A,JE=sw,ZE=bb.exports,tO=nw,eO=GE,aO=X,hO=Sb,cO=hr.enforce,uO=Hn,fO=!KE.ActiveXObject&&"ActiveXObject"in KE,VE=function(b){return function(){return b(this||k,arguments.length?arguments[0]:void 0)}},yO=tO("WeakMap",VE,eO);if(uO&&fO){YE=eO.getConstructor(VE,"WeakMap",!0),ZE.enable();var mO=yO.prototype,bO=QE(mO.delete),wO=QE(mO.has),kO=QE(mO.get),_O=QE(mO.set);JE(mO,{delete:function(b){if(aO(b)&&!hO(b)){var w=cO(this||k);return w.frozen||(w.frozen=new YE),bO(this||k,b)||w.frozen.delete(b)}return bO(this||k,b)},has:function(b){if(aO(b)&&!hO(b)){var w=cO(this||k);return w.frozen||(w.frozen=new YE),wO(this||k,b)||w.frozen.has(b)}return wO(this||k,b)},get:function(b){if(aO(b)&&!hO(b)){var w=cO(this||k);return w.frozen||(w.frozen=new YE),wO(this||k,b)?kO(this||k,b):w.frozen.get(b)}return kO(this||k,b)},set:function(b,w){if(aO(b)&&!hO(b)){var _=cO(this||k);_.frozen||(_.frozen=new YE),wO(this||k,b)?_O(this||k,b,w):_.frozen.set(b,w)}else _O(this||k,b,w);return this||k}})}var xO,EO,OO,CO,SO,TO=ft.WeakMap;function iO(b,w,k,_){if("a"===k&&!_)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof w?b!==w||!_:!w.has(b))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===k?_:"a"===k?_.call(b):_?_.value:w.get(b)}function oO(b,w,k,_,x){if("m"===_)throw new TypeError("Private method is not writable");if("a"===_&&!x)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof w?b!==w||!x:!w.has(b))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===_?x.call(b,k):x?x.value=k:w.set(b,k),k}function nO(b,w){var k=void 0!==bu&&kh(b)||b["@@iterator"];if(!k){if(Su(b)||(k=function(b,w){var k;if(b){if("string"==typeof b)return rO(b,w);var _=Cu(k=Object.prototype.toString.call(b)).call(k,8,-1);"Object"===_&&b.constructor&&(_=b.constructor.name);return"Map"===_||"Set"===_?ih(b):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?rO(b,w):void 0}}(b))||w&&b&&"number"==typeof b.length){k&&(b=k);var _=0,n=function(){};return{s:n,n:function(){return _>=b.length?{done:!0}:{done:!1,value:b[_++]}},e:function(b){throw b},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var x,E=!0,O=!1;return{s:function(){k=k.call(b)},n:function(){var b=k.next();return E=b.done,b},e:function(b){O=!0,x=b},f:function(){try{E||null==k.return||k.return()}finally{if(O)throw x}}}}function rO(b,w){(null==w||w>b.length)&&(w=b.length);for(var k=0,_=new Array(w);k<w;k++)_[k]=b[k];return _}function sO(b,w){var k,_=new BE,x=nO(w);try{for(x.s();!(k=x.n()).done;){var E=k.value;b.has(E)||_.add(E)}}catch(b){x.e(b)}finally{x.f()}return _}var MO=function(){function t(){Xl(this||k,t),xO.set(this||k,new BE),EO.set(this||k,new BE)}return $l(t,[{key:"size",get:function(){return iO(this||k,EO,"f").size}},{key:"add",value:function(){for(var b=arguments.length,w=new Array(b),_=0;_<b;_++)w[_]=arguments[_];for(var x=0,E=w;x<E.length;x++){var O=E[x];iO(this||k,EO,"f").add(O)}}},{key:"delete",value:function(){for(var b=arguments.length,w=new Array(b),_=0;_<b;_++)w[_]=arguments[_];for(var x=0,E=w;x<E.length;x++){var O=E[x];iO(this||k,EO,"f").delete(O)}}},{key:"clear",value:function(){iO(this||k,EO,"f").clear()}},{key:"getSelection",value:function(){return Jc(iO(this||k,EO,"f"))}},{key:"getChanges",value:function(){return{added:Jc(sO(iO(this||k,xO,"f"),iO(this||k,EO,"f"))),deleted:Jc(sO(iO(this||k,EO,"f"),iO(this||k,xO,"f"))),previous:Jc(new BE(iO(this||k,xO,"f"))),current:Jc(new BE(iO(this||k,EO,"f")))}}},{key:"commit",value:function(){var b=this.getChanges();oO(this||k,xO,iO(this||k,EO,"f"),"f"),oO(this||k,EO,new BE(iO(this||k,xO,"f")),"f");var w,_=nO(b.added);try{for(_.s();!(w=_.n()).done;)w.value.select()}catch(b){_.e(b)}finally{_.f()}var x,E=nO(b.deleted);try{for(E.s();!(x=E.n()).done;)x.value.unselect()}catch(b){E.e(b)}finally{E.f()}return b}}]),t}();xO=new TO,EO=new TO;var DO=function(){function t(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};Xl(this||k,t),OO.set(this||k,new MO),CO.set(this||k,new MO),SO.set(this||k,void 0),oO(this||k,SO,b,"f")}return $l(t,[{key:"sizeNodes",get:function(){return iO(this||k,OO,"f").size}},{key:"sizeEdges",get:function(){return iO(this||k,CO,"f").size}},{key:"getNodes",value:function(){return iO(this||k,OO,"f").getSelection()}},{key:"getEdges",value:function(){return iO(this||k,CO,"f").getSelection()}},{key:"addNodes",value:function(){var b;(b=iO(this||k,OO,"f")).add.apply(b,arguments)}},{key:"addEdges",value:function(){var b;(b=iO(this||k,CO,"f")).add.apply(b,arguments)}},{key:"deleteNodes",value:function(b){iO(this||k,OO,"f").delete(b)}},{key:"deleteEdges",value:function(b){iO(this||k,CO,"f").delete(b)}},{key:"clear",value:function(){iO(this||k,OO,"f").clear(),iO(this||k,CO,"f").clear()}},{key:"commit",value:function(){for(var b,w,_={nodes:iO(this||k,OO,"f").commit(),edges:iO(this||k,CO,"f").commit()},x=arguments.length,E=new Array(x),O=0;O<x;O++)E[O]=arguments[O];return(b=iO(this||k,SO,"f")).call.apply(b,Eu(w=[this||k,_]).call(w,E)),_}}]),t}();function dO(b,w){var k=void 0!==bu&&kh(b)||b["@@iterator"];if(!k){if(Su(b)||(k=function(b,w){var k;if(b){if("string"==typeof b)return lO(b,w);var _=Cu(k=Object.prototype.toString.call(b)).call(k,8,-1);"Object"===_&&b.constructor&&(_=b.constructor.name);return"Map"===_||"Set"===_?ih(b):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?lO(b,w):void 0}}(b))||w&&b&&"number"==typeof b.length){k&&(b=k);var _=0,n=function(){};return{s:n,n:function(){return _>=b.length?{done:!0}:{done:!1,value:b[_++]}},e:function(b){throw b},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var x,E=!0,O=!1;return{s:function(){k=k.call(b)},n:function(){var b=k.next();return E=b.done,b},e:function(b){O=!0,x=b},f:function(){try{E||null==k.return||k.return()}finally{if(O)throw x}}}}function lO(b,w){(null==w||w>b.length)&&(w=b.length);for(var k=0,_=new Array(w);k<w;k++)_[k]=b[k];return _}OO=new TO,CO=new TO,SO=new TO;var PO=function(){function t(b,w){var _=this||k;Xl(this||k,t),(this||k).body=b,(this||k).canvas=w,(this||k)._selectionAccumulator=new DO,(this||k).hoverObj={nodes:{},edges:{}},(this||k).options={},(this||k).defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Bo((this||k).options,(this||k).defaultOptions),(this||k).body.emitter.on("_dataChanged",(function(){_.updateSelection()}))}return $l(t,[{key:"setOptions",value:function(b){void 0!==b&&Ny(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],(this||k).options,b)}},{key:"selectOnPoint",value:function(b){var w=!1;if(!0===(this||k).options.selectable){var _=this.getNodeAt(b)||this.getEdgeAt(b);this.unselectAll(),void 0!==_&&(w=this.selectObject(_)),(this||k).body.emitter.emit("_requestRedraw")}return w}},{key:"selectAdditionalOnPoint",value:function(b){var w=!1;if(!0===(this||k).options.selectable){var _=this.getNodeAt(b)||this.getEdgeAt(b);void 0!==_&&(w=!0,!0===_.isSelected()?this.deselectObject(_):this.selectObject(_),(this||k).body.emitter.emit("_requestRedraw"))}return w}},{key:"_initBaseEvent",value:function(b,w){var _={};return _.pointer={DOM:{x:w.x,y:w.y},canvas:(this||k).canvas.DOMtoCanvas(w)},_.event=b,_}},{key:"generateClickEvent",value:function(b,w,_,x){var E=arguments.length>4&&void 0!==arguments[4]&&arguments[4],O=this._initBaseEvent(w,_);if(!0===E)O.nodes=[],O.edges=[];else{var C=this.getSelection();O.nodes=C.nodes,O.edges=C.edges}void 0!==x&&(O.previousSelection=x),"click"==b&&(O.items=this.getClickedItems(_)),void 0!==w.controlEdge&&(O.controlEdge=w.controlEdge),(this||k).body.emitter.emit(b,O)}},{key:"selectObject",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(this||k).options.selectConnectedEdges;if(void 0!==b){if(b instanceof J_){var _;!0===w&&(_=(this||k)._selectionAccumulator).addEdges.apply(_,Jc(b.edges));(this||k)._selectionAccumulator.addNodes(b)}else(this||k)._selectionAccumulator.addEdges(b);return!0}return!1}},{key:"deselectObject",value:function(b){!0===b.isSelected()&&(b.selected=!1,this._removeFromSelection(b))}},{key:"_getAllNodesOverlappingWith",value:function(b){for(var w=[],_=(this||k).body.nodes,x=0;x<(this||k).body.nodeIndices.length;x++){var E=(this||k).body.nodeIndices[x];_[E].isOverlappingWith(b)&&w.push(E)}return w}},{key:"_pointerToPositionObject",value:function(b){var w=(this||k).canvas.DOMtoCanvas(b);return{left:w.x-1,top:w.y+1,right:w.x+1,bottom:w.y-1}}},{key:"getNodeAt",value:function(b){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],_=this._pointerToPositionObject(b),x=this._getAllNodesOverlappingWith(_);return x.length>0?!0===w?(this||k).body.nodes[x[x.length-1]]:x[x.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(b,w){for(var _=(this||k).body.edges,x=0;x<(this||k).body.edgeIndices.length;x++){var E=(this||k).body.edgeIndices[x];_[E].isOverlappingWith(b)&&w.push(E)}}},{key:"_getAllEdgesOverlappingWith",value:function(b){var w=[];return this._getEdgesOverlappingWith(b,w),w}},{key:"getEdgeAt",value:function(b){for(var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],_=(this||k).canvas.DOMtoCanvas(b),x=10,E=null,O=(this||k).body.edges,C=0;C<(this||k).body.edgeIndices.length;C++){var S=(this||k).body.edgeIndices[C],T=O[S];if(T.connected){var M=T.from.x,D=T.from.y,B=T.to.x,I=T.to.y,F=T.edgeType.getDistanceToEdge(M,D,B,I,_.x,_.y);F<x&&(E=S,x=F)}}return null!==E?!0===w?(this||k).body.edges[E]:E:void 0}},{key:"_addToHover",value:function(b){b instanceof J_?(this||k).hoverObj.nodes[b.id]=b:(this||k).hoverObj.edges[b.id]=b}},{key:"_removeFromSelection",value:function(b){var w;b instanceof J_?((this||k)._selectionAccumulator.deleteNodes(b),(w=(this||k)._selectionAccumulator).deleteEdges.apply(w,Jc(b.edges))):(this||k)._selectionAccumulator.deleteEdges(b)}},{key:"unselectAll",value:function(){(this||k)._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return(this||k)._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return(this||k)._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(b){for(var w=0;w<b.edges.length;w++){var k=b.edges[w];k.hover=!0,this._addToHover(k)}}},{key:"emitBlurEvent",value:function(b,w,_){var x=this._initBaseEvent(b,w);!0===_.hover&&(_.hover=!1,_ instanceof J_?(x.node=_.id,(this||k).body.emitter.emit("blurNode",x)):(x.edge=_.id,(this||k).body.emitter.emit("blurEdge",x)))}},{key:"emitHoverEvent",value:function(b,w,_){var x=this._initBaseEvent(b,w),E=!1;return!1===_.hover&&(_.hover=!0,this._addToHover(_),E=!0,_ instanceof J_?(x.node=_.id,(this||k).body.emitter.emit("hoverNode",x)):(x.edge=_.id,(this||k).body.emitter.emit("hoverEdge",x))),E}},{key:"hoverObject",value:function(b,w){var _=this.getNodeAt(w);void 0===_&&(_=this.getEdgeAt(w));var x=!1;for(var E in(this||k).hoverObj.nodes)Object.prototype.hasOwnProperty.call((this||k).hoverObj.nodes,E)&&(void 0===_||_ instanceof J_&&_.id!=E||_ instanceof Gx)&&(this.emitBlurEvent(b,w,(this||k).hoverObj.nodes[E]),delete(this||k).hoverObj.nodes[E],x=!0);for(var O in(this||k).hoverObj.edges)Object.prototype.hasOwnProperty.call((this||k).hoverObj.edges,O)&&(!0===x?((this||k).hoverObj.edges[O].hover=!1,delete(this||k).hoverObj.edges[O]):(void 0===_||_ instanceof Gx&&_.id!=O||_ instanceof J_&&!_.hover)&&(this.emitBlurEvent(b,w,(this||k).hoverObj.edges[O]),delete(this||k).hoverObj.edges[O],x=!0));if(void 0!==_){var C=Au((this||k).hoverObj.edges).length,S=Au((this||k).hoverObj.nodes).length;(x||_ instanceof Gx&&0===C&&0===S||_ instanceof J_&&0===C&&0===S)&&(x=this.emitHoverEvent(b,w,_)),_ instanceof J_&&!0===(this||k).options.hoverConnectedEdges&&this._hoverConnectedEdges(_)}!0===x&&(this||k).body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){(this||k)._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(b,w){var _=!1,x=(this||k)._selectionAccumulator.commit(),E={nodes:x.nodes.previous,edges:x.edges.previous};x.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",w,b,E),_=!0),x.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",w,b,E),_=!0),x.nodes.added.length>0&&(this.generateClickEvent("selectNode",w,b),_=!0),x.edges.added.length>0&&(this.generateClickEvent("selectEdge",w,b),_=!0),!0===_&&this.generateClickEvent("select",w,b)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return(this||k)._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return(this||k)._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var b;return Iu(b=(this||k)._selectionAccumulator.getNodes()).call(b,(function(b){return b.id}))}},{key:"getSelectedEdgeIds",value:function(){var b;return Iu(b=(this||k)._selectionAccumulator.getEdges()).call(b,(function(b){return b.id}))}},{key:"setSelection",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!b||!b.nodes&&!b.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((w.unselectAll||void 0===w.unselectAll)&&this.unselectAll(),b.nodes){var _,x=dO(b.nodes);try{for(x.s();!(_=x.n()).done;){var E=_.value,O=(this||k).body.nodes[E];if(!O)throw new RangeError('Node with id "'+E+'" not found');this.selectObject(O,w.highlightEdges)}}catch(b){x.e(b)}finally{x.f()}}if(b.edges){var C,S=dO(b.edges);try{for(S.s();!(C=S.n()).done;){var T=C.value,M=(this||k).body.edges[T];if(!M)throw new RangeError('Edge with id "'+T+'" not found');this.selectObject(M)}}catch(b){S.e(b)}finally{S.f()}}(this||k).body.emitter.emit("_requestRedraw"),(this||k)._selectionAccumulator.commit()}},{key:"selectNodes",value:function(b){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!b||void 0===b.length)throw"Selection must be an array with ids";this.setSelection({nodes:b},{highlightEdges:w})}},{key:"selectEdges",value:function(b){if(!b||void 0===b.length)throw"Selection must be an array with ids";this.setSelection({edges:b})}},{key:"updateSelection",value:function(){for(var b in(this||k)._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call((this||k).body.nodes,b.id)||(this||k)._selectionAccumulator.deleteNodes(b);for(var w in(this||k)._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call((this||k).body.edges,w.id)||(this||k)._selectionAccumulator.deleteEdges(w)}},{key:"getClickedItems",value:function(b){for(var w=(this||k).canvas.DOMtoCanvas(b),_=[],x=(this||k).body.nodeIndices,E=(this||k).body.nodes,O=x.length-1;O>=0;O--){var C=E[x[O]].getItemsOnPoint(w);_.push.apply(_,C)}for(var S=(this||k).body.edgeIndices,T=(this||k).body.edges,M=S.length-1;M>=0;M--){var D=T[S[M]].getItemsOnPoint(w);_.push.apply(_,D)}return _}}]),t}(),BO=vh,IO=Math.floor,pO=function(b,w){var k=b.length,_=IO(k/2);return k<8?vO(b,w):gO(b,pO(BO(b,0,_),w),pO(BO(b,_),w),w)},vO=function(b,w){for(var k,_,x=b.length,E=1;E<x;){for(_=E,k=b[E];_&&w(b[_-1],k)>0;)b[_]=b[--_];_!==E++&&(b[_]=k)}return b},gO=function(b,w,k,_){for(var x=w.length,E=k.length,O=0,C=0;O<x||C<E;)b[O+C]=O<x&&C<E?_(w[O],k[C])<=0?w[O++]:k[C++]:O<x?w[O++]:k[C++];return b},zO=pO,FO=mt.match(/firefox\/(\d+)/i),NO=!!FO&&+FO[1],AO=/MSIE|Trident/.test(mt),RO=mt.match(/AppleWebKit\/(\d+)\./),jO=!!RO&&+RO[1],LO=xi,HO=A,WO=Et,qO=Lt,VO=zi,$O=on,UO=r,YO=zO,GO=Ou,KO=NO,QO=AO,JO=Tt,ZO=jO,eC=[],iC=HO(eC.sort),oC=HO(eC.push),nC=UO((function(){eC.sort(void 0)})),rC=UO((function(){eC.sort(null)})),sC=GO("sort"),aC=!UO((function(){if(JO)return JO<70;if(!(KO&&KO>3)){if(QO)return!0;if(ZO)return ZO<603;var b,w,k,_,x="";for(b=65;b<76;b++){switch(w=String.fromCharCode(b),b){case 66:case 69:case 70:case 72:k=3;break;case 68:case 71:k=4;break;default:k=2}for(_=0;_<47;_++)eC.push({k:w+_,v:k})}for(eC.sort((function(b,w){return w.v-b.v})),_=0;_<eC.length;_++)w=eC[_].k.charAt(0),x.charAt(x.length-1)!==w&&(x+=w);return"DGBEFHACIJK"!==x}}));LO({target:"Array",proto:!0,forced:nC||!rC||!sC||!aC},{sort:function(b){void 0!==b&&WO(b);var w=qO(this||k);if(aC)return void 0===b?iC(w):iC(w,b);var _,x,E=[],O=VO(w);for(x=0;x<O;x++)x in w&&oC(E,w[x]);for(YO(E,function(b){return function(w,k){return void 0===k?-1:void 0===w?1:void 0!==b?+b(w,k)||0:$O(w)>$O(k)?1:-1}}(b)),_=E.length,x=0;x<_;)w[x]=E[x++];for(;x<O;)delete w[x++];return w}});var hC=Mo("Array").sort,dC=yt,cC=hC,uC=Array.prototype,XO=function(b){var w=b.sort;return b===uC||dC(uC,b)&&w===uC.sort?cC:w},fC=XO,vC=Et,gC=Lt,yC=ht,mC=zi,bC=x.TypeError,tC=function(b){return function(w,k,_,x){vC(k);var E=gC(w),O=yC(E),C=mC(E),S=b?C-1:0,T=b?-1:1;if(_<2)for(;;){if(S in O){x=O[S],S+=T;break}if(S+=T,b?S<0:C<=S)throw bC("Reduce of empty array with no initial value")}for(;b?S>=0:C>S;S+=T)S in O&&(x=k(x,O[S],S,E));return x}},wC={left:tC(!1),right:tC(!0)},kC="process"==z(x.process),_C=wC.left,EC=Tt,MC=kC;xi({target:"Array",proto:!0,forced:!Ou("reduce")||!MC&&EC>79&&EC<83},{reduce:function(b){var w=arguments.length;return _C(this||k,b,w,w>1?arguments[1]:void 0)}});var PC=Mo("Array").reduce,IC=yt,zC=PC,FC=Array.prototype,lC=function(b){var w=b.reduce;return b===FC||IC(FC,b)&&w===FC.reduce?zC:w},NC=lC,AC={};!function(b){!function(b){function e(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}b.__esModule=!0,b.sort=v;var w=32,_=7,x=256,E=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function s(b){return b<1e5?b<100?b<10?0:1:b<1e4?b<1e3?2:3:4:b<1e7?b<1e6?5:6:b<1e9?b<1e8?7:8:9}function a(b,w){if(b===w)return 0;if(~~b===b&&~~w===w){if(0===b||0===w)return b<w?-1:1;if(b<0||w<0){if(w>=0)return-1;if(b>=0)return 1;b=-b,w=-w}var k=s(b),_=s(w),x=0;return k<_?(b*=E[_-k-1],w/=10,x=-1):k>_&&(w*=E[k-_-1],b/=10,x=1),b===w?x:b<w?-1:1}var O=String(b),C=String(w);return O===C?0:O<C?-1:1}function h(b){for(var k=0;b>=w;)k|=1&b,b>>=1;return b+k}function d(b,w,k,_){var x=w+1;if(x===k)return 1;if(_(b[x++],b[w])<0){for(;x<k&&_(b[x],b[x-1])<0;)x++;l(b,w,x)}else for(;x<k&&_(b[x],b[x-1])>=0;)x++;return x-w}function l(b,w,k){for(k--;w<k;){var _=b[w];b[w++]=b[k],b[k--]=_}}function c(b,w,k,_,x){for(_===w&&_++;_<k;_++){for(var E=b[_],O=w,C=_;O<C;){var S=O+C>>>1;x(E,b[S])<0?C=S:O=S+1}var T=_-O;switch(T){case 3:b[O+3]=b[O+2];case 2:b[O+2]=b[O+1];case 1:b[O+1]=b[O];break;default:for(;T>0;)b[O+T]=b[O+T-1],T--}b[O]=E}}function u(b,w,k,_,x,E){var O=0,C=0,S=1;if(E(b,w[k+x])>0){for(C=_-x;S<C&&E(b,w[k+x+S])>0;)O=S,(S=1+(S<<1))<=0&&(S=C);S>C&&(S=C),O+=x,S+=x}else{for(C=x+1;S<C&&E(b,w[k+x-S])<=0;)O=S,(S=1+(S<<1))<=0&&(S=C);S>C&&(S=C);var T=O;O=x-S,S=x-T}for(O++;O<S;){var M=O+(S-O>>>1);E(b,w[k+M])>0?O=M+1:S=M}return S}function f(b,w,k,_,x,E){var O=0,C=0,S=1;if(E(b,w[k+x])<0){for(C=x+1;S<C&&E(b,w[k+x-S])<0;)O=S,(S=1+(S<<1))<=0&&(S=C);S>C&&(S=C);var T=O;O=x-S,S=x-T}else{for(C=_-x;S<C&&E(b,w[k+x+S])>=0;)O=S,(S=1+(S<<1))<=0&&(S=C);S>C&&(S=C),O+=x,S+=x}for(O++;O<S;){var M=O+(S-O>>>1);E(b,w[k+M])<0?S=M:O=M+1}return S}var O=function(){function t(b,w){e(this||k,t),(this||k).array=null,(this||k).compare=null,(this||k).minGallop=_,(this||k).length=0,(this||k).tmpStorageLength=x,(this||k).stackLength=0,(this||k).runStart=null,(this||k).runLength=null,(this||k).stackSize=0,(this||k).array=b,(this||k).compare=w,(this||k).length=b.length,(this||k).length<2*x&&((this||k).tmpStorageLength=(this||k).length>>>1),(this||k).tmp=new Array((this||k).tmpStorageLength),(this||k).stackLength=(this||k).length<120?5:(this||k).length<1542?10:(this||k).length<119151?19:40,(this||k).runStart=new Array((this||k).stackLength),(this||k).runLength=new Array((this||k).stackLength)}return t.prototype.pushRun=function(b,w){(this||k).runStart[(this||k).stackSize]=b,(this||k).runLength[(this||k).stackSize]=w,(this||k).stackSize+=1},t.prototype.mergeRuns=function(){for(;(this||k).stackSize>1;){var b=(this||k).stackSize-2;if(b>=1&&(this||k).runLength[b-1]<=(this||k).runLength[b]+(this||k).runLength[b+1]||b>=2&&(this||k).runLength[b-2]<=(this||k).runLength[b]+(this||k).runLength[b-1])(this||k).runLength[b-1]<(this||k).runLength[b+1]&&b--;else if((this||k).runLength[b]>(this||k).runLength[b+1])break;this.mergeAt(b)}},t.prototype.forceMergeRuns=function(){for(;(this||k).stackSize>1;){var b=(this||k).stackSize-2;b>0&&(this||k).runLength[b-1]<(this||k).runLength[b+1]&&b--,this.mergeAt(b)}},t.prototype.mergeAt=function(b){var w=(this||k).compare,_=(this||k).array,x=(this||k).runStart[b],E=(this||k).runLength[b],O=(this||k).runStart[b+1],C=(this||k).runLength[b+1];(this||k).runLength[b]=E+C,b===(this||k).stackSize-3&&((this||k).runStart[b+1]=(this||k).runStart[b+2],(this||k).runLength[b+1]=(this||k).runLength[b+2]),(this||k).stackSize--;var S=f(_[O],_,x,E,0,w);x+=S,0!=(E-=S)&&0!==(C=u(_[x+E-1],_,O,C,C-1,w))&&(E<=C?this.mergeLow(x,E,O,C):this.mergeHigh(x,E,O,C))},t.prototype.mergeLow=function(b,w,x,E){var O=(this||k).compare,C=(this||k).array,S=(this||k).tmp,T=0;for(T=0;T<w;T++)S[T]=C[b+T];var M=0,D=x,B=b;if(C[B++]=C[D++],0!=--E)if(1!==w){for(var I=(this||k).minGallop;;){var F=0,N=0,A=!1;do{if(O(C[D],S[M])<0){if(C[B++]=C[D++],N++,F=0,0==--E){A=!0;break}}else if(C[B++]=S[M++],F++,N=0,1==--w){A=!0;break}}while((F|N)<I);if(A)break;do{if(0!==(F=f(C[D],S,M,w,0,O))){for(T=0;T<F;T++)C[B+T]=S[M+T];if(B+=F,M+=F,(w-=F)<=1){A=!0;break}}if(C[B++]=C[D++],0==--E){A=!0;break}if(0!==(N=u(S[M],C,D,E,0,O))){for(T=0;T<N;T++)C[B+T]=C[D+T];if(B+=N,D+=N,0==(E-=N)){A=!0;break}}if(C[B++]=S[M++],1==--w){A=!0;break}I--}while(F>=_||N>=_);if(A)break;I<0&&(I=0),I+=2}if((this||k).minGallop=I,I<1&&((this||k).minGallop=1),1===w){for(T=0;T<E;T++)C[B+T]=C[D+T];C[B+E]=S[M]}else{if(0===w)throw new Error("mergeLow preconditions were not respected");for(T=0;T<w;T++)C[B+T]=S[M+T]}}else{for(T=0;T<E;T++)C[B+T]=C[D+T];C[B+E]=S[M]}else for(T=0;T<w;T++)C[B+T]=S[M+T]},t.prototype.mergeHigh=function(b,w,x,E){var O=(this||k).compare,C=(this||k).array,S=(this||k).tmp,T=0;for(T=0;T<E;T++)S[T]=C[x+T];var M=b+w-1,D=E-1,B=x+E-1,I=0,F=0;if(C[B--]=C[M--],0!=--w)if(1!==E){for(var N=(this||k).minGallop;;){var A=0,R=0,j=!1;do{if(O(S[D],C[M])<0){if(C[B--]=C[M--],A++,R=0,0==--w){j=!0;break}}else if(C[B--]=S[D--],R++,A=0,1==--E){j=!0;break}}while((A|R)<N);if(j)break;do{if(0!=(A=w-f(S[D],C,b,w,w-1,O))){for(w-=A,F=1+(B-=A),I=1+(M-=A),T=A-1;T>=0;T--)C[F+T]=C[I+T];if(0===w){j=!0;break}}if(C[B--]=S[D--],1==--E){j=!0;break}if(0!=(R=E-u(C[M],S,0,E,E-1,O))){for(E-=R,F=1+(B-=R),I=1+(D-=R),T=0;T<R;T++)C[F+T]=S[I+T];if(E<=1){j=!0;break}}if(C[B--]=C[M--],0==--w){j=!0;break}N--}while(A>=_||R>=_);if(j)break;N<0&&(N=0),N+=2}if((this||k).minGallop=N,N<1&&((this||k).minGallop=1),1===E){for(F=1+(B-=w),I=1+(M-=w),T=w-1;T>=0;T--)C[F+T]=C[I+T];C[B]=S[D]}else{if(0===E)throw new Error("mergeHigh preconditions were not respected");for(I=B-(E-1),T=0;T<E;T++)C[I+T]=S[T]}}else{for(F=1+(B-=w),I=1+(M-=w),T=w-1;T>=0;T--)C[F+T]=C[I+T];C[B]=S[D]}else for(I=B-(E-1),T=0;T<E;T++)C[I+T]=S[T]},t}();function v(b,k,_,x){if(!Array.isArray(b))throw new TypeError("Can only sort arrays");k?"function"!=typeof k&&(x=_,_=k,k=a):k=a,_||(_=0),x||(x=b.length);var E=x-_;if(!(E<2)){var C=0;if(E<w)c(b,_,x,_+(C=d(b,_,x,k)),k);else{var S=new O(b,k),T=h(E);do{if((C=d(b,_,x,k))<T){var M=E;M>T&&(M=T),c(b,_,_+M,_+C,k),C=M}S.pushRun(_,C),S.mergeRuns(),E-=C,_+=C}while(0!==E);S.forceMergeRuns()}}}}(b)}(AC);var RC=AC;function pC(b){var w=function(){if("undefined"==typeof Reflect||!g_)return!1;if(g_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g_(Boolean,[],(function(){}))),!0}catch(b){return!1}}();return function(){var _,x=Hk(b);if(w){var E=Hk(this||k).constructor;_=g_(x,arguments,E)}else _=x.apply(this||k,arguments);return jk(this||k,_)}}var jC=function(){function t(){Xl(this||k,t)}return $l(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(b){return this.fake_use(b),this.abstract()}},{key:"setPosition",value:function(b,w){var k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(b,w,k),this.abstract()}},{key:"getTreeSize",value:function(b){return this.fake_use(b),this.abstract()}},{key:"sort",value:function(b){this.fake_use(b),this.abstract()}},{key:"fix",value:function(b,w){this.fake_use(b,w),this.abstract()}},{key:"shift",value:function(b,w){this.fake_use(b,w),this.abstract()}}]),t}(),LC=function(b){Rk(i,b);var w=pC(i);function i(b){var _;return Xl(this||k,i),(_=w.call(this||k)).layout=b,_}return $l(i,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(b){return b.x}},{key:"setPosition",value:function(b,w){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==_&&(this||k).layout.hierarchical.addToOrdering(b,_),b.x=w}},{key:"getTreeSize",value:function(b){var w=(this||k).layout.hierarchical.getTreeSize((this||k).layout.body.nodes,b);return{min:w.min_x,max:w.max_x}}},{key:"sort",value:function(b){RC.sort(b,(function(b,w){return b.x-w.x}))}},{key:"fix",value:function(b,w){b.y=(this||k).layout.options.hierarchical.levelSeparation*w,b.options.fixed.y=!0}},{key:"shift",value:function(b,w){(this||k).layout.body.nodes[b].x+=w}}]),i}(jC),HC=function(b){Rk(i,b);var w=pC(i);function i(b){var _;return Xl(this||k,i),(_=w.call(this||k)).layout=b,_}return $l(i,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(b){return b.y}},{key:"setPosition",value:function(b,w){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==_&&(this||k).layout.hierarchical.addToOrdering(b,_),b.y=w}},{key:"getTreeSize",value:function(b){var w=(this||k).layout.hierarchical.getTreeSize((this||k).layout.body.nodes,b);return{min:w.min_y,max:w.max_y}}},{key:"sort",value:function(b){RC.sort(b,(function(b,w){return b.y-w.y}))}},{key:"fix",value:function(b,w){b.x=(this||k).layout.options.hierarchical.levelSeparation*w,b.options.fixed.x=!0}},{key:"shift",value:function(b,w){(this||k).layout.body.nodes[b].y+=w}}]),i}(jC),WC=sd.every;xi({target:"Array",proto:!0,forced:!Ou("every")},{every:function(b){return WC(this||k,b,arguments.length>1?arguments[1]:void 0)}});var qC=Mo("Array").every,$C=yt,UC=qC,YC=Array.prototype,xC=function(b){var w=b.every;return b===YC||$C(YC,b)&&w===YC.every?UC:w},GC=xC;function OC(b,w){var k=void 0!==bu&&kh(b)||b["@@iterator"];if(!k){if(Su(b)||(k=function(b,w){var k;if(b){if("string"==typeof b)return CC(b,w);var _=Cu(k=Object.prototype.toString.call(b)).call(k,8,-1);"Object"===_&&b.constructor&&(_=b.constructor.name);return"Map"===_||"Set"===_?ih(b):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?CC(b,w):void 0}}(b))||w&&b&&"number"==typeof b.length){k&&(b=k);var _=0,n=function(){};return{s:n,n:function(){return _>=b.length?{done:!0}:{done:!1,value:b[_++]}},e:function(b){throw b},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var x,E=!0,O=!1;return{s:function(){k=k.call(b)},n:function(){var b=k.next();return E=b.done,b},e:function(b){O=!0,x=b},f:function(){try{E||null==k.return||k.return()}finally{if(O)throw x}}}}function CC(b,w){(null==w||w>b.length)&&(w=b.length);for(var k=0,_=new Array(w);k<w;k++)_[k]=b[k];return _}function SC(b,w){var k=new BE;return Fu(b).call(b,(function(b){var w;Fu(w=b.edges).call(w,(function(b){b.connected&&k.add(b)}))})),Fu(k).call(k,(function(b){var k=b.from.id,_=b.to.id;null==w[k]&&(w[k]=0),(null==w[_]||w[k]>=w[_])&&(w[_]=w[k]+1)})),w}function TC(b,w,k,_){var x,E,O=rv(null),C=NC(x=Jc(lk(_).call(_))).call(x,(function(b,w){return b+1+w.edges.length}),0),S=k+"Id",T="to"===k?1:-1,M=OC(_);try{var c=function(){var x=$c(E.value,2),M=x[0],D=x[1];if(!_.has(M)||!b(D))return"continue";O[M]=0;for(var B=[D],I=0,F=void 0,v=function(){var b,x;if(!_.has(M))return"continue";var E=O[F.id]+T;if(Fu(b=cp(x=F.edges).call(x,(function(b){return b.connected&&b.to!==b.from&&b[k]!==F&&_.has(b.toId)&&_.has(b.fromId)}))).call(b,(function(b){var _=b[S],x=O[_];(null==x||w(E,x))&&(O[_]=E,B.push(b[k]))})),I>C)return{v:{v:SC(_,O)}};++I};F=B.pop();){var N=v();if("continue"!==N&&"object"===Qc(N))return N.v}};for(M.s();!(E=M.n()).done;){var D=c();if("continue"!==D&&"object"===Qc(D))return D.v}}catch(b){M.e(b)}finally{M.f()}return O}var KC=function(){function t(){Xl(this||k,t),(this||k).childrenReference={},(this||k).parentReference={},(this||k).trees={},(this||k).distributionOrdering={},(this||k).levels={},(this||k).distributionIndex={},(this||k).isTree=!1,(this||k).treeIndex=-1}return $l(t,[{key:"addRelation",value:function(b,w){void 0===(this||k).childrenReference[b]&&((this||k).childrenReference[b]=[]),(this||k).childrenReference[b].push(w),void 0===(this||k).parentReference[w]&&((this||k).parentReference[w]=[]),(this||k).parentReference[w].push(b)}},{key:"checkIfTree",value:function(){for(var b in(this||k).parentReference)if((this||k).parentReference[b].length>1)return void((this||k).isTree=!1);(this||k).isTree=!0}},{key:"numTrees",value:function(){return(this||k).treeIndex+1}},{key:"setTreeIndex",value:function(b,w){void 0!==w&&void 0===(this||k).trees[b.id]&&((this||k).trees[b.id]=w,(this||k).treeIndex=Math.max(w,(this||k).treeIndex))}},{key:"ensureLevel",value:function(b){void 0===(this||k).levels[b]&&((this||k).levels[b]=0)}},{key:"getMaxLevel",value:function(b){var w=this||k,_={};return function t(b){if(void 0!==_[b])return _[b];var k=w.levels[b];if(w.childrenReference[b]){var x=w.childrenReference[b];if(x.length>0)for(var E=0;E<x.length;E++)k=Math.max(k,t(x[E]))}return _[b]=k,k}(b)}},{key:"levelDownstream",value:function(b,w){void 0===(this||k).levels[w.id]&&(void 0===(this||k).levels[b.id]&&((this||k).levels[b.id]=0),(this||k).levels[w.id]=(this||k).levels[b.id]+1)}},{key:"setMinLevelToZero",value:function(b){var w=1e9;for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&void 0!==(this||k).levels[_]&&(w=Math.min((this||k).levels[_],w));for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&void 0!==(this||k).levels[x]&&((this||k).levels[x]-=w)}},{key:"getTreeSize",value:function(b,w){var _=1e9,x=-1e9,E=1e9,O=-1e9;for(var C in(this||k).trees)if(Object.prototype.hasOwnProperty.call((this||k).trees,C)&&(this||k).trees[C]===w){var S=b[C];_=Math.min(S.x,_),x=Math.max(S.x,x),E=Math.min(S.y,E),O=Math.max(S.y,O)}return{min_x:_,max_x:x,min_y:E,max_y:O}}},{key:"hasSameParent",value:function(b,w){var _=(this||k).parentReference[b.id],x=(this||k).parentReference[w.id];if(void 0===_||void 0===x)return!1;for(var E=0;E<_.length;E++)for(var O=0;O<x.length;O++)if(_[E]==x[O])return!0;return!1}},{key:"inSameSubNetwork",value:function(b,w){return(this||k).trees[b.id]===(this||k).trees[w.id]}},{key:"getLevels",value:function(){return Au((this||k).distributionOrdering)}},{key:"addToOrdering",value:function(b,w){void 0===(this||k).distributionOrdering[w]&&((this||k).distributionOrdering[w]=[]);var _=!1,x=(this||k).distributionOrdering[w];for(var E in x)if(x[E]===b){_=!0;break}_||((this||k).distributionOrdering[w].push(b),(this||k).distributionIndex[b.id]=(this||k).distributionOrdering[w].length-1)}}]),t}(),QC=function(){function t(b){Xl(this||k,t),(this||k).body=b,this._resetRNG(Math.random()+":"+Wu()),(this||k).setPhysics=!1,(this||k).options={},(this||k).optionsBackup={physics:{}},(this||k).defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Bo((this||k).options,(this||k).defaultOptions),this.bindEventListeners()}return $l(t,[{key:"bindEventListeners",value:function(){var b=this||k;(this||k).body.emitter.on("_dataChanged",(function(){b.setupHierarchicalLayout()})),(this||k).body.emitter.on("_dataLoaded",(function(){b.layoutNetwork()})),(this||k).body.emitter.on("_resetHierarchicalLayout",(function(){b.setupHierarchicalLayout()})),(this||k).body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===b.options.hierarchical.enabled){var w=b.direction.curveType();b.body.emitter.emit("_forceDisableDynamicCurves",w,!1)}}))}},{key:"setOptions",value:function(b,w){if(void 0!==b){var _=(this||k).options.hierarchical,x=_.enabled;if(Ny(["randomSeed","improvedLayout","clusterThreshold"],(this||k).options,b),tm((this||k).options,b,"hierarchical"),void 0!==b.randomSeed&&this._resetRNG(b.randomSeed),!0===_.enabled)return!0===x&&(this||k).body.emitter.emit("refresh",!0),"RL"===_.direction||"DU"===_.direction?_.levelSeparation>0&&(_.levelSeparation*=-1):_.levelSeparation<0&&(_.levelSeparation*=-1),this.setDirectionStrategy(),(this||k).body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(w);if(!0===x)return(this||k).body.emitter.emit("refresh"),Ry(w,(this||k).optionsBackup)}return w}},{key:"_resetRNG",value:function(b){(this||k).initialRandomSeed=b,(this||k)._rng=_y((this||k).initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(b){if(!0===(this||k).options.hierarchical.enabled){var w=(this||k).optionsBackup.physics;void 0===b.physics||!0===b.physics?(b.physics={enabled:void 0===w.enabled||w.enabled,solver:"hierarchicalRepulsion"},w.enabled=void 0===w.enabled||w.enabled,w.solver=w.solver||"barnesHut"):"object"===Qc(b.physics)?(w.enabled=void 0===b.physics.enabled||b.physics.enabled,w.solver=b.physics.solver||"barnesHut",b.physics.solver="hierarchicalRepulsion"):!1!==b.physics&&(w.solver="barnesHut",b.physics={solver:"hierarchicalRepulsion"});var _=(this||k).direction.curveType();if(void 0===b.edges)(this||k).optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},b.edges={smooth:!1};else if(void 0===b.edges.smooth)(this||k).optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},b.edges.smooth=!1;else if("boolean"==typeof b.edges.smooth)(this||k).optionsBackup.edges={smooth:b.edges.smooth},b.edges.smooth={enabled:b.edges.smooth,type:_};else{var x=b.edges.smooth;void 0!==x.type&&"dynamic"!==x.type&&(_=x.type),(this||k).optionsBackup.edges={smooth:{enabled:void 0===x.enabled||x.enabled,type:void 0===x.type?"dynamic":x.type,roundness:void 0===x.roundness?.5:x.roundness,forceDirection:void 0!==x.forceDirection&&x.forceDirection}},b.edges.smooth={enabled:void 0===x.enabled||x.enabled,type:_,roundness:void 0===x.roundness?.5:x.roundness,forceDirection:void 0!==x.forceDirection&&x.forceDirection}}(this||k).body.emitter.emit("_forceDisableDynamicCurves",_)}return b}},{key:"positionInitially",value:function(b){if(!0!==(this||k).options.hierarchical.enabled){this._resetRNG((this||k).initialRandomSeed);for(var w=b.length+50,_=0;_<b.length;_++){var x=b[_],E=2*Math.PI*this._rng();void 0===x.x&&(x.x=w*Math.cos(E)),void 0===x.y&&(x.y=w*Math.sin(E))}}}},{key:"layoutNetwork",value:function(){if(!0!==(this||k).options.hierarchical.enabled&&!0===(this||k).options.improvedLayout){for(var b=(this||k).body.nodeIndices,w=0,_=0;_<b.length;_++)!0===(this||k).body.nodes[b[_]].predefinedPosition&&(w+=1);if(w<.5*b.length){var x=0,E=(this||k).options.clusterThreshold,O={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(b.length>E){for(var C=b.length;b.length>E&&x<=10;){x+=1;var S=b.length;if(x%3==0?(this||k).body.modules.clustering.clusterBridges(O):(this||k).body.modules.clustering.clusterOutliers(O),S==b.length&&x%3!=0)return this._declusterAll(),(this||k).body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}(this||k).body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*C)})}x>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),(this||k).body.modules.kamadaKawai.solve(b,(this||k).body.edgeIndices,!0),this._shiftToCenter();for(var T=0;T<b.length;T++){var M=(this||k).body.nodes[b[T]];!1===M.predefinedPosition&&(M.x+=70*(.5-this._rng()),M.y+=70*(.5-this._rng()))}this._declusterAll(),(this||k).body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var b=wE.getRangeCore((this||k).body.nodes,(this||k).body.nodeIndices),w=wE.findCenter(b),_=0;_<(this||k).body.nodeIndices.length;_++){var x=(this||k).body.nodes[(this||k).body.nodeIndices[_]];x.x-=w.x,x.y-=w.y}}},{key:"_declusterAll",value:function(){for(var b=!0;!0===b;){b=!1;for(var w=0;w<(this||k).body.nodeIndices.length;w++)!0===(this||k).body.nodes[(this||k).body.nodeIndices[w]].isCluster&&(b=!0,(this||k).body.modules.clustering.openCluster((this||k).body.nodeIndices[w],{},!1));!0===b&&(this||k).body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return(this||k).initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===(this||k).options.hierarchical.enabled&&(this||k).body.nodeIndices.length>0){var b,w,_=!1,x=!1;for(w in(this||k).lastNodeOnLevel={},(this||k).hierarchical=new KC,(this||k).body.nodes)Object.prototype.hasOwnProperty.call((this||k).body.nodes,w)&&(void 0!==(b=(this||k).body.nodes[w]).options.level?(_=!0,(this||k).hierarchical.levels[w]=b.options.level):x=!0);if(!0===x&&!0===_)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===x){var E=(this||k).options.hierarchical.sortMethod;"hubsize"===E?this._determineLevelsByHubsize():"directed"===E?this._determineLevelsDirected():"custom"===E&&this._determineLevelsCustomCallback()}for(var O in(this||k).body.nodes)Object.prototype.hasOwnProperty.call((this||k).body.nodes,O)&&(this||k).hierarchical.ensureLevel(O);var C=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(C),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var b=this||k,w=!1,_={},o=function(w,k){var _=b.hierarchical.trees;for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&_[x]===w&&b.direction.shift(x,k)},n=function(){for(var w=[],k=0;k<b.hierarchical.numTrees();k++)w.push(b.direction.getTreeSize(k));return w},x=function e(w,k){if(!k[w.id]&&(k[w.id]=!0,b.hierarchical.childrenReference[w.id])){var _=b.hierarchical.childrenReference[w.id];if(_.length>0)for(var x=0;x<_.length;x++)e(b.body.nodes[_[x]],k)}},s=function(w){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,_=1e9,x=1e9,E=1e9,O=-1e9;for(var C in w)if(Object.prototype.hasOwnProperty.call(w,C)){var S=b.body.nodes[C],T=b.hierarchical.levels[S.id],M=b.direction.getPosition(S),D=b._getSpaceAroundNode(S,w),B=$c(D,2),I=B[0],F=B[1];_=Math.min(I,_),x=Math.min(F,x),T<=k&&(E=Math.min(M,E),O=Math.max(M,O))}return[E,O,_,x]},a=function(w,k){var _=b.hierarchical.getMaxLevel(w.id),x=b.hierarchical.getMaxLevel(k.id);return Math.min(_,x)},h=function(w,k,_){for(var x=b.hierarchical,E=0;E<k.length;E++){var O=k[E],C=x.distributionOrdering[O];if(C.length>1)for(var S=0;S<C.length-1;S++){var T=C[S],M=C[S+1];x.hasSameParent(T,M)&&x.inSameSubNetwork(T,M)&&w(T,M,_)}}},d=function(k,_){var E=arguments.length>2&&void 0!==arguments[2]&&arguments[2],O=b.direction.getPosition(k),C=b.direction.getPosition(_),S=Math.abs(C-O),T=b.options.hierarchical.nodeSpacing;if(S>T){var M={},D={};x(k,M),x(_,D);var B=a(k,_),I=s(M,B),F=s(D,B),N=I[1],A=F[0],R=F[2],j=Math.abs(N-A);if(j>T){var L=N-A+T;L<-R+T&&(L=-R+T),L<0&&(b._shiftBlock(_.id,L),w=!0,!0===E&&b._centerParent(_))}}},l=function(k,E){for(var O=E.id,C=E.edges,S=b.hierarchical.levels[E.id],T=b.options.hierarchical.levelSeparation*b.options.hierarchical.levelSeparation,M={},D=[],B=0;B<C.length;B++){var I=C[B];if(I.toId!=I.fromId){var F=I.toId==O?I.from:I.to;M[C[B].id]=F,b.hierarchical.levels[F.id]<S&&D.push(I)}}var g=function(w,k){for(var _=0,x=0;x<k.length;x++)if(void 0!==M[k[x].id]){var E=b.direction.getPosition(M[k[x].id])-w;_+=E/Math.sqrt(E*E+T)}return _},y=function(w,k){for(var _=0,x=0;x<k.length;x++)if(void 0!==M[k[x].id]){var E=b.direction.getPosition(M[k[x].id])-w;_-=T*Math.pow(E*E+T,-1.5)}return _},m=function(w,k){for(var _=b.direction.getPosition(E),x={},O=0;O<w;O++){var C=g(_,k),S=y(_,k);if(void 0!==x[_-=Math.max(-40,Math.min(40,Math.round(C/S)))])break;x[_]=O}return _},N=m(k,D);!function(k){var O=b.direction.getPosition(E);if(void 0===_[E.id]){var C={};x(E,C),_[E.id]=C}var S=s(_[E.id]),T=S[2],M=S[3],D=k-O,B=0;D>0?B=Math.min(D,M-b.options.hierarchical.nodeSpacing):D<0&&(B=-Math.min(-D,T-b.options.hierarchical.nodeSpacing)),0!=B&&(b._shiftBlock(E.id,B),w=!0)}(N),function(k){var _=b.direction.getPosition(E),x=$c(b._getSpaceAroundNode(E),2),O=x[0],C=x[1],S=k-_,T=_;S>0?T=Math.min(_+(C-b.options.hierarchical.nodeSpacing),k):S<0&&(T=Math.max(_-(O-b.options.hierarchical.nodeSpacing),k)),T!==_&&(b.direction.setPosition(E,T),w=!0)}(N=m(k,C))};!0===(this||k).options.hierarchical.blockShifting&&(function(k){var _=b.hierarchical.getLevels();_=df(_).call(_);for(var x=0;x<k&&(w=!1,h(d,_,!0),!0===w);x++);}(5),function(){for(var w in b.body.nodes)Object.prototype.hasOwnProperty.call(b.body.nodes,w)&&b._centerParent(b.body.nodes[w])}()),!0===(this||k).options.hierarchical.edgeMinimization&&function(k){var _=b.hierarchical.getLevels();_=df(_).call(_);for(var x=0;x<k;x++){w=!1;for(var E=0;E<_.length;E++)for(var O=_[E],C=b.hierarchical.distributionOrdering[O],S=0;S<C.length;S++)l(1e3,C[S]);if(!0!==w)break}}(20),!0===(this||k).options.hierarchical.parentCentralization&&function(){var w=b.hierarchical.getLevels();w=df(w).call(w);for(var k=0;k<w.length;k++)for(var _=w[k],x=b.hierarchical.distributionOrdering[_],E=0;E<x.length;E++)b._centerParent(x[E])}(),function(){for(var w=n(),k=0,_=0;_<w.length-1;_++)k+=w[_].max-w[_+1].min+b.options.hierarchical.treeSpacing,o(_+1,k)}()}},{key:"_getSpaceAroundNode",value:function(b,w){var _=!0;void 0===w&&(_=!1);var x=(this||k).hierarchical.levels[b.id];if(void 0!==x){var E=(this||k).hierarchical.distributionIndex[b.id],O=(this||k).direction.getPosition(b),C=(this||k).hierarchical.distributionOrdering[x],S=1e9,T=1e9;if(0!==E){var M=C[E-1];(!0===_&&void 0===w[M.id]||!1===_)&&(S=O-(this||k).direction.getPosition(M))}if(E!=C.length-1){var D=C[E+1];if(!0===_&&void 0===w[D.id]||!1===_){var B=(this||k).direction.getPosition(D);T=Math.min(T,B-O)}}return[S,T]}return[0,0]}},{key:"_centerParent",value:function(b){if((this||k).hierarchical.parentReference[b.id])for(var w=(this||k).hierarchical.parentReference[b.id],_=0;_<w.length;_++){var x=w[_],E=(this||k).body.nodes[x],O=(this||k).hierarchical.childrenReference[x];if(void 0!==O){var C=this._getCenterPosition(O),S=(this||k).direction.getPosition(E),T=$c(this._getSpaceAroundNode(E),2),M=T[0],D=T[1],B=S-C;(B<0&&Math.abs(B)<D-(this||k).options.hierarchical.nodeSpacing||B>0&&Math.abs(B)<M-(this||k).options.hierarchical.nodeSpacing)&&(this||k).direction.setPosition(E,C)}}}},{key:"_placeNodesByHierarchy",value:function(b){for(var w in(this||k).positionedNodes={},b)if(Object.prototype.hasOwnProperty.call(b,w)){var _,x=Au(b[w]);x=this._indexArrayToNodes(x),fC(_=(this||k).direction).call(_,x);for(var E=0,O=0;O<x.length;O++){var C=x[O];if(void 0===(this||k).positionedNodes[C.id]){var S=(this||k).options.hierarchical.nodeSpacing,T=S*E;E>0&&(T=(this||k).direction.getPosition(x[O-1])+S),(this||k).direction.setPosition(C,T,w),this._validatePositionAndContinue(C,w,T),E++}}}}},{key:"_placeBranchNodes",value:function(b,w){var _,x=(this||k).hierarchical.childrenReference[b];if(void 0!==x){for(var E=[],O=0;O<x.length;O++)E.push((this||k).body.nodes[x[O]]);fC(_=(this||k).direction).call(_,E);for(var C=0;C<E.length;C++){var S=E[C],T=(this||k).hierarchical.levels[S.id];if(!(T>w&&void 0===(this||k).positionedNodes[S.id]))return;var M=(this||k).options.hierarchical.nodeSpacing,D=void 0;D=0===C?(this||k).direction.getPosition((this||k).body.nodes[b]):(this||k).direction.getPosition(E[C-1])+M,(this||k).direction.setPosition(S,D,T),this._validatePositionAndContinue(S,T,D)}var B=this._getCenterPosition(E);(this||k).direction.setPosition((this||k).body.nodes[b],B,w)}}},{key:"_validatePositionAndContinue",value:function(b,w,_){if((this||k).hierarchical.isTree){if(void 0!==(this||k).lastNodeOnLevel[w]){var x=(this||k).direction.getPosition((this||k).body.nodes[(this||k).lastNodeOnLevel[w]]);if(_-x<(this||k).options.hierarchical.nodeSpacing){var E=x+(this||k).options.hierarchical.nodeSpacing-_,O=this._findCommonParent((this||k).lastNodeOnLevel[w],b.id);this._shiftBlock(O.withChild,E)}}(this||k).lastNodeOnLevel[w]=b.id,(this||k).positionedNodes[b.id]=!0,this._placeBranchNodes(b.id,w)}}},{key:"_indexArrayToNodes",value:function(b){for(var w=[],_=0;_<b.length;_++)w.push((this||k).body.nodes[b[_]]);return w}},{key:"_getDistribution",value:function(){var b,w,_={};for(b in(this||k).body.nodes)if(Object.prototype.hasOwnProperty.call((this||k).body.nodes,b)){w=(this||k).body.nodes[b];var x=void 0===(this||k).hierarchical.levels[b]?0:(this||k).hierarchical.levels[b];(this||k).direction.fix(w,x),void 0===_[x]&&(_[x]={}),_[x][b]=w}return _}},{key:"_getActiveEdges",value:function(b){var w=this||k,_=[];return Wy(b.edges,(function(b){var k;-1!==Jp(k=w.body.edgeIndices).call(k,b.id)&&_.push(b)})),_}},{key:"_getHubSizes",value:function(){var b=this||k,w={};Wy((this||k).body.nodeIndices,(function(k){var _=b.body.nodes[k],x=b._getActiveEdges(_).length;w[x]=!0}));var _=[];return Wy(w,(function(b){_.push(Number(b))})),fC(RC).call(RC,_,(function(b,w){return w-b})),_}},{key:"_determineLevelsByHubsize",value:function(){for(var b=this||k,e=function(w,k){b.hierarchical.levelDownstream(w,k)},w=this._getHubSizes(),o=function(k){var _=w[k];if(0===_)return"break";Wy(b.body.nodeIndices,(function(w){var k=b.body.nodes[w];_===b._getActiveEdges(k).length&&b._crawlNetwork(e,w)}))},_=0;_<w.length;++_)if("break"===o(_))break}},{key:"_determineLevelsCustomCallback",value:function(){var b=this||k;this._crawlNetwork((function(w,k,_){var x=b.hierarchical.levels[w.id];void 0===x&&(x=b.hierarchical.levels[w.id]=1e5);var E=(wE.cloneOptions(w,"node"),wE.cloneOptions(k,"node"),void wE.cloneOptions(_,"edge"));b.hierarchical.levels[k.id]=x+E})),(this||k).hierarchical.setMinLevelToZero((this||k).body.nodes)}},{key:"_determineLevelsDirected",value:function(){var b,w=this||k,_=NC(b=(this||k).body.nodeIndices).call(b,(function(b,k){return b.set(k,w.body.nodes[k]),b}),new Ww);"roots"===(this||k).options.hierarchical.shakeTowards?(this||k).hierarchical.levels=function(b){return TC((function(w){var k,_;return GC(k=cp(_=w.edges).call(_,(function(w){return b.has(w.toId)}))).call(k,(function(b){return b.from===w}))}),(function(b,w){return w<b}),"to",b)}(_):(this||k).hierarchical.levels=function(b){return TC((function(w){var k,_;return GC(k=cp(_=w.edges).call(_,(function(w){return b.has(w.toId)}))).call(k,(function(b){return b.to===w}))}),(function(b,w){return w>b}),"from",b)}(_),(this||k).hierarchical.setMinLevelToZero((this||k).body.nodes)}},{key:"_generateMap",value:function(){var b=this||k;this._crawlNetwork((function(w,k){b.hierarchical.levels[k.id]>b.hierarchical.levels[w.id]&&b.hierarchical.addRelation(w.id,k.id)})),(this||k).hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var b=this||k,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},_=arguments.length>1?arguments[1]:void 0,x={},E=function i(k,_){if(void 0===x[k.id]){var E;b.hierarchical.setTreeIndex(k,_),x[k.id]=!0;for(var O=b._getActiveEdges(k),C=0;C<O.length;C++){var S=O[C];!0===S.connected&&(E=S.toId==k.id?S.from:S.to,k.id!=E.id&&(w(k,E,S),i(E,_)))}}};if(void 0===_)for(var O=0,C=0;C<(this||k).body.nodeIndices.length;C++){var S=(this||k).body.nodeIndices[C];if(void 0===x[S]){var T=(this||k).body.nodes[S];E(T,O),O+=1}}else{var M=(this||k).body.nodes[_];if(void 0===M)return void console.error("Node not found:",_);E(M)}}},{key:"_shiftBlock",value:function(b,w){var _=this||k,x={};!function t(b){if(!x[b]){x[b]=!0,_.direction.shift(b,w);var k=_.hierarchical.childrenReference[b];if(void 0!==k)for(var E=0;E<k.length;E++)t(k[E])}}(b)}},{key:"_findCommonParent",value:function(b,w){var _=this||k,x={};return function t(b,w){var k=_.hierarchical.parentReference[w];if(void 0!==k)for(var x=0;x<k.length;x++){var E=k[x];b[E]=!0,t(b,E)}}(x,b),function t(b,w){var k=_.hierarchical.parentReference[w];if(void 0!==k)for(var x=0;x<k.length;x++){var E=k[x];if(void 0!==b[E])return{foundParent:E,withChild:w};var O=t(b,E);if(null!==O.foundParent)return O}return{foundParent:null,withChild:w}}(x,w)}},{key:"setDirectionStrategy",value:function(){var b="UD"===(this||k).options.hierarchical.direction||"DU"===(this||k).options.hierarchical.direction;(this||k).direction=b?new LC(this||k):new HC(this||k)}},{key:"_getCenterPosition",value:function(b){for(var w=1e9,_=-1e9,x=0;x<b.length;x++){var E=void 0;if(void 0!==b[x].id)E=b[x];else{var O=b[x];E=(this||k).body.nodes[O]}var C=(this||k).direction.getPosition(E);w=Math.min(w,C),_=Math.max(_,C)}return.5*(w+_)}}]),t}();function DC(b,w){var k=void 0!==bu&&kh(b)||b["@@iterator"];if(!k){if(Su(b)||(k=function(b,w){var k;if(b){if("string"==typeof b)return BC(b,w);var _=Cu(k=Object.prototype.toString.call(b)).call(k,8,-1);"Object"===_&&b.constructor&&(_=b.constructor.name);return"Map"===_||"Set"===_?ih(b):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?BC(b,w):void 0}}(b))||w&&b&&"number"==typeof b.length){k&&(b=k);var _=0,n=function(){};return{s:n,n:function(){return _>=b.length?{done:!0}:{done:!1,value:b[_++]}},e:function(b){throw b},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var x,E=!0,O=!1;return{s:function(){k=k.call(b)},n:function(){var b=k.next();return E=b.done,b},e:function(b){O=!0,x=b},f:function(){try{E||null==k.return||k.return()}finally{if(O)throw x}}}}function BC(b,w){(null==w||w>b.length)&&(w=b.length);for(var k=0,_=new Array(w);k<w;k++)_[k]=b[k];return _}var JC=function(){function t(b,w,_,x){var E,O,C=this||k;Xl(this||k,t),(this||k).body=b,(this||k).canvas=w,(this||k).selectionHandler=_,(this||k).interactionHandler=x,(this||k).editMode=!1,(this||k).manipulationDiv=void 0,(this||k).editModeDiv=void 0,(this||k).closeDiv=void 0,(this||k)._domEventListenerCleanupQueue=[],(this||k).temporaryUIFunctions={},(this||k).temporaryEventFunctions=[],(this||k).touchTime=0,(this||k).temporaryIds={nodes:[],edges:[]},(this||k).guiEnabled=!1,(this||k).inMode=!1,(this||k).selectedControlNode=void 0,(this||k).options={},(this||k).defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Bo((this||k).options,(this||k).defaultOptions),(this||k).body.emitter.on("destroy",(function(){C._clean()})),(this||k).body.emitter.on("_dataChanged",rn(E=(this||k)._restore).call(E,this||k)),(this||k).body.emitter.on("_resetData",rn(O=(this||k)._restore).call(O,this||k))}return $l(t,[{key:"_restore",value:function(){!1!==(this||k).inMode&&(!0===(this||k).options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(b,w,_){void 0!==w&&(void 0!==w.locale?(this||k).options.locale=w.locale:(this||k).options.locale=_.locale,void 0!==w.locales?(this||k).options.locales=w.locales:(this||k).options.locales=_.locales),void 0!==b&&("boolean"==typeof b?(this||k).options.enabled=b:((this||k).options.enabled=!0,Ry((this||k).options,b)),!0===(this||k).options.initiallyActive&&((this||k).editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===(this||k).editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){(this||k).editMode=!0,this._clean(),!0===(this||k).guiEnabled&&((this||k).manipulationDiv.style.display="block",(this||k).closeDiv.style.display="block",(this||k).editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){(this||k).editMode=!1,this._clean(),!0===(this||k).guiEnabled&&((this||k).manipulationDiv.style.display="none",(this||k).closeDiv.style.display="none",(this||k).editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),(this||k).manipulationDOM={},!0===(this||k).guiEnabled){var b,w;(this||k).editMode=!0,(this||k).manipulationDiv.style.display="block",(this||k).closeDiv.style.display="block";var _=(this||k).selectionHandler.getSelectedNodeCount(),x=(this||k).selectionHandler.getSelectedEdgeCount(),E=_+x,O=(this||k).options.locales[(this||k).options.locale],C=!1;!1!==(this||k).options.addNode&&(this._createAddNodeButton(O),C=!0),!1!==(this||k).options.addEdge&&(!0===C?this._createSeperator(1):C=!0,this._createAddEdgeButton(O)),1===_&&"function"==typeof(this||k).options.editNode?(!0===C?this._createSeperator(2):C=!0,this._createEditNodeButton(O)):1===x&&0===_&&!1!==(this||k).options.editEdge&&(!0===C?this._createSeperator(3):C=!0,this._createEditEdgeButton(O)),0!==E&&(_>0&&!1!==(this||k).options.deleteNode||0===_&&!1!==(this||k).options.deleteEdge)&&(!0===C&&this._createSeperator(4),this._createDeleteButton(O)),this._bindElementEvents((this||k).closeDiv,rn(b=(this||k).toggleEditMode).call(b,this||k)),this._temporaryBindEvent("select",rn(w=(this||k).showManipulatorToolbar).call(w,this||k))}(this||k).body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var b;if(!0!==(this||k).editMode&&this.enableEditMode(),this._clean(),(this||k).inMode="addNode",!0===(this||k).guiEnabled){var w,_=(this||k).options.locales[(this||k).options.locale];(this||k).manipulationDOM={},this._createBackButton(_),this._createSeperator(),this._createDescription(_.addDescription||(this||k).options.locales.en.addDescription),this._bindElementEvents((this||k).closeDiv,rn(w=(this||k).toggleEditMode).call(w,this||k))}this._temporaryBindEvent("click",rn(b=(this||k)._performAddNode).call(b,this||k))}},{key:"editNode",value:function(){var b=this||k;!0!==(this||k).editMode&&this.enableEditMode(),this._clean();var w=(this||k).selectionHandler.getSelectedNodes()[0];if(void 0!==w){if((this||k).inMode="editNode","function"!=typeof(this||k).options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==w.isCluster){var _=Ry({},w.options,!1);if(_.x=w.x,_.y=w.y,2!==(this||k).options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");(this||k).options.editNode(_,(function(w){null!=w&&"editNode"===b.inMode&&b.body.data.nodes.getDataSet().update(w),b.showManipulatorToolbar()}))}else alert((this||k).options.locales[(this||k).options.locale].editClusterError||(this||k).options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var b,w,_,x,E;if(!0!==(this||k).editMode&&this.enableEditMode(),this._clean(),(this||k).inMode="addEdge",!0===(this||k).guiEnabled){var O,C=(this||k).options.locales[(this||k).options.locale];(this||k).manipulationDOM={},this._createBackButton(C),this._createSeperator(),this._createDescription(C.edgeDescription||(this||k).options.locales.en.edgeDescription),this._bindElementEvents((this||k).closeDiv,rn(O=(this||k).toggleEditMode).call(O,this||k))}this._temporaryBindUI("onTouch",rn(b=(this||k)._handleConnect).call(b,this||k)),this._temporaryBindUI("onDragEnd",rn(w=(this||k)._finishConnect).call(w,this||k)),this._temporaryBindUI("onDrag",rn(_=(this||k)._dragControlNode).call(_,this||k)),this._temporaryBindUI("onRelease",rn(x=(this||k)._finishConnect).call(x,this||k)),this._temporaryBindUI("onDragStart",rn(E=(this||k)._dragStartEdge).call(E,this||k)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==(this||k).editMode&&this.enableEditMode(),this._clean(),(this||k).inMode="editEdge","object"!==Qc((this||k).options.editEdge)||"function"!=typeof(this||k).options.editEdge.editWithoutDrag||((this||k).edgeBeingEditedId=(this||k).selectionHandler.getSelectedEdgeIds()[0],void 0===(this||k).edgeBeingEditedId)){if(!0===(this||k).guiEnabled){var b,w=(this||k).options.locales[(this||k).options.locale];(this||k).manipulationDOM={},this._createBackButton(w),this._createSeperator(),this._createDescription(w.editEdgeDescription||(this||k).options.locales.en.editEdgeDescription),this._bindElementEvents((this||k).closeDiv,rn(b=(this||k).toggleEditMode).call(b,this||k))}if((this||k).edgeBeingEditedId=(this||k).selectionHandler.getSelectedEdgeIds()[0],void 0!==(this||k).edgeBeingEditedId){var _,x,E,O,C=(this||k).body.edges[(this||k).edgeBeingEditedId],S=this._getNewTargetNode(C.from.x,C.from.y),T=this._getNewTargetNode(C.to.x,C.to.y);(this||k).temporaryIds.nodes.push(S.id),(this||k).temporaryIds.nodes.push(T.id),(this||k).body.nodes[S.id]=S,(this||k).body.nodeIndices.push(S.id),(this||k).body.nodes[T.id]=T,(this||k).body.nodeIndices.push(T.id),this._temporaryBindUI("onTouch",rn(_=(this||k)._controlNodeTouch).call(_,this||k)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",rn(x=(this||k)._controlNodeDragStart).call(x,this||k)),this._temporaryBindUI("onDrag",rn(E=(this||k)._controlNodeDrag).call(E,this||k)),this._temporaryBindUI("onDragEnd",rn(O=(this||k)._controlNodeDragEnd).call(O,this||k)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(b){var w=C.edgeType.findBorderPositions(b);!1===S.selected&&(S.x=w.from.x,S.y=w.from.y),!1===T.selected&&(T.x=w.to.x,T.y=w.to.y)})),(this||k).body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var M=(this||k).body.edges[(this||k).edgeBeingEditedId];this._performEditEdge(M.from.id,M.to.id)}}},{key:"deleteSelected",value:function(){var b=this||k;!0!==(this||k).editMode&&this.enableEditMode(),this._clean(),(this||k).inMode="delete";var w=(this||k).selectionHandler.getSelectedNodeIds(),_=(this||k).selectionHandler.getSelectedEdgeIds(),x=void 0;if(w.length>0){for(var E=0;E<w.length;E++)if(!0===(this||k).body.nodes[w[E]].isCluster)return void alert((this||k).options.locales[(this||k).options.locale].deleteClusterError||(this||k).options.locales.en.deleteClusterError);"function"==typeof(this||k).options.deleteNode&&(x=(this||k).options.deleteNode)}else _.length>0&&"function"==typeof(this||k).options.deleteEdge&&(x=(this||k).options.deleteEdge);if("function"==typeof x){var O={nodes:w,edges:_};if(2!==x.length)throw new Error("The function for delete does not support two arguments (data, callback)");x(O,(function(w){null!=w&&"delete"===b.inMode?(b.body.data.edges.getDataSet().remove(w.edges),b.body.data.nodes.getDataSet().remove(w.nodes),b.body.emitter.emit("startSimulation"),b.showManipulatorToolbar()):(b.body.emitter.emit("startSimulation"),b.showManipulatorToolbar())}))}else(this||k).body.data.edges.getDataSet().remove(_),(this||k).body.data.nodes.getDataSet().remove(w),(this||k).body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===(this||k).options.enabled?((this||k).guiEnabled=!0,this._createWrappers(),!1===(this||k).editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),(this||k).guiEnabled=!1)}},{key:"_createWrappers",value:function(){var b,w;(void 0===(this||k).manipulationDiv&&((this||k).manipulationDiv=document.createElement("div"),(this||k).manipulationDiv.className="vis-manipulation",!0===(this||k).editMode?(this||k).manipulationDiv.style.display="block":(this||k).manipulationDiv.style.display="none",(this||k).canvas.frame.appendChild((this||k).manipulationDiv)),void 0===(this||k).editModeDiv&&((this||k).editModeDiv=document.createElement("div"),(this||k).editModeDiv.className="vis-edit-mode",!0===(this||k).editMode?(this||k).editModeDiv.style.display="none":(this||k).editModeDiv.style.display="block",(this||k).canvas.frame.appendChild((this||k).editModeDiv)),void 0===(this||k).closeDiv)&&((this||k).closeDiv=document.createElement("button"),(this||k).closeDiv.className="vis-close",(this||k).closeDiv.setAttribute("aria-label",null!==(b=null===(w=(this||k).options.locales[(this||k).options.locale])||void 0===w?void 0:w.close)&&void 0!==b?b:(this||k).options.locales.en.close),(this||k).closeDiv.style.display=(this||k).manipulationDiv.style.display,(this||k).canvas.frame.appendChild((this||k).closeDiv))}},{key:"_getNewTargetNode",value:function(b,w){var _=Ry({},(this||k).options.controlNodeStyle);_.id="targetNode"+Xx(),_.hidden=!1,_.physics=!1,_.x=b,_.y=w;var x=(this||k).body.functions.createNode(_);return x.shape.boundingBox={left:b,right:b,top:w,bottom:w},x}},{key:"_createEditButton",value:function(){var b;this._clean(),(this||k).manipulationDOM={},Dy((this||k).editModeDiv);var w=(this||k).options.locales[(this||k).options.locale],_=this._createButton("editMode","vis-edit vis-edit-mode",w.edit||(this||k).options.locales.en.edit);(this||k).editModeDiv.appendChild(_),this._bindElementEvents(_,rn(b=(this||k).toggleEditMode).call(b,this||k))}},{key:"_clean",value:function(){(this||k).inMode=!1,!0===(this||k).guiEnabled&&(Dy((this||k).editModeDiv),Dy((this||k).manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),(this||k).body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var b,w,_=DC(Bf(b=(this||k)._domEventListenerCleanupQueue).call(b,0));try{for(_.s();!(w=_.n()).done;)(0,w.value)()}catch(b){_.e(b)}finally{_.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),Dy((this||k).manipulationDiv),Dy((this||k).editModeDiv),Dy((this||k).closeDiv),(this||k).manipulationDiv&&(this||k).canvas.frame.removeChild((this||k).manipulationDiv),(this||k).editModeDiv&&(this||k).canvas.frame.removeChild((this||k).editModeDiv),(this||k).closeDiv&&(this||k).canvas.frame.removeChild((this||k).closeDiv),(this||k).manipulationDiv=void 0,(this||k).editModeDiv=void 0,(this||k).closeDiv=void 0}},{key:"_createSeperator",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(this||k).manipulationDOM["seperatorLineDiv"+b]=document.createElement("div"),(this||k).manipulationDOM["seperatorLineDiv"+b].className="vis-separator-line",(this||k).manipulationDiv.appendChild((this||k).manipulationDOM["seperatorLineDiv"+b])}},{key:"_createAddNodeButton",value:function(b){var w,_=this._createButton("addNode","vis-add",b.addNode||(this||k).options.locales.en.addNode);(this||k).manipulationDiv.appendChild(_),this._bindElementEvents(_,rn(w=(this||k).addNodeMode).call(w,this||k))}},{key:"_createAddEdgeButton",value:function(b){var w,_=this._createButton("addEdge","vis-connect",b.addEdge||(this||k).options.locales.en.addEdge);(this||k).manipulationDiv.appendChild(_),this._bindElementEvents(_,rn(w=(this||k).addEdgeMode).call(w,this||k))}},{key:"_createEditNodeButton",value:function(b){var w,_=this._createButton("editNode","vis-edit",b.editNode||(this||k).options.locales.en.editNode);(this||k).manipulationDiv.appendChild(_),this._bindElementEvents(_,rn(w=(this||k).editNode).call(w,this||k))}},{key:"_createEditEdgeButton",value:function(b){var w,_=this._createButton("editEdge","vis-edit",b.editEdge||(this||k).options.locales.en.editEdge);(this||k).manipulationDiv.appendChild(_),this._bindElementEvents(_,rn(w=(this||k).editEdgeMode).call(w,this||k))}},{key:"_createDeleteButton",value:function(b){var w,_;_=(this||k).options.rtl?"vis-delete-rtl":"vis-delete";var x=this._createButton("delete",_,b.del||(this||k).options.locales.en.del);(this||k).manipulationDiv.appendChild(x),this._bindElementEvents(x,rn(w=(this||k).deleteSelected).call(w,this||k))}},{key:"_createBackButton",value:function(b){var w,_=this._createButton("back","vis-back",b.back||(this||k).options.locales.en.back);(this||k).manipulationDiv.appendChild(_),this._bindElementEvents(_,rn(w=(this||k).showManipulatorToolbar).call(w,this||k))}},{key:"_createButton",value:function(b,w,_){var x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return(this||k).manipulationDOM[b+"Div"]=document.createElement("button"),(this||k).manipulationDOM[b+"Div"].className="vis-button "+w,(this||k).manipulationDOM[b+"Label"]=document.createElement("div"),(this||k).manipulationDOM[b+"Label"].className=x,(this||k).manipulationDOM[b+"Label"].innerText=_,(this||k).manipulationDOM[b+"Div"].appendChild((this||k).manipulationDOM[b+"Label"]),(this||k).manipulationDOM[b+"Div"]}},{key:"_createDescription",value:function(b){(this||k).manipulationDOM.descriptionLabel=document.createElement("div"),(this||k).manipulationDOM.descriptionLabel.className="vis-none",(this||k).manipulationDOM.descriptionLabel.innerText=b,(this||k).manipulationDiv.appendChild((this||k).manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(b,w){(this||k).temporaryEventFunctions.push({event:b,boundFunction:w}),(this||k).body.emitter.on(b,w)}},{key:"_temporaryBindUI",value:function(b,w){if(void 0===(this||k).body.eventListeners[b])throw new Error("This UI function does not exist. Typo? You tried: "+b+" possible are: "+Tv(Au((this||k).body.eventListeners)));(this||k).temporaryUIFunctions[b]=(this||k).body.eventListeners[b],(this||k).body.eventListeners[b]=w}},{key:"_unbindTemporaryUIs",value:function(){for(var b in(this||k).temporaryUIFunctions)Object.prototype.hasOwnProperty.call((this||k).temporaryUIFunctions,b)&&((this||k).body.eventListeners[b]=(this||k).temporaryUIFunctions[b],delete(this||k).temporaryUIFunctions[b]);(this||k).temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var b=0;b<(this||k).temporaryEventFunctions.length;b++){var w=(this||k).temporaryEventFunctions[b].event,_=(this||k).temporaryEventFunctions[b].boundFunction;(this||k).body.emitter.off(w,_)}(this||k).temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(b,w){var _=new Qm(b,{});iE(_,w),(this||k)._domEventListenerCleanupQueue.push((function(){_.destroy()}));var o=function(b){var k=b.keyCode,_=b.key;"Enter"!==_&&" "!==_&&13!==k&&32!==k||w()};b.addEventListener("keyup",o,!1),(this||k)._domEventListenerCleanupQueue.push((function(){b.removeEventListener("keyup",o,!1)}))}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var b=0;b<(this||k).temporaryIds.edges.length;b++){var w;(this||k).body.edges[(this||k).temporaryIds.edges[b]].disconnect(),delete(this||k).body.edges[(this||k).temporaryIds.edges[b]];var _,x=Jp(w=(this||k).body.edgeIndices).call(w,(this||k).temporaryIds.edges[b]);-1!==x&&Bf(_=(this||k).body.edgeIndices).call(_,x,1)}for(var E=0;E<(this||k).temporaryIds.nodes.length;E++){var O;delete(this||k).body.nodes[(this||k).temporaryIds.nodes[E]];var C,S=Jp(O=(this||k).body.nodeIndices).call(O,(this||k).temporaryIds.nodes[E]);-1!==S&&Bf(C=(this||k).body.nodeIndices).call(C,S,1)}(this||k).temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(b){(this||k).selectionHandler.unselectAll(),(this||k).lastTouch=(this||k).body.functions.getPointer(b.center),(this||k).lastTouch.translation=Bo({},(this||k).body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var b=(this||k).lastTouch,w=(this||k).selectionHandler._pointerToPositionObject(b),_=(this||k).body.nodes[(this||k).temporaryIds.nodes[0]],x=(this||k).body.nodes[(this||k).temporaryIds.nodes[1]],E=(this||k).body.edges[(this||k).edgeBeingEditedId];(this||k).selectedControlNode=void 0;var O=_.isOverlappingWith(w),C=x.isOverlappingWith(w);!0===O?((this||k).selectedControlNode=_,E.edgeType.from=_):!0===C&&((this||k).selectedControlNode=x,E.edgeType.to=x),void 0!==(this||k).selectedControlNode&&(this||k).selectionHandler.selectObject((this||k).selectedControlNode),(this||k).body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(b){(this||k).body.emitter.emit("disablePhysics");var w=(this||k).body.functions.getPointer(b.center),_=(this||k).canvas.DOMtoCanvas(w);void 0!==(this||k).selectedControlNode?((this||k).selectedControlNode.x=_.x,(this||k).selectedControlNode.y=_.y):(this||k).interactionHandler.onDrag(b),(this||k).body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(b){var w=(this||k).body.functions.getPointer(b.center),_=(this||k).selectionHandler._pointerToPositionObject(w),x=(this||k).body.edges[(this||k).edgeBeingEditedId];if(void 0!==(this||k).selectedControlNode){(this||k).selectionHandler.unselectAll();for(var E=(this||k).selectionHandler._getAllNodesOverlappingWith(_),O=void 0,C=E.length-1;C>=0;C--)if(E[C]!==(this||k).selectedControlNode.id){O=(this||k).body.nodes[E[C]];break}if(void 0!==O&&void 0!==(this||k).selectedControlNode)if(!0===O.isCluster)alert((this||k).options.locales[(this||k).options.locale].createEdgeError||(this||k).options.locales.en.createEdgeError);else{var S=(this||k).body.nodes[(this||k).temporaryIds.nodes[0]];(this||k).selectedControlNode.id===S.id?this._performEditEdge(O.id,x.to.id):this._performEditEdge(x.from.id,O.id)}else x.updateEdgeType(),(this||k).body.emitter.emit("restorePhysics");(this||k).body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(b){if((new Date).valueOf()-(this||k).touchTime>100){(this||k).lastTouch=(this||k).body.functions.getPointer(b.center),(this||k).lastTouch.translation=Bo({},(this||k).body.view.translation),(this||k).interactionHandler.drag.pointer=(this||k).lastTouch,(this||k).interactionHandler.drag.translation=(this||k).lastTouch.translation;var w=(this||k).lastTouch,_=(this||k).selectionHandler.getNodeAt(w);if(void 0!==_)if(!0===_.isCluster)alert((this||k).options.locales[(this||k).options.locale].createEdgeError||(this||k).options.locales.en.createEdgeError);else{var x=this._getNewTargetNode(_.x,_.y);(this||k).body.nodes[x.id]=x,(this||k).body.nodeIndices.push(x.id);var E=(this||k).body.functions.createEdge({id:"connectionEdge"+Xx(),from:_.id,to:x.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});(this||k).body.edges[E.id]=E,(this||k).body.edgeIndices.push(E.id),(this||k).temporaryIds.nodes.push(x.id),(this||k).temporaryIds.edges.push(E.id)}(this||k).touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(b){var w=(this||k).body.functions.getPointer(b.center),_=(this||k).selectionHandler._pointerToPositionObject(w),x=void 0;void 0!==(this||k).temporaryIds.edges[0]&&(x=(this||k).body.edges[(this||k).temporaryIds.edges[0]].fromId);for(var E=(this||k).selectionHandler._getAllNodesOverlappingWith(_),O=void 0,C=E.length-1;C>=0;C--){var S;if(-1===Jp(S=(this||k).temporaryIds.nodes).call(S,E[C])){O=(this||k).body.nodes[E[C]];break}}if(b.controlEdge={from:x,to:O?O.id:void 0},(this||k).selectionHandler.generateClickEvent("controlNodeDragging",b,w),void 0!==(this||k).temporaryIds.nodes[0]){var T=(this||k).body.nodes[(this||k).temporaryIds.nodes[0]];T.x=(this||k).canvas._XconvertDOMtoCanvas(w.x),T.y=(this||k).canvas._YconvertDOMtoCanvas(w.y),(this||k).body.emitter.emit("_redraw")}else(this||k).interactionHandler.onDrag(b)}},{key:"_finishConnect",value:function(b){var w=(this||k).body.functions.getPointer(b.center),_=(this||k).selectionHandler._pointerToPositionObject(w),x=void 0;void 0!==(this||k).temporaryIds.edges[0]&&(x=(this||k).body.edges[(this||k).temporaryIds.edges[0]].fromId);for(var E=(this||k).selectionHandler._getAllNodesOverlappingWith(_),O=void 0,C=E.length-1;C>=0;C--){var S;if(-1===Jp(S=(this||k).temporaryIds.nodes).call(S,E[C])){O=(this||k).body.nodes[E[C]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==O&&(!0===O.isCluster?alert((this||k).options.locales[(this||k).options.locale].createEdgeError||(this||k).options.locales.en.createEdgeError):void 0!==(this||k).body.nodes[x]&&void 0!==(this||k).body.nodes[O.id]&&this._performAddEdge(x,O.id)),b.controlEdge={from:x,to:O?O.id:void 0},(this||k).selectionHandler.generateClickEvent("controlNodeDragEnd",b,w),(this||k).body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(b){var w=(this||k).lastTouch;(this||k).selectionHandler.generateClickEvent("dragStart",b,w,void 0,!0)}},{key:"_performAddNode",value:function(b){var w=this||k,_={id:Xx(),x:b.pointer.canvas.x,y:b.pointer.canvas.y,label:"new"};if("function"==typeof(this||k).options.addNode){if(2!==(this||k).options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");(this||k).options.addNode(_,(function(b){null!=b&&"addNode"===w.inMode&&w.body.data.nodes.getDataSet().add(b),w.showManipulatorToolbar()}))}else(this||k).body.data.nodes.getDataSet().add(_),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(b,w){var _=this||k,x={from:b,to:w};if("function"==typeof(this||k).options.addEdge){if(2!==(this||k).options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");(this||k).options.addEdge(x,(function(b){null!=b&&"addEdge"===_.inMode&&(_.body.data.edges.getDataSet().add(b),_.selectionHandler.unselectAll(),_.showManipulatorToolbar())}))}else(this||k).body.data.edges.getDataSet().add(x),(this||k).selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(b,w){var _=this||k,x={id:(this||k).edgeBeingEditedId,from:b,to:w,label:(this||k).body.data.edges.get((this||k).edgeBeingEditedId).label},E=(this||k).options.editEdge;if("object"===Qc(E)&&(E=E.editWithoutDrag),"function"==typeof E){if(2!==E.length)throw new Error("The function for edit does not support two arguments (data, callback)");E(x,(function(b){null==b||"editEdge"!==_.inMode?(_.body.edges[x.id].updateEdgeType(),_.body.emitter.emit("_redraw"),_.showManipulatorToolbar()):(_.body.data.edges.getDataSet().update(b),_.selectionHandler.unselectAll(),_.showManipulatorToolbar())}))}else(this||k).body.data.edges.getDataSet().update(x),(this||k).selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}(),ZC="string",tS="boolean",eS="number",iS="array",oS="object",nS=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],rS={borderWidth:{number:eS},borderWidthSelected:{number:eS,undefined:"undefined"},brokenImage:{string:ZC,undefined:"undefined"},chosen:{label:{boolean:tS,function:"function"},node:{boolean:tS,function:"function"},__type__:{object:oS,boolean:tS}},color:{border:{string:ZC},background:{string:ZC},highlight:{border:{string:ZC},background:{string:ZC},__type__:{object:oS,string:ZC}},hover:{border:{string:ZC},background:{string:ZC},__type__:{object:oS,string:ZC}},__type__:{object:oS,string:ZC}},opacity:{number:eS,undefined:"undefined"},fixed:{x:{boolean:tS},y:{boolean:tS},__type__:{object:oS,boolean:tS}},font:{align:{string:ZC},color:{string:ZC},size:{number:eS},face:{string:ZC},background:{string:ZC},strokeWidth:{number:eS},strokeColor:{string:ZC},vadjust:{number:eS},multi:{boolean:tS,string:ZC},bold:{color:{string:ZC},size:{number:eS},face:{string:ZC},mod:{string:ZC},vadjust:{number:eS},__type__:{object:oS,string:ZC}},boldital:{color:{string:ZC},size:{number:eS},face:{string:ZC},mod:{string:ZC},vadjust:{number:eS},__type__:{object:oS,string:ZC}},ital:{color:{string:ZC},size:{number:eS},face:{string:ZC},mod:{string:ZC},vadjust:{number:eS},__type__:{object:oS,string:ZC}},mono:{color:{string:ZC},size:{number:eS},face:{string:ZC},mod:{string:ZC},vadjust:{number:eS},__type__:{object:oS,string:ZC}},__type__:{object:oS,string:ZC}},group:{string:ZC,number:eS,undefined:"undefined"},heightConstraint:{minimum:{number:eS},valign:{string:ZC},__type__:{object:oS,boolean:tS,number:eS}},hidden:{boolean:tS},icon:{face:{string:ZC},code:{string:ZC},size:{number:eS},color:{string:ZC},weight:{string:ZC,number:eS},__type__:{object:oS}},id:{string:ZC,number:eS},image:{selected:{string:ZC,undefined:"undefined"},unselected:{string:ZC,undefined:"undefined"},__type__:{object:oS,string:ZC}},imagePadding:{top:{number:eS},right:{number:eS},bottom:{number:eS},left:{number:eS},__type__:{object:oS,number:eS}},label:{string:ZC,undefined:"undefined"},labelHighlightBold:{boolean:tS},level:{number:eS,undefined:"undefined"},margin:{top:{number:eS},right:{number:eS},bottom:{number:eS},left:{number:eS},__type__:{object:oS,number:eS}},mass:{number:eS},physics:{boolean:tS},scaling:{min:{number:eS},max:{number:eS},label:{enabled:{boolean:tS},min:{number:eS},max:{number:eS},maxVisible:{number:eS},drawThreshold:{number:eS},__type__:{object:oS,boolean:tS}},customScalingFunction:{function:"function"},__type__:{object:oS}},shadow:{enabled:{boolean:tS},color:{string:ZC},size:{number:eS},x:{number:eS},y:{number:eS},__type__:{object:oS,boolean:tS}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:tS,array:iS},borderRadius:{number:eS},interpolation:{boolean:tS},useImageSize:{boolean:tS},useBorderWithImage:{boolean:tS},coordinateOrigin:{string:["center","top-left"]},__type__:{object:oS}},size:{number:eS},title:{string:ZC,dom:"dom",undefined:"undefined"},value:{number:eS,undefined:"undefined"},widthConstraint:{minimum:{number:eS},maximum:{number:eS},__type__:{object:oS,boolean:tS,number:eS}},x:{number:eS},y:{number:eS},__type__:{object:oS}},sS={configure:{enabled:{boolean:tS},filter:{boolean:tS,string:ZC,array:iS,function:"function"},container:{dom:"dom"},showButton:{boolean:tS},__type__:{object:oS,boolean:tS,string:ZC,array:iS,function:"function"}},edges:{arrows:{to:{enabled:{boolean:tS},scaleFactor:{number:eS},type:{string:nS},imageHeight:{number:eS},imageWidth:{number:eS},src:{string:ZC},__type__:{object:oS,boolean:tS}},middle:{enabled:{boolean:tS},scaleFactor:{number:eS},type:{string:nS},imageWidth:{number:eS},imageHeight:{number:eS},src:{string:ZC},__type__:{object:oS,boolean:tS}},from:{enabled:{boolean:tS},scaleFactor:{number:eS},type:{string:nS},imageWidth:{number:eS},imageHeight:{number:eS},src:{string:ZC},__type__:{object:oS,boolean:tS}},__type__:{string:["from","to","middle"],object:oS}},endPointOffset:{from:{number:eS},to:{number:eS},__type__:{object:oS,number:eS}},arrowStrikethrough:{boolean:tS},background:{enabled:{boolean:tS},color:{string:ZC},size:{number:eS},dashes:{boolean:tS,array:iS},__type__:{object:oS,boolean:tS}},chosen:{label:{boolean:tS,function:"function"},edge:{boolean:tS,function:"function"},__type__:{object:oS,boolean:tS}},color:{color:{string:ZC},highlight:{string:ZC},hover:{string:ZC},inherit:{string:["from","to","both"],boolean:tS},opacity:{number:eS},__type__:{object:oS,string:ZC}},dashes:{boolean:tS,array:iS},font:{color:{string:ZC},size:{number:eS},face:{string:ZC},background:{string:ZC},strokeWidth:{number:eS},strokeColor:{string:ZC},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:eS},multi:{boolean:tS,string:ZC},bold:{color:{string:ZC},size:{number:eS},face:{string:ZC},mod:{string:ZC},vadjust:{number:eS},__type__:{object:oS,string:ZC}},boldital:{color:{string:ZC},size:{number:eS},face:{string:ZC},mod:{string:ZC},vadjust:{number:eS},__type__:{object:oS,string:ZC}},ital:{color:{string:ZC},size:{number:eS},face:{string:ZC},mod:{string:ZC},vadjust:{number:eS},__type__:{object:oS,string:ZC}},mono:{color:{string:ZC},size:{number:eS},face:{string:ZC},mod:{string:ZC},vadjust:{number:eS},__type__:{object:oS,string:ZC}},__type__:{object:oS,string:ZC}},hidden:{boolean:tS},hoverWidth:{function:"function",number:eS},label:{string:ZC,undefined:"undefined"},labelHighlightBold:{boolean:tS},length:{number:eS,undefined:"undefined"},physics:{boolean:tS},scaling:{min:{number:eS},max:{number:eS},label:{enabled:{boolean:tS},min:{number:eS},max:{number:eS},maxVisible:{number:eS},drawThreshold:{number:eS},__type__:{object:oS,boolean:tS}},customScalingFunction:{function:"function"},__type__:{object:oS}},selectionWidth:{function:"function",number:eS},selfReferenceSize:{number:eS},selfReference:{size:{number:eS},angle:{number:eS},renderBehindTheNode:{boolean:tS},__type__:{object:oS}},shadow:{enabled:{boolean:tS},color:{string:ZC},size:{number:eS},x:{number:eS},y:{number:eS},__type__:{object:oS,boolean:tS}},smooth:{enabled:{boolean:tS},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:eS},forceDirection:{string:["horizontal","vertical","none"],boolean:tS},__type__:{object:oS,boolean:tS}},title:{string:ZC,undefined:"undefined"},width:{number:eS},widthConstraint:{maximum:{number:eS},__type__:{object:oS,boolean:tS,number:eS}},value:{number:eS,undefined:"undefined"},__type__:{object:oS}},groups:{useDefaultGroups:{boolean:tS},__any__:rS,__type__:{object:oS}},interaction:{dragNodes:{boolean:tS},dragView:{boolean:tS},hideEdgesOnDrag:{boolean:tS},hideEdgesOnZoom:{boolean:tS},hideNodesOnDrag:{boolean:tS},hover:{boolean:tS},keyboard:{enabled:{boolean:tS},speed:{x:{number:eS},y:{number:eS},zoom:{number:eS},__type__:{object:oS}},bindToWindow:{boolean:tS},autoFocus:{boolean:tS},__type__:{object:oS,boolean:tS}},multiselect:{boolean:tS},navigationButtons:{boolean:tS},selectable:{boolean:tS},selectConnectedEdges:{boolean:tS},hoverConnectedEdges:{boolean:tS},tooltipDelay:{number:eS},zoomView:{boolean:tS},zoomSpeed:{number:eS},__type__:{object:oS}},layout:{randomSeed:{undefined:"undefined",number:eS,string:ZC},improvedLayout:{boolean:tS},clusterThreshold:{number:eS},hierarchical:{enabled:{boolean:tS},levelSeparation:{number:eS},nodeSpacing:{number:eS},treeSpacing:{number:eS},blockShifting:{boolean:tS},edgeMinimization:{boolean:tS},parentCentralization:{boolean:tS},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:oS,boolean:tS}},__type__:{object:oS}},manipulation:{enabled:{boolean:tS},initiallyActive:{boolean:tS},addNode:{boolean:tS,function:"function"},addEdge:{boolean:tS,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:oS,boolean:tS,function:"function"}},deleteNode:{boolean:tS,function:"function"},deleteEdge:{boolean:tS,function:"function"},controlNodeStyle:rS,__type__:{object:oS,boolean:tS}},nodes:rS,physics:{enabled:{boolean:tS},barnesHut:{theta:{number:eS},gravitationalConstant:{number:eS},centralGravity:{number:eS},springLength:{number:eS},springConstant:{number:eS},damping:{number:eS},avoidOverlap:{number:eS},__type__:{object:oS}},forceAtlas2Based:{theta:{number:eS},gravitationalConstant:{number:eS},centralGravity:{number:eS},springLength:{number:eS},springConstant:{number:eS},damping:{number:eS},avoidOverlap:{number:eS},__type__:{object:oS}},repulsion:{centralGravity:{number:eS},springLength:{number:eS},springConstant:{number:eS},nodeDistance:{number:eS},damping:{number:eS},__type__:{object:oS}},hierarchicalRepulsion:{centralGravity:{number:eS},springLength:{number:eS},springConstant:{number:eS},nodeDistance:{number:eS},damping:{number:eS},avoidOverlap:{number:eS},__type__:{object:oS}},maxVelocity:{number:eS},minVelocity:{number:eS},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:tS},iterations:{number:eS},updateInterval:{number:eS},onlyDynamicEdges:{boolean:tS},fit:{boolean:tS},__type__:{object:oS,boolean:tS}},timestep:{number:eS},adaptiveTimestep:{boolean:tS},wind:{x:{number:eS},y:{number:eS},__type__:{object:oS}},__type__:{object:oS,boolean:tS}},autoResize:{boolean:tS},clickToUse:{boolean:tS},locale:{string:ZC},locales:{__any__:{any:"any"},__type__:{object:oS}},height:{string:ZC},width:{string:ZC},__type__:{object:oS}},aS={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},VC=function(b,w,k){var _;return!(!Zf(b).call(b,"physics")||!Zf(_=aS.physics.solver).call(_,w)||k.physics.solver===w||"wind"===w)},hS=Object.freeze({__proto__:null,configuratorHideOption:VC,allOptions:sS,configureOptions:aS}),dS=function(){function t(){Xl(this||k,t)}return $l(t,[{key:"getDistances",value:function(b,w,k){for(var _={},x=b.edges,E=0;E<w.length;E++){var O={};_[w[E]]=O;for(var C=0;C<w.length;C++)O[w[C]]=E==C?0:1e9}for(var S=0;S<k.length;S++){var T=x[k[S]];!0===T.connected&&void 0!==_[T.fromId]&&void 0!==_[T.toId]&&(_[T.fromId][T.toId]=1,_[T.toId][T.fromId]=1)}for(var M=w.length,D=0;D<M;D++)for(var B=w[D],I=_[B],F=0;F<M-1;F++)for(var N=w[F],A=_[N],R=F+1;R<M;R++){var j=w[R],L=_[j],H=Math.min(A[j],A[B]+I[j]);A[j]=H,L[N]=H}return _}}]),t}(),lS=function(){function t(b,w,_){Xl(this||k,t),(this||k).body=b,(this||k).springLength=w,(this||k).springConstant=_,(this||k).distanceSolver=new dS}return $l(t,[{key:"setOptions",value:function(b){b&&(b.springLength&&((this||k).springLength=b.springLength),b.springConstant&&((this||k).springConstant=b.springConstant))}},{key:"solve",value:function(b,w){var _=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=(this||k).distanceSolver.getDistances((this||k).body,b,w);this._createL_matrix(x),this._createK_matrix(x),this._createE_matrix();for(var E=.01,O=1,C=0,S=Math.max(1e3,Math.min(10*(this||k).body.nodeIndices.length,6e3)),T=5,M=1e9,D=0,B=0,I=0,F=0,N=0;M>E&&C<S;){C+=1;var A=this._getHighestEnergyNode(_),R=$c(A,4);for(D=R[0],M=R[1],B=R[2],I=R[3],F=M,N=0;F>O&&N<T;){N+=1,this._moveNode(D,B,I);var j=this._getEnergy(D),L=$c(j,3);F=L[0],B=L[1],I=L[2]}}}},{key:"_getHighestEnergyNode",value:function(b){for(var w=(this||k).body.nodeIndices,_=(this||k).body.nodes,x=0,E=w[0],O=0,C=0,S=0;S<w.length;S++){var T=w[S];if(!0!==_[T].predefinedPosition||!0===_[T].isCluster&&!0===b||!0!==_[T].options.fixed.x||!0!==_[T].options.fixed.y){var M=$c(this._getEnergy(T),3),D=M[0],B=M[1],I=M[2];x<D&&(x=D,E=T,O=B,C=I)}}return[E,x,O,C]}},{key:"_getEnergy",value:function(b){var w=$c((this||k).E_sums[b],2),_=w[0],x=w[1];return[Math.sqrt(Math.pow(_,2)+Math.pow(x,2)),_,x]}},{key:"_moveNode",value:function(b,w,_){for(var x=(this||k).body.nodeIndices,E=(this||k).body.nodes,O=0,C=0,S=0,T=E[b].x,M=E[b].y,D=(this||k).K_matrix[b],B=(this||k).L_matrix[b],I=0;I<x.length;I++){var F=x[I];if(F!==b){var N=E[F].x,A=E[F].y,R=D[F],j=B[F],L=1/Math.pow(Math.pow(T-N,2)+Math.pow(M-A,2),1.5);O+=R*(1-j*Math.pow(M-A,2)*L),C+=R*(j*(T-N)*(M-A)*L),S+=R*(1-j*Math.pow(T-N,2)*L)}}var H=(w/O+_/C)/(C/O-S/C),q=-(C*H+w)/O;E[b].x+=q,E[b].y+=H,this._updateE_matrix(b)}},{key:"_createL_matrix",value:function(b){var w=(this||k).body.nodeIndices,_=(this||k).springLength;(this||k).L_matrix=[];for(var x=0;x<w.length;x++){(this||k).L_matrix[w[x]]={};for(var E=0;E<w.length;E++)(this||k).L_matrix[w[x]][w[E]]=_*b[w[x]][w[E]]}}},{key:"_createK_matrix",value:function(b){var w=(this||k).body.nodeIndices,_=(this||k).springConstant;(this||k).K_matrix=[];for(var x=0;x<w.length;x++){(this||k).K_matrix[w[x]]={};for(var E=0;E<w.length;E++)(this||k).K_matrix[w[x]][w[E]]=_*Math.pow(b[w[x]][w[E]],-2)}}},{key:"_createE_matrix",value:function(){var b=(this||k).body.nodeIndices,w=(this||k).body.nodes;(this||k).E_matrix={},(this||k).E_sums={};for(var _=0;_<b.length;_++)(this||k).E_matrix[b[_]]=[];for(var x=0;x<b.length;x++){for(var E=b[x],O=w[E].x,C=w[E].y,S=0,T=0,M=x;M<b.length;M++){var D=b[M];if(D!==E){var B=w[D].x,I=w[D].y,F=1/Math.sqrt(Math.pow(O-B,2)+Math.pow(C-I,2));(this||k).E_matrix[E][M]=[(this||k).K_matrix[E][D]*(O-B-(this||k).L_matrix[E][D]*(O-B)*F),(this||k).K_matrix[E][D]*(C-I-(this||k).L_matrix[E][D]*(C-I)*F)],(this||k).E_matrix[D][x]=(this||k).E_matrix[E][M],S+=(this||k).E_matrix[E][M][0],T+=(this||k).E_matrix[E][M][1]}}(this||k).E_sums[E]=[S,T]}}},{key:"_updateE_matrix",value:function(b){for(var w=(this||k).body.nodeIndices,_=(this||k).body.nodes,x=(this||k).E_matrix[b],E=(this||k).K_matrix[b],O=(this||k).L_matrix[b],C=_[b].x,S=_[b].y,T=0,M=0,D=0;D<w.length;D++){var B=w[D];if(B!==b){var I=x[D],F=I[0],N=I[1],A=_[B].x,R=_[B].y,j=1/Math.sqrt(Math.pow(C-A,2)+Math.pow(S-R,2)),L=E[B]*(C-A-O[B]*(C-A)*j),H=E[B]*(S-R-O[B]*(S-R)*j);x[D]=[L,H],T+=L,M+=H;var q=(this||k).E_sums[B];q[0]+=L-F,q[1]+=H-N}}(this||k).E_sums[b]=[T,M]}}]),t}();function XC(b,w,_){var x,E,O,C,S=this||k;if(!((this||k)instanceof XC))throw new SyntaxError("Constructor must be called with the new operator");(this||k).options={},(this||k).defaultOptions={locale:"en",locales:gb,clickToUse:!1},Bo((this||k).options,(this||k).defaultOptions),(this||k).body={container:b,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:rn(x=(this||k).on).call(x,this||k),off:rn(E=(this||k).off).call(E,this||k),emit:rn(O=(this||k).emit).call(O,this||k),once:rn(C=(this||k).once).call(C,this||k)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),(this||k).images=new mb((function(){return S.body.emitter.emit("_requestRedraw")})),(this||k).groups=new Xw,(this||k).canvas=new OE((this||k).body),(this||k).selectionHandler=new PO((this||k).body,(this||k).canvas),(this||k).interactionHandler=new PE((this||k).body,(this||k).canvas,(this||k).selectionHandler),(this||k).view=new CE((this||k).body,(this||k).canvas),(this||k).renderer=new xE((this||k).body,(this||k).canvas),(this||k).physics=new vE((this||k).body),(this||k).layoutEngine=new QC((this||k).body),(this||k).clustering=new _E((this||k).body),(this||k).manipulation=new JC((this||k).body,(this||k).canvas,(this||k).selectionHandler,(this||k).interactionHandler),(this||k).nodesHandler=new Z_((this||k).body,(this||k).images,(this||k).groups,(this||k).layoutEngine),(this||k).edgesHandler=new Zx((this||k).body,(this||k).images,(this||k).groups),(this||k).body.modules.kamadaKawai=new lS((this||k).body,150,.05),(this||k).body.modules.clustering=(this||k).clustering,(this||k).canvas._create(),this.setOptions(_),this.setData(w)}hn(XC.prototype),XC.prototype.setOptions=function(b){var w=this||k;if(null===b&&(b=void 0),void 0!==b){!0===eb.validate(b,sS)&&console.error("%cErrors have been found in the supplied options object.",tb);if(Ny(["locale","locales","clickToUse"],(this||k).options,b),void 0!==b.locale&&(b.locale=function(b,w){try{var k=$c(w.split(/[-_ /]/,2),2),_=k[0],x=k[1],E=null!=_?_.toLowerCase():null,O=null!=x?x.toUpperCase():null;if(E&&O){var C,S=E+"-"+O;if(Object.prototype.hasOwnProperty.call(b,S))return S;console.warn(Eu(C="Unknown variant ".concat(O," of language ")).call(C,E,"."))}if(E){var T=E;if(Object.prototype.hasOwnProperty.call(b,T))return T;console.warn("Unknown language ".concat(E))}return console.warn("Unknown locale ".concat(w,", falling back to English.")),"en"}catch(b){return console.error(b),console.warn("Unexpected error while normalizing locale ".concat(w,", falling back to English.")),"en"}}(b.locales||(this||k).options.locales,b.locale)),b=(this||k).layoutEngine.setOptions(b.layout,b),(this||k).canvas.setOptions(b),(this||k).groups.setOptions(b.groups),(this||k).nodesHandler.setOptions(b.nodes),(this||k).edgesHandler.setOptions(b.edges),(this||k).physics.setOptions(b.physics),(this||k).manipulation.setOptions(b.manipulation,b,(this||k).options),(this||k).interactionHandler.setOptions(b.interaction),(this||k).renderer.setOptions(b.interaction),(this||k).selectionHandler.setOptions(b.interaction),void 0!==b.groups&&(this||k).body.emitter.emit("refreshNodes"),"configure"in b&&((this||k).configurator||((this||k).configurator=new $m(this||k,(this||k).body.container,aS,(this||k).canvas.pixelRatio,VC)),(this||k).configurator.setOptions(b.configure)),(this||k).configurator&&!0===(this||k).configurator.options.enabled){var _={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Ry(_.nodes,(this||k).nodesHandler.options),Ry(_.edges,(this||k).edgesHandler.options),Ry(_.layout,(this||k).layoutEngine.options),Ry(_.interaction,(this||k).selectionHandler.options),Ry(_.interaction,(this||k).renderer.options),Ry(_.interaction,(this||k).interactionHandler.options),Ry(_.manipulation,(this||k).manipulation.options),Ry(_.physics,(this||k).physics.options),Ry(_.global,(this||k).canvas.options),Ry(_.global,(this||k).options),(this||k).configurator.setModuleOptions(_)}void 0!==b.clickToUse?!0===b.clickToUse?void 0===(this||k).activator&&((this||k).activator=new Pm((this||k).canvas.frame),(this||k).activator.on("change",(function(){w.body.emitter.emit("activate")}))):(void 0!==(this||k).activator&&((this||k).activator.destroy(),delete(this||k).activator),(this||k).body.emitter.emit("activate")):(this||k).body.emitter.emit("activate"),(this||k).canvas.setSize(),(this||k).body.emitter.emit("startSimulation")}},XC.prototype._updateVisibleIndices=function(){var b=(this||k).body.nodes,w=(this||k).body.edges;for(var _ in(this||k).body.nodeIndices=[],(this||k).body.edgeIndices=[],b)Object.prototype.hasOwnProperty.call(b,_)&&((this||k).clustering._isClusteredNode(_)||!1!==b[_].options.hidden||(this||k).body.nodeIndices.push(b[_].id));for(var x in w)if(Object.prototype.hasOwnProperty.call(w,x)){var E=w[x],O=b[E.fromId],C=b[E.toId],S=void 0!==O&&void 0!==C;!(this||k).clustering._isClusteredEdge(x)&&!1===E.options.hidden&&S&&!1===O.options.hidden&&!1===C.options.hidden&&(this||k).body.edgeIndices.push(E.id)}},XC.prototype.bindEventListeners=function(){var b=this||k;(this||k).body.emitter.on("_dataChanged",(function(){b.edgesHandler._updateState(),b.body.emitter.emit("_dataUpdated")})),(this||k).body.emitter.on("_dataUpdated",(function(){b.clustering._updateState(),b._updateVisibleIndices(),b._updateValueRange(b.body.nodes),b._updateValueRange(b.body.edges),b.body.emitter.emit("startSimulation"),b.body.emitter.emit("_requestRedraw")}))},XC.prototype.setData=function(b){if((this||k).body.emitter.emit("resetPhysics"),(this||k).body.emitter.emit("_resetData"),(this||k).selectionHandler.unselectAll(),b&&b.dot&&(b.nodes||b.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(b&&b.options),b&&b.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var w=Km(b.dot);this.setData(w)}else if(b&&b.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var _=Zm(b.gephi);this.setData(_)}else(this||k).nodesHandler.setData(b&&b.nodes,!0),(this||k).edgesHandler.setData(b&&b.edges,!0),(this||k).body.emitter.emit("_dataChanged"),(this||k).body.emitter.emit("_dataLoaded"),(this||k).body.emitter.emit("initPhysics")},XC.prototype.destroy=function(){for(var b in(this||k).body.emitter.emit("destroy"),(this||k).body.emitter.off(),this.off(),delete(this||k).groups,delete(this||k).canvas,delete(this||k).selectionHandler,delete(this||k).interactionHandler,delete(this||k).view,delete(this||k).renderer,delete(this||k).physics,delete(this||k).layoutEngine,delete(this||k).clustering,delete(this||k).manipulation,delete(this||k).nodesHandler,delete(this||k).edgesHandler,delete(this||k).configurator,delete(this||k).images,(this||k).body.nodes)Object.prototype.hasOwnProperty.call((this||k).body.nodes,b)&&delete(this||k).body.nodes[b];for(var w in(this||k).body.edges)Object.prototype.hasOwnProperty.call((this||k).body.edges,w)&&delete(this||k).body.edges[w];Dy((this||k).body.container)},XC.prototype._updateValueRange=function(b){var w,k=void 0,_=void 0,x=0;for(w in b)if(Object.prototype.hasOwnProperty.call(b,w)){var E=b[w].getValue();void 0!==E&&(k=void 0===k?E:Math.min(E,k),_=void 0===_?E:Math.max(E,_),x+=E)}if(void 0!==k&&void 0!==_)for(w in b)Object.prototype.hasOwnProperty.call(b,w)&&b[w].setValueRange(k,_,x)},XC.prototype.isActive=function(){return!(this||k).activator||(this||k).activator.active},XC.prototype.setSize=function(){return(this||k).canvas.setSize.apply((this||k).canvas,arguments)},XC.prototype.canvasToDOM=function(){return(this||k).canvas.canvasToDOM.apply((this||k).canvas,arguments)},XC.prototype.DOMtoCanvas=function(){return(this||k).canvas.DOMtoCanvas.apply((this||k).canvas,arguments)},XC.prototype.findNode=function(){return(this||k).clustering.findNode.apply((this||k).clustering,arguments)},XC.prototype.isCluster=function(){return(this||k).clustering.isCluster.apply((this||k).clustering,arguments)},XC.prototype.openCluster=function(){return(this||k).clustering.openCluster.apply((this||k).clustering,arguments)},XC.prototype.cluster=function(){return(this||k).clustering.cluster.apply((this||k).clustering,arguments)},XC.prototype.getNodesInCluster=function(){return(this||k).clustering.getNodesInCluster.apply((this||k).clustering,arguments)},XC.prototype.clusterByConnection=function(){return(this||k).clustering.clusterByConnection.apply((this||k).clustering,arguments)},XC.prototype.clusterByHubsize=function(){return(this||k).clustering.clusterByHubsize.apply((this||k).clustering,arguments)},XC.prototype.updateClusteredNode=function(){return(this||k).clustering.updateClusteredNode.apply((this||k).clustering,arguments)},XC.prototype.getClusteredEdges=function(){return(this||k).clustering.getClusteredEdges.apply((this||k).clustering,arguments)},XC.prototype.getBaseEdge=function(){return(this||k).clustering.getBaseEdge.apply((this||k).clustering,arguments)},XC.prototype.getBaseEdges=function(){return(this||k).clustering.getBaseEdges.apply((this||k).clustering,arguments)},XC.prototype.updateEdge=function(){return(this||k).clustering.updateEdge.apply((this||k).clustering,arguments)},XC.prototype.clusterOutliers=function(){return(this||k).clustering.clusterOutliers.apply((this||k).clustering,arguments)},XC.prototype.getSeed=function(){return(this||k).layoutEngine.getSeed.apply((this||k).layoutEngine,arguments)},XC.prototype.enableEditMode=function(){return(this||k).manipulation.enableEditMode.apply((this||k).manipulation,arguments)},XC.prototype.disableEditMode=function(){return(this||k).manipulation.disableEditMode.apply((this||k).manipulation,arguments)},XC.prototype.addNodeMode=function(){return(this||k).manipulation.addNodeMode.apply((this||k).manipulation,arguments)},XC.prototype.editNode=function(){return(this||k).manipulation.editNode.apply((this||k).manipulation,arguments)},XC.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),(this||k).manipulation.editNode.apply((this||k).manipulation,arguments)},XC.prototype.addEdgeMode=function(){return(this||k).manipulation.addEdgeMode.apply((this||k).manipulation,arguments)},XC.prototype.editEdgeMode=function(){return(this||k).manipulation.editEdgeMode.apply((this||k).manipulation,arguments)},XC.prototype.deleteSelected=function(){return(this||k).manipulation.deleteSelected.apply((this||k).manipulation,arguments)},XC.prototype.getPositions=function(){return(this||k).nodesHandler.getPositions.apply((this||k).nodesHandler,arguments)},XC.prototype.getPosition=function(){return(this||k).nodesHandler.getPosition.apply((this||k).nodesHandler,arguments)},XC.prototype.storePositions=function(){return(this||k).nodesHandler.storePositions.apply((this||k).nodesHandler,arguments)},XC.prototype.moveNode=function(){return(this||k).nodesHandler.moveNode.apply((this||k).nodesHandler,arguments)},XC.prototype.getBoundingBox=function(){return(this||k).nodesHandler.getBoundingBox.apply((this||k).nodesHandler,arguments)},XC.prototype.getConnectedNodes=function(b){return void 0!==(this||k).body.nodes[b]?(this||k).nodesHandler.getConnectedNodes.apply((this||k).nodesHandler,arguments):(this||k).edgesHandler.getConnectedNodes.apply((this||k).edgesHandler,arguments)},XC.prototype.getConnectedEdges=function(){return(this||k).nodesHandler.getConnectedEdges.apply((this||k).nodesHandler,arguments)},XC.prototype.startSimulation=function(){return(this||k).physics.startSimulation.apply((this||k).physics,arguments)},XC.prototype.stopSimulation=function(){return(this||k).physics.stopSimulation.apply((this||k).physics,arguments)},XC.prototype.stabilize=function(){return(this||k).physics.stabilize.apply((this||k).physics,arguments)},XC.prototype.getSelection=function(){return(this||k).selectionHandler.getSelection.apply((this||k).selectionHandler,arguments)},XC.prototype.setSelection=function(){return(this||k).selectionHandler.setSelection.apply((this||k).selectionHandler,arguments)},XC.prototype.getSelectedNodes=function(){return(this||k).selectionHandler.getSelectedNodeIds.apply((this||k).selectionHandler,arguments)},XC.prototype.getSelectedEdges=function(){return(this||k).selectionHandler.getSelectedEdgeIds.apply((this||k).selectionHandler,arguments)},XC.prototype.getNodeAt=function(){var b=(this||k).selectionHandler.getNodeAt.apply((this||k).selectionHandler,arguments);return void 0!==b&&void 0!==b.id?b.id:b},XC.prototype.getEdgeAt=function(){var b=(this||k).selectionHandler.getEdgeAt.apply((this||k).selectionHandler,arguments);return void 0!==b&&void 0!==b.id?b.id:b},XC.prototype.selectNodes=function(){return(this||k).selectionHandler.selectNodes.apply((this||k).selectionHandler,arguments)},XC.prototype.selectEdges=function(){return(this||k).selectionHandler.selectEdges.apply((this||k).selectionHandler,arguments)},XC.prototype.unselectAll=function(){(this||k).selectionHandler.unselectAll.apply((this||k).selectionHandler,arguments),(this||k).selectionHandler.commitWithoutEmitting.apply((this||k).selectionHandler),this.redraw()},XC.prototype.redraw=function(){return(this||k).renderer.redraw.apply((this||k).renderer,arguments)},XC.prototype.getScale=function(){return(this||k).view.getScale.apply((this||k).view,arguments)},XC.prototype.getViewPosition=function(){return(this||k).view.getViewPosition.apply((this||k).view,arguments)},XC.prototype.fit=function(){return(this||k).view.fit.apply((this||k).view,arguments)},XC.prototype.moveTo=function(){return(this||k).view.moveTo.apply((this||k).view,arguments)},XC.prototype.focus=function(){return(this||k).view.focus.apply((this||k).view,arguments)},XC.prototype.releaseNode=function(){return(this||k).view.releaseNode.apply((this||k).view,arguments)},XC.prototype.getOptionsFromConfigurator=function(){var b={};return(this||k).configurator&&(b=(this||k).configurator.getOptions.apply((this||k).configurator)),b};var cS=Km;b.Network=XC,b.NetworkImages=mb,b.networkDOTParser=pb,b.networkGephiParser=vb,b.networkOptions=hS,b.parseDOTNetwork=cS,b.parseGephiNetwork=Zm,Object.defineProperty(b,"__esModule",{value:!0})}));export{_ as default};

