import*as c from"moment";import*as g from"vis-data/peer/umd/vis-data.js";var w="default"in c?c.default:c;var x="default"in g?g.default:g;var C="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var S={};
/**
 * vis-timeline and vis-graph2d
 * https://visjs.github.io/vis-timeline/
 *
 * Create a fully customizable, interactive timeline with items and ranges.
 *
 * @version 7.5.1
 * @date    2022-03-01T18:26:09.239Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */!function(c,g){g(S,w,x)}(0,(function(c,g,w){function o(c){return c&&"object"==typeof c&&"default"in c?c:{default:c}}var x=o(g),S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof C?C:"undefined"!=typeof self?self:{},a=function(c){return c&&c.Math==Math&&c},D=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof S&&S)||function(){return this||C}()||Function("return this")(),T=Function.prototype,E=T.apply,O=T.bind,A=T.call,P="object"==typeof Reflect&&Reflect.apply||(O?A.bind(E):function(){return A.apply(E,arguments)}),M=Function.prototype,N=M.bind,R=M.call,L=N&&N.bind(R),j=N?function(c){return c&&L(R,c)}:function(c){return c&&function(){return R.apply(c,arguments)}},b=function(c){return"function"==typeof c},B={},k=function(c){try{return!!c()}catch(c){return!0}},z=!k((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),H=Function.prototype.call,G=H.bind?H.bind(H):function(){return H.apply(H,arguments)},V={},Y={}.propertyIsEnumerable,X=Object.getOwnPropertyDescriptor,K=X&&!Y.call({1:2},1);V.f=K?function(c){var g=X(this||C,c);return!!g&&g.enumerable}:Y;var $,Z,I=function(c,g){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:g}},Q=j,et=Q({}.toString),it=Q("".slice),F=function(c){return it(et(c),8,-1)},nt=j,ot=k,rt=F,st=D.Object,at=nt("".split),lt=ot((function(){return!st("z").propertyIsEnumerable(0)}))?function(c){return"String"==rt(c)?at(c,""):st(c)}:st,ht=D.TypeError,W=function(c){if(null==c)throw ht("Can't call method on "+c);return c},ut=lt,ct=W,U=function(c){return ut(ct(c))},dt=b,q=function(c){return"object"==typeof c?null!==c:dt(c)},pt={},mt=pt,ft=D,vt=b,J=function(c){return vt(c)?c:void 0},tt=function(c,g){return arguments.length<2?J(mt[c])||J(ft[c]):mt[c]&&mt[c][g]||ft[c]&&ft[c][g]},gt=j({}.isPrototypeOf),yt=tt("navigator","userAgent")||"",bt=D,wt=yt,_t=bt.process,xt=bt.Deno,Ct=_t&&_t.versions||xt&&xt.version,St=Ct&&Ct.v8;St&&(Z=($=St.split("."))[0]>0&&$[0]<4?1:+($[0]+$[1])),!Z&&wt&&(!($=wt.match(/Edge\/(\d+)/))||$[1]>=74)&&($=wt.match(/Chrome\/(\d+)/))&&(Z=+$[1]);var Et=Z,Ot=Et,At=k,It=!!Object.getOwnPropertySymbols&&!At((function(){var c=Symbol();return!String(c)||!(Object(c)instanceof Symbol)||!Symbol.sham&&Ot&&Ot<41})),Pt=It&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Mt=tt,Nt=b,Rt=gt,Lt=Pt,jt=D.Object,Bt=Lt?function(c){return"symbol"==typeof c}:function(c){var g=Mt("Symbol");return Nt(g)&&Rt(g.prototype,jt(c))},zt=D.String,kt=function(c){try{return zt(c)}catch(c){return"Object"}},Gt=b,Wt=kt,Vt=D.TypeError,Dt=function(c){if(Gt(c))return c;throw Vt(Wt(c)+" is not a function")},Yt=Dt,Tt=function(c,g){var w=c[g];return null==w?void 0:Yt(w)},Xt=G,Ut=b,qt=q,$t=D.TypeError,Jt={exports:{}},Zt=D,Qt=Object.defineProperty,Ft=function(c,g){try{Qt(Zt,c,{value:g,configurable:!0,writable:!0})}catch(w){Zt[c]=g}return g},te="__core-js_shared__",ee=D[te]||Ft(te,{}),ie=ee;(Jt.exports=function(c,g){return ie[c]||(ie[c]=void 0!==g?g:{})})("versions",[]).push({version:"3.19.1",mode:"pure",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"});var ne=W,oe=D.Object,Ht=function(c){return oe(ne(c))},re=Ht,ae=j({}.hasOwnProperty),le=Object.hasOwn||function(c,g){return ae(re(c),g)},he=j,ue=0,de=Math.random(),pe=he(1..toString),Kt=function(c){return"Symbol("+(void 0===c?"":c)+")_"+pe(++ue+de,36)},me=D,ve=Jt.exports,ye=le,be=Kt,we=It,_e=Pt,xe=ve("wks"),Ce=me.Symbol,Se=Ce&&Ce.for,De=_e?Ce:Ce&&Ce.withoutSetter||be,se=function(c){if(!ye(xe,c)||!we&&"string"!=typeof xe[c]){var g="Symbol."+c;we&&ye(Ce,c)?xe[c]=Ce[c]:xe[c]=_e&&Se?Se(g):De(g)}return xe[c]},Te=G,Ee=q,Oe=Bt,Ae=Tt,ce=function(c,g){var w,x;if("string"===g&&Ut(w=c.toString)&&!qt(x=Xt(w,c)))return x;if(Ut(w=c.valueOf)&&!qt(x=Xt(w,c)))return x;if("string"!==g&&Ut(w=c.toString)&&!qt(x=Xt(w,c)))return x;throw $t("Can't convert object to primitive value")},Ie=se,Pe=D.TypeError,Me=Ie("toPrimitive"),fe=function(c,g){if(!Ee(c)||Oe(c))return c;var w,x=Ae(c,Me);if(x){if(void 0===g&&(g="default"),w=Te(x,c,g),!Ee(w)||Oe(w))return w;throw Pe("Can't convert object to primitive value")}return void 0===g&&(g="number"),ce(c,g)},Ne=Bt,ge=function(c){var g=fe(c,"string");return Ne(g)?g:g+""},Fe=q,Le=D.document,je=Fe(Le)&&Fe(Le.createElement),ke=function(c){return je?Le.createElement(c):{}},Be=ke,ze=!z&&!k((function(){return 7!=Object.defineProperty(Be("div"),"a",{get:function(){return 7}}).a})),He=z,Ge=G,We=V,Ve=I,Xe=U,Ue=ge,qe=le,Ke=ze,Je=Object.getOwnPropertyDescriptor;B.f=He?Je:function(c,g){if(c=Xe(c),g=Ue(g),Ke)try{return Je(c,g)}catch(c){}if(qe(c,g))return Ve(!Ge(We.f,c,g),c[g])};var Ze=k,Qe=b,ti=/#|\.prototype\./,Re=function(c,g){var w=ii[ei(c)];return w==oi||w!=ni&&(Qe(g)?Ze(g):!!g)},ei=Re.normalize=function(c){return String(c).replace(ti,".").toLowerCase()},ii=Re.data={},ni=Re.NATIVE="N",oi=Re.POLYFILL="P",ri=Re,si=Dt,ai=j(j.bind),Ye=function(c,g){return si(c),void 0===g?c:ai?ai(c,g):function(){return c.apply(g,arguments)}},li={},hi=D,ui=q,ci=hi.String,di=hi.TypeError,$e=function(c){if(ui(c))return c;throw di(ci(c)+" is not an object")},pi=z,mi=ze,fi=$e,yi=ge,bi=D.TypeError,wi=Object.defineProperty;li.f=pi?wi:function(c,g,w){if(fi(c),g=yi(g),fi(w),mi)try{return wi(c,g,w)}catch(c){}if("get"in w||"set"in w)throw bi("Accessors not supported");return"value"in w&&(c[g]=w.value),c};var ki=li,_i=I,xi=z?function(c,g,w){return ki.f(c,g,_i(1,w))}:function(c,g,w){return c[g]=w,c},Ci=D,Si=P,Di=j,Ti=b,Oi=B.f,Ai=ri,Ii=pt,Pi=Ye,Mi=xi,Ni=le,vi=function(c){var e=function(g,w,x){if((this||C)instanceof e){switch(arguments.length){case 0:return new c;case 1:return new c(g);case 2:return new c(g,w)}return new c(g,w,x)}return Si(c,this||C,arguments)};return e.prototype=c.prototype,e},gi=function(c,g){var w,x,C,S,D,T,E,O,A=c.target,P=c.global,M=c.stat,N=c.proto,R=P?Ci:M?Ci[A]:(Ci[A]||{}).prototype,L=P?Ii:Ii[A]||Mi(Ii,A,{})[A],j=L.prototype;for(C in g)w=!Ai(P?C:A+(M?".":"#")+C,c.forced)&&R&&Ni(R,C),D=L[C],w&&(T=c.noTargetGet?(O=Oi(R,C))&&O.value:R[C]),S=w&&T?T:g[C],w&&typeof D==typeof S||(E=c.bind&&w?Pi(S,Ci):c.wrap&&w?vi(S):N&&Ti(S)?Di(S):S,(c.sham||S&&S.sham||D&&D.sham)&&Mi(E,"sham",!0),Mi(L,C,E),N&&(Ni(Ii,x=A+"Prototype")||Mi(Ii,x,{}),Mi(Ii[x],C,S),c.real&&j&&!j[C]&&Mi(j,C,S)))},Fi=j([].slice),Ri=j,Li=Dt,ji=q,Bi=le,zi=Fi,Hi=D.Function,Gi=Ri([].concat),Wi=Ri([].join),Vi={},Ei=function(c,g,w){if(!Bi(Vi,g)){for(var x=[],C=0;C<g;C++)x[C]="a["+C+"]";Vi[g]=Hi("C,a","return new C("+Wi(x,",")+")")}return Vi[g](c,w)},Yi=Hi.bind||function(c){var g=Li(this||C),w=g.prototype,x=zi(arguments,1),o=function(){var w=Gi(x,zi(arguments));return(this||C)instanceof o?Ei(g,w.length,w):g.apply(c,w)};return ji(w)&&(o.prototype=w),o},Xi={};Xi[se("toStringTag")]="z";var Ui="[object z]"===String(Xi),qi=D,Ki=Ui,Ji=b,Zi=F,Qi=se("toStringTag"),tn=qi.Object,en="Arguments"==Zi(function(){return arguments}()),on=Ki?Zi:function(c){var g,w,x;return void 0===c?"Undefined":null===c?"Null":"string"==typeof(w=function(c,g){try{return c[g]}catch(c){}}(g=tn(c),Qi))?w:en?Zi(g):"Object"==(x=Zi(g))&&Ji(g.callee)?"Arguments":x},rn=b,sn=ee,an=j(Function.toString);rn(sn.inspectSource)||(sn.inspectSource=function(c){return an(c)});var ln,hn=sn.inspectSource,cn=j,dn=k,pn=b,fn=on,vn=hn,$i=function(){},bn=[],wn=tt("Reflect","construct"),kn=/^\s*(?:class|function)\b/,xn=cn(kn.exec),Cn=!kn.exec($i),nn=function(c){if(!pn(c))return!1;try{return wn($i,bn,c),!0}catch(c){return!1}},Sn=!wn||dn((function(){var c;return nn(nn.call)||!nn(Object)||!nn((function(){c=!0}))||c}))?function(c){if(!pn(c))return!1;switch(fn(c)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return Cn||!!xn(kn,vn(c))}:nn,Dn=Sn,Tn=kt,En=D.TypeError,On=Math.ceil,In=Math.floor,un=function(c){var g=+c;return g!=g||0===g?0:(g>0?In:On)(g)},Pn=un,Mn=Math.max,Nn=Math.min,mn=function(c,g){var w=Pn(c);return w<0?Mn(w+g,0):Nn(w,g)},Fn=un,Rn=Math.min,gn=function(c){return c>0?Rn(Fn(c),9007199254740991):0},yn=function(c){return gn(c.length)},Ln=U,jn=mn,Bn=yn,_n=function(c){return function(g,w,x){var C,S=Ln(g),D=Bn(S),T=jn(x,D);if(c&&w!=w){for(;D>T;)if((C=S[T++])!=C)return!0}else for(;D>T;T++)if((c||T in S)&&S[T]===w)return c||T||0;return!c&&-1}},zn={includes:_n(!0),indexOf:_n(!1)},Hn={},Gn=le,Wn=U,Vn=zn.indexOf,Xn=Hn,Un=j([].push),An=function(c,g){var w,x=Wn(c),C=0,S=[];for(w in x)!Gn(Xn,w)&&Gn(x,w)&&Un(S,w);for(;g.length>C;)Gn(x,w=g[C++])&&(~Vn(S,w)||Un(S,w));return S},qn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Kn=An,$n=qn,Zn=Object.keys||function(c){return Kn(c,$n)},io=li,no=$e,oo=U,ro=Zn,ao=z?Object.defineProperties:function(c,g){no(c);for(var w,x=oo(g),C=ro(g),S=C.length,D=0;S>D;)io.f(c,w=C[D++],x[w]);return c},lo=tt("document","documentElement"),ho=Jt.exports,uo=Kt,co=ho("keys"),Yn=function(c){return co[c]||(co[c]=uo(c))},po=$e,mo=ao,fo=qn,vo=Hn,go=lo,yo=ke,wo=Yn("IE_PROTO"),Qn=function(){},Jn=function(c){return"<script>"+c+"<\/script>"},to=function(c){c.write(Jn("")),c.close();var g=c.parentWindow.Object;return c=null,g},eo=function(){try{ln=new ActiveXObject("htmlfile")}catch(c){}var c,g;eo="undefined"!=typeof document?document.domain&&ln?to(ln):((g=yo("iframe")).style.display="none",go.appendChild(g),g.src=String("javascript:"),(c=g.contentWindow.document).open(),c.write(Jn("document.F=Object")),c.close(),c.F):to(ln);for(var w=fo.length;w--;)delete eo.prototype[fo[w]];return eo()};vo[wo]=!0;var ko=Object.create||function(c,g){var w;return null!==c?(Qn.prototype=po(c),w=new Qn,Qn.prototype=null,w[wo]=c):w=eo(),void 0===g?w:mo(w,g)},_o=gi,xo=P,Co=Yi,so=function(c){if(Dn(c))return c;throw En(Tn(c)+" is not a constructor")},Eo=$e,Ao=q,Io=ko,Po=k,Mo=tt("Reflect","construct"),No=Object.prototype,Fo=[].push,Ro=Po((function(){function t(){}return!(Mo((function(){}),[],t)instanceof t)})),jo=!Po((function(){Mo((function(){}))})),Ho=Ro||jo;_o({target:"Reflect",stat:!0,forced:Ho,sham:Ho},{construct:function(c,g){so(c),Eo(g);var w=arguments.length<3?c:so(arguments[2]);if(jo&&!Ro)return Mo(c,g,w);if(c==w){switch(g.length){case 0:return new c;case 1:return new c(g[0]);case 2:return new c(g[0],g[1]);case 3:return new c(g[0],g[1],g[2]);case 4:return new c(g[0],g[1],g[2],g[3])}var x=[null];return xo(Fo,x,g),new(xo(Co,c,x))}var C=w.prototype,S=Io(Ao(C)?C:No),D=xo(c,S,g);return Ao(D)?D:S}});var Go=pt.Reflect.construct;function bo(c,g){if(!(c instanceof g))throw new TypeError("Cannot call a class as a function")}var Wo={exports:{}};gi({target:"Object",stat:!0,forced:!z,sham:!z},{defineProperty:li.f});var Vo=pt.Object,Yo=Wo.exports=function(c,g,w){return Vo.defineProperty(c,g,w)};Vo.defineProperty.sham&&(Yo.sham=!0);var Xo=Wo.exports,qo=Xo;function Do(c,g){for(var w=0;w<g.length;w++){var x=g[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),qo(c,x.key,x)}}function So(c,g,w){return g&&Do(c.prototype,g),w&&Do(c,w),c}function To(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}gi({target:"Object",stat:!0,sham:!z},{create:ko});var Ko=pt.Object,Oo=function(c,g){return Ko.create(c,g)},$o=Oo,Zo=D,Qo=b,er=Zo.String,ir=Zo.TypeError,nr=j,rr=$e,Lo=function(c){if("object"==typeof c||Qo(c))return c;throw ir("Can't set "+er(c)+" as a prototype")};gi({target:"Object",stat:!0},{setPrototypeOf:Object.setPrototypeOf||("__proto__"in{}?function(){var c,g=!1,w={};try{(c=nr(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(w,[]),g=w instanceof Array}catch(c){}return function(w,x){return rr(w),Lo(x),g?c(w,x):w.__proto__=x,w}}():void 0)});var sr=pt.Object.setPrototypeOf;function Bo(c,g){return(Bo=sr||function(c,g){return c.__proto__=g,c})(c,g)}function zo(c,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");c.prototype=$o(g&&g.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),g&&Bo(c,g)}var ar=F,lr=Array.isArray||function(c){return"Array"==ar(c)},hr=ge,ur=li,cr=I,Uo=function(c,g,w){var x=hr(g);x in c?ur.f(c,x,cr(0,w)):c[x]=w},dr=D,pr=lr,mr=Sn,fr=q,vr=se("species"),gr=dr.Array,Jo=function(c){var g;return pr(c)&&(g=c.constructor,(mr(g)&&(g===gr||pr(g.prototype))||fr(g)&&null===(g=g[vr]))&&(g=void 0)),void 0===g?gr:g},tr=function(c,g){return new(Jo(c))(0===g?0:g)},yr=k,br=Et,wr=se("species"),or=function(c){return br>=51||!yr((function(){var g=[];return(g.constructor={})[wr]=function(){return{foo:1}},1!==g[c](Boolean).foo}))},kr=gi,xr=D,Cr=k,Sr=lr,Tr=q,Er=Ht,Or=yn,Ar=Uo,Ir=tr,Pr=or,Mr=Et,Nr=se("isConcatSpreadable"),Fr=9007199254740991,Rr="Maximum allowed index exceeded",jr=xr.TypeError,Br=Mr>=51||!Cr((function(){var c=[];return c[Nr]=!1,c.concat()[0]!==c})),zr=Pr("concat"),_r=function(c){if(!Tr(c))return!1;var g=c[Nr];return void 0!==g?!!g:Sr(c)};kr({target:"Array",proto:!0,forced:!Br||!zr},{concat:function(c){var g,w,x,S,D,T=Er(this||C),E=Ir(T,0),O=0;for(g=-1,x=arguments.length;g<x;g++)if(_r(D=-1===g?T:arguments[g])){if(O+(S=Or(D))>Fr)throw jr(Rr);for(w=0;w<S;w++,O++)w in D&&Ar(E,O,D[w])}else{if(O>=Fr)throw jr(Rr);Ar(E,O++,D)}return E.length=O,E}});var Hr=on,Gr=D.String,Dr=function(c){if("Symbol"===Hr(c))throw TypeError("Cannot convert a Symbol value to a string");return Gr(c)},Wr={},Vr=An,Yr=qn.concat("length","prototype");Wr.f=Object.getOwnPropertyNames||function(c){return Vr(c,Yr)};var Ur={},qr=F,Kr=U,$r=Wr.f,Jr=Fi,Zr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Ur.f=function(c){return Zr&&"Window"==qr(c)?function(c){try{return $r(c)}catch(c){return Jr(Zr)}}(c):$r(Kr(c))};var Qr={};Qr.f=Object.getOwnPropertySymbols;var ts=xi,Lr=function(c,g,w,x){x&&x.enumerable?c[g]=w:ts(c,g,w)},es={},ns=se;es.f=ns;var os,rs,ss,as=pt,ls=le,hs=es,us=li.f,Xr=function(c){var g=as.Symbol||(as.Symbol={});ls(g,c)||us(g,c,{value:hs.f(c)})},cs=on,ds=Ui?{}.toString:function(){return"[object "+cs(this||C)+"]"},ps=Ui,ms=li.f,fs=xi,vs=le,gs=ds,ys=se("toStringTag"),is=function(c,g,w,x){if(c){var C=w?c:c.prototype;vs(C,ys)||ms(C,ys,{configurable:!0,value:g}),x&&!ps&&fs(C,"toString",gs)}},bs=b,ws=hn,ks=D.WeakMap,_s=bs(ks)&&/native code/.test(ws(ks)),xs=D,Cs=j,Ss=q,Ds=xi,Ts=le,Es=ee,Os=Yn,Is=Hn,Ps="Object already initialized",Ms=xs.TypeError,Ns=xs.WeakMap;if(_s||Es.state){var Fs=Es.state||(Es.state=new Ns),Rs=Cs(Fs.get),Ls=Cs(Fs.has),js=Cs(Fs.set);os=function(c,g){if(Ls(Fs,c))throw new Ms(Ps);return g.facade=c,js(Fs,c,g),g},rs=function(c){return Rs(Fs,c)||{}},ss=function(c){return Ls(Fs,c)}}else{var Bs=Os("state");Is[Bs]=!0,os=function(c,g){if(Ts(c,Bs))throw new Ms(Ps);return g.facade=c,Ds(c,Bs,g),g},rs=function(c){return Ts(c,Bs)?c[Bs]:{}},ss=function(c){return Ts(c,Bs)}}var zs={set:os,get:rs,has:ss,enforce:function(c){return ss(c)?rs(c):os(c,{})},getterFor:function(c){return function(g){var w;if(!Ss(g)||(w=rs(g)).type!==c)throw Ms("Incompatible receiver, "+c+" required");return w}}},Hs=Ye,Gs=lt,Ws=Ht,Vs=yn,Ys=tr,Xs=j([].push),As=function(c){var g=1==c,w=2==c,x=3==c,C=4==c,S=6==c,D=7==c,T=5==c||S;return function(E,O,A,P){for(var M,N,R=Ws(E),L=Gs(R),j=Hs(O,A),B=Vs(L),z=0,H=P||Ys,G=g?H(E,B):w||D?H(E,0):void 0;B>z;z++)if((T||z in L)&&(N=j(M=L[z],z,R),c))if(g)G[z]=N;else if(N)switch(c){case 3:return!0;case 5:return M;case 6:return z;case 2:Xs(G,M)}else switch(c){case 4:return!1;case 7:Xs(G,M)}return S?-1:x||C?C:G}},Us={forEach:As(0),map:As(1),filter:As(2),some:As(3),every:As(4),find:As(5),findIndex:As(6),filterReject:As(7)},qs=gi,Ks=D,$s=tt,Js=P,Zs=G,Qs=j,ta=z,ea=It,ia=k,na=le,oa=lr,ra=b,sa=q,aa=gt,la=Bt,ha=$e,ua=Ht,ca=U,da=ge,pa=Dr,ma=I,fa=ko,va=Zn,ga=Wr,ya=Ur,ba=Qr,wa=B,ka=li,_a=V,xa=Fi,Ca=Lr,Sa=Jt.exports,Da=Hn,Ta=Kt,Ea=se,Oa=es,Aa=Xr,Ia=is,Pa=zs,Ma=Us.forEach,Na=Yn("hidden"),Fa="Symbol",Ra=Ea("toPrimitive"),La=Pa.set,ja=Pa.getterFor(Fa),Ba=Object.prototype,za=Ks.Symbol,qa=za&&za.prototype,Ka=Ks.TypeError,$a=Ks.QObject,Ja=$s("JSON","stringify"),Za=wa.f,Qa=ka.f,tl=ya.f,el=_a.f,il=Qs([].push),nl=Sa("symbols"),ol=Sa("op-symbols"),rl=Sa("string-to-symbol-registry"),sl=Sa("symbol-to-string-registry"),al=Sa("wks"),ll=!$a||!$a.prototype||!$a.prototype.findChild,hl=ta&&ia((function(){return 7!=fa(Qa({},"a",{get:function(){return Qa(this||C,"a",{value:7}).a}})).a}))?function(c,g,w){var x=Za(Ba,g);x&&delete Ba[g],Qa(c,g,w),x&&c!==Ba&&Qa(Ba,g,x)}:Qa,Ha=function(c,g){var w=nl[c]=fa(qa);return La(w,{type:Fa,tag:c,description:g}),ta||(w.description=g),w},Ga=function(c,g,w){c===Ba&&Ga(ol,g,w),ha(c);var x=da(g);return ha(w),na(nl,x)?(w.enumerable?(na(c,Na)&&c[Na][x]&&(c[Na][x]=!1),w=fa(w,{enumerable:ma(0,!1)})):(na(c,Na)||Qa(c,Na,ma(1,{})),c[Na][x]=!0),hl(c,x,w)):Qa(c,x,w)},Wa=function(c,g){ha(c);var w=ca(g),x=va(w).concat(Xa(w));return Ma(x,(function(g){ta&&!Zs(Ya,w,g)||Ga(c,g,w[g])})),c},Ya=function(c){var g=da(c),w=Zs(el,this||C,g);return!((this||C)===Ba&&na(nl,g)&&!na(ol,g))&&(!(w||!na(this||C,g)||!na(nl,g)||na(this||C,Na)&&(this||C)[Na][g])||w)},Va=function(c,g){var w=ca(c),x=da(g);if(w!==Ba||!na(nl,x)||na(ol,x)){var C=Za(w,x);return!C||!na(nl,x)||na(w,Na)&&w[Na][x]||(C.enumerable=!0),C}},Ua=function(c){var g=tl(ca(c)),w=[];return Ma(g,(function(c){na(nl,c)||na(Da,c)||il(w,c)})),w},Xa=function(c){var g=c===Ba,w=tl(g?ol:ca(c)),x=[];return Ma(w,(function(c){!na(nl,c)||g&&!na(Ba,c)||il(x,nl[c])})),x};(ea||(Ca(qa=(za=function(){if(aa(qa,this||C))throw Ka("Symbol is not a constructor");var c=arguments.length&&void 0!==arguments[0]?pa(arguments[0]):void 0,g=Ta(c),i=function(c){(this||C)===Ba&&Zs(i,ol,c),na(this||C,Na)&&na((this||C)[Na],g)&&((this||C)[Na][g]=!1),hl(this||C,g,ma(1,c))};return ta&&ll&&hl(Ba,g,{configurable:!0,set:i}),Ha(g,c)}).prototype,"toString",(function(){return ja(this||C).tag})),Ca(za,"withoutSetter",(function(c){return Ha(Ta(c),c)})),_a.f=Ya,ka.f=Ga,wa.f=Va,ga.f=ya.f=Ua,ba.f=Xa,Oa.f=function(c){return Ha(Ea(c),c)},ta&&Qa(qa,"description",{configurable:!0,get:function(){return ja(this||C).description}})),qs({global:!0,wrap:!0,forced:!ea,sham:!ea},{Symbol:za}),Ma(va(al),(function(c){Aa(c)})),qs({target:Fa,stat:!0,forced:!ea},{for:function(c){var g=pa(c);if(na(rl,g))return rl[g];var w=za(g);return rl[g]=w,sl[w]=g,w},keyFor:function(c){if(!la(c))throw Ka(c+" is not a symbol");if(na(sl,c))return sl[c]},useSetter:function(){ll=!0},useSimple:function(){ll=!1}}),qs({target:"Object",stat:!0,forced:!ea,sham:!ta},{create:function(c,g){return void 0===g?fa(c):Wa(fa(c),g)},defineProperty:Ga,defineProperties:Wa,getOwnPropertyDescriptor:Va}),qs({target:"Object",stat:!0,forced:!ea},{getOwnPropertyNames:Ua,getOwnPropertySymbols:Xa}),qs({target:"Object",stat:!0,forced:ia((function(){ba.f(1)}))},{getOwnPropertySymbols:function(c){return ba.f(ua(c))}}),Ja)&&qs({target:"JSON",stat:!0,forced:!ea||ia((function(){var c=za();return"[null]"!=Ja([c])||"{}"!=Ja({a:c})||"{}"!=Ja(Object(c))}))},{stringify:function(c,g,w){var x=xa(arguments),S=g;if((sa(g)||void 0!==c)&&!la(c))return oa(g)||(g=function(c,g){if(ra(S)&&(g=Zs(S,this||C,c,g)),!la(g))return g}),x[1]=g,Js(Ja,null,x)}});if(!qa[Ra]){var ul=qa.valueOf;Ca(qa,Ra,(function(c){return Zs(ul,this||C)}))}Ia(za,Fa),Da[Na]=!0,Xr("asyncIterator"),Xr("hasInstance"),Xr("isConcatSpreadable"),Xr("iterator"),Xr("match"),Xr("matchAll"),Xr("replace"),Xr("search"),Xr("species"),Xr("split"),Xr("toPrimitive"),Xr("toStringTag"),Xr("unscopables"),is(D.JSON,"JSON",!0);var cl,dl,pl,ml=pt.Symbol,fl={},vl=z,gl=le,yl=Function.prototype,bl=vl&&Object.getOwnPropertyDescriptor,wl=gl(yl,"name"),kl={EXISTS:wl,PROPER:wl&&"something"===function(){}.name,CONFIGURABLE:wl&&(!vl||vl&&bl(yl,"name").configurable)},_l=!k((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),xl=D,Cl=le,Sl=b,Dl=Ht,Tl=_l,El=Yn("IE_PROTO"),Ol=xl.Object,Il=Ol.prototype,Pl=Tl?Ol.getPrototypeOf:function(c){var g=Dl(c);if(Cl(g,El))return g[El];var w=g.constructor;return Sl(w)&&g instanceof w?w.prototype:g instanceof Ol?Il:null},Nl=k,Fl=b,Rl=ko,Ll=Pl,jl=Lr,Bl=se("iterator"),zl=!1;[].keys&&("next"in(pl=[].keys())?(dl=Ll(Ll(pl)))!==Object.prototype&&(cl=dl):zl=!0);var Hl=null==cl||Nl((function(){var c={};return cl[Bl].call(c)!==c}));Fl((cl=Hl?{}:Rl(cl))[Bl])||jl(cl,Bl,(function(){return this||C}));var Gl={IteratorPrototype:cl,BUGGY_SAFARI_ITERATORS:zl},Wl=Gl.IteratorPrototype,Xl=ko,Ul=I,ql=is,Kl=fl,Al=function(){return this||C},$l=gi,Jl=G,Ml=function(c,g,w){var x=g+" Iterator";return c.prototype=Xl(Wl,{next:Ul(1,w)}),ql(c,x,!1,!0),Kl[x]=Al,c},Zl=Pl,Ql=is,th=Lr,eh=fl,ih=kl.PROPER,nh=Gl.BUGGY_SAFARI_ITERATORS,oh=se("iterator"),rh="keys",sh="values",ah="entries",Yl=function(){return this||C},Vl=function(c,g,w,x,S,D,T){Ml(w,g,x);var E,O,A,u=function(c){if(c===S&&L)return L;if(!nh&&c in N)return N[c];switch(c){case rh:case sh:case ah:return function(){return new w(this||C,c)}}return function(){return new w(this||C)}},P=g+" Iterator",M=!1,N=c.prototype,R=N[oh]||N["@@iterator"]||S&&N[S],L=!nh&&R||u(S),j="Array"==g&&N.entries||R;if(j&&(E=Zl(j.call(new c)))!==Object.prototype&&E.next&&(Ql(E,P,!0,!0),eh[P]=Yl),ih&&S==sh&&R&&R.name!==sh&&(M=!0,L=function(){return Jl(R,this||C)}),S)if(O={values:u(sh),keys:D?L:u(rh),entries:u(ah)},T)for(A in O)(nh||M||!(A in N))&&th(N,A,O[A]);else $l({target:g,proto:!0,forced:nh||M},O);return T&&N[oh]!==L&&th(N,oh,L,{name:S}),eh[g]=L,O},lh=U,hh=fl,uh=zs,ch=Vl,dh="Array Iterator",ph=uh.set,mh=uh.getterFor(dh);ch(Array,"Array",(function(c,g){ph(this||C,{type:dh,target:lh(c),index:0,kind:g})}),(function(){var c=mh(this||C),g=c.target,w=c.kind,x=c.index++;return!g||x>=g.length?(c.target=void 0,{value:void 0,done:!0}):"keys"==w?{value:x,done:!1}:"values"==w?{value:g[x],done:!1}:{value:[x,g[x]],done:!1}}),"values"),hh.Arguments=hh.Array;var fh={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},vh=D,yh=on,bh=xi,wh=fl,kh=se("toStringTag");for(var _h in fh){var xh=vh[_h],Ch=xh&&xh.prototype;Ch&&yh(Ch)!==kh&&bh(Ch,kh,_h),wh[_h]=wh.Array}var Dh=ml;Xr("asyncDispose"),Xr("dispose"),Xr("matcher"),Xr("metadata"),Xr("observable"),Xr("patternMatch"),Xr("replaceAll");var Eh=Dh,Oh=j,Ah=un,Ih=Dr,Ph=W,Nh=Oh("".charAt),Fh=Oh("".charCodeAt),Rh=Oh("".slice),gh=function(c){return function(g,w){var x,C,S=Ih(Ph(g)),D=Ah(w),T=S.length;return D<0||D>=T?c?"":void 0:(x=Fh(S,D))<55296||x>56319||D+1===T||(C=Fh(S,D+1))<56320||C>57343?c?Nh(S,D):x:c?Rh(S,D,D+2):C-56320+(x-55296<<10)+65536}},jh=[gh(!1),gh(!0)][1],Bh=Dr,zh=zs,Hh=Vl,Wh="String Iterator",Vh=zh.set,Yh=zh.getterFor(Wh);Hh(String,"String",(function(c){Vh(this||C,{type:Wh,string:Bh(c),index:0})}),(function(){var c,g=Yh(this||C),w=g.string,x=g.index;return x>=w.length?{value:void 0,done:!0}:(c=jh(w,x),g.index+=c.length,{value:c,done:!1})}));var Xh=es.f("iterator");function Sh(c){return(Sh="function"==typeof Eh&&"symbol"==typeof Xh?function(c){return typeof c}:function(c){return c&&"function"==typeof Eh&&c.constructor===Eh&&c!==Eh.prototype?"symbol":typeof c})(c)}function Th(c,g){if(g&&("object"===Sh(g)||"function"==typeof g))return g;if(void 0!==g)throw new TypeError("Derived constructors may only return object or undefined");return To(c)}var Uh=Ht,qh=Pl,Kh=_l;gi({target:"Object",stat:!0,forced:k((function(){qh(1)})),sham:!Kh},{getPrototypeOf:function(c){return qh(Uh(c))}});var Zh=pt.Object.getPrototypeOf,Qh=Zh;function Mh(c){return(Mh=sr?Qh:function(c){return c.__proto__||Qh(c)})(c)}gi({target:"Array",stat:!0},{isArray:lr});var tu=pt.Array.isArray,eu=tu;gi({target:"Function",proto:!0},{bind:Yi});var iu=pt,Lh=function(c){return iu[c+"Prototype"]},nu=Lh("Function").bind,ou=gt,ru=nu,su=Function.prototype,Gh=function(c){var g=c.bind;return c===su||ou(su,c)&&g===su.bind?ru:g},au=gi,lu=D,uu=P,cu=b,du=Fi,pu=/MSIE .\./.test(yt),mu=lu.Function,$h=function(c){return function(g,w){var x=arguments.length>2,S=x?du(arguments,2):void 0;return c(x?function(){uu(cu(g)?g:mu(g),this||C,S)}:g,w)}};au({global:!0,bind:!0,forced:pu},{setTimeout:$h(lu.setTimeout),setInterval:$h(lu.setInterval)});var fu=pt.setTimeout,vu=k,Jh=function(c,g){var w=[][c];return!!w&&vu((function(){w.call(null,g||function(){throw 1},1)}))},yu=Us.forEach,bu=Jh("forEach")?[].forEach:function(c){return yu(this||C,c,arguments.length>1?arguments[1]:void 0)};gi({target:"Array",proto:!0,forced:[].forEach!=bu},{forEach:bu});var wu=Lh("Array").forEach,ku=on,_u=le,xu=gt,Cu=wu,Su=Array.prototype,Du={DOMTokenList:!0,NodeList:!0},hu=function(c){var g=c.forEach;return c===Su||xu(Su,c)&&g===Su.forEach||_u(Du,ku(c))?Cu:g},Tu="undefined"!=typeof window&&window.moment||x.default,Eu=pt.Object.getOwnPropertySymbols,Ou=Us.filter;gi({target:"Array",proto:!0,forced:!or("filter")},{filter:function(c){return Ou(this||C,c,arguments.length>1?arguments[1]:void 0)}});var Au=Lh("Array").filter,Iu=gt,Pu=Au,Mu=Array.prototype,gu=function(c){var g=c.filter;return c===Mu||Iu(Mu,c)&&g===Mu.filter?Pu:g},Nu={exports:{}},Fu=gi,Ru=k,Lu=U,ju=B.f,Bu=z,zu=Ru((function(){ju(1)}));Fu({target:"Object",stat:!0,forced:!Bu||zu,sham:!Bu},{getOwnPropertyDescriptor:function(c,g){return ju(Lu(c),g)}});var Hu=pt.Object,Gu=Nu.exports=function(c,g){return Hu.getOwnPropertyDescriptor(c,g)};Hu.getOwnPropertyDescriptor.sham&&(Gu.sham=!0);var Vu=Nu.exports,Yu=tt,Xu=Wr,Uu=Qr,qu=$e,$u=j([].concat),Ju=Yu("Reflect","ownKeys")||function(c){var g=Xu.f(qu(c)),w=Uu.f;return w?$u(g,w(c)):g},Zu=Ju,Qu=U,tc=B,ic=Uo;gi({target:"Object",stat:!0,sham:!z},{getOwnPropertyDescriptors:function(c){for(var g,w,x=Qu(c),C=tc.f,S=Zu(x),D={},T=0;S.length>T;)void 0!==(w=C(x,g=S[T++]))&&ic(D,g,w);return D}});var nc=pt.Object.getOwnPropertyDescriptors,oc={exports:{}};gi({target:"Object",stat:!0,forced:!z,sham:!z},{defineProperties:ao});var rc=pt.Object,sc=oc.exports=function(c,g){return rc.defineProperties(c,g)};rc.defineProperties.sham&&(sc.sham=!0);var ac=oc.exports;function Wu(c,g,w){return g in c?qo(c,g,{value:w,enumerable:!0,configurable:!0,writable:!0}):c[g]=w,c}var lc=Us.map;gi({target:"Array",proto:!0,forced:!or("map")},{map:function(c){return lc(this||C,c,arguments.length>1?arguments[1]:void 0)}});var hc=Lh("Array").map,uc=gt,dc=hc,pc=Array.prototype,Ku=function(c){var g=c.map;return c===pc||uc(pc,c)&&g===pc.map?dc:g},mc=Dt,fc=Ht,vc=lt,gc=yn,yc=D.TypeError,ec=function(c){return function(g,w,x,C){mc(w);var S=fc(g),D=vc(S),T=gc(S),E=c?T-1:0,O=c?-1:1;if(x<2)for(;;){if(E in D){C=D[E],E+=O;break}if(E+=O,c?E<0:T<=E)throw yc("Reduce of empty array with no initial value")}for(;c?E>=0:T>E;E+=O)E in D&&(C=w(C,D[E],E,S));return C}},wc={left:ec(!1),right:ec(!0)},kc="process"==F(D.process),_c=wc.left,xc=Et,Cc=kc;gi({target:"Array",proto:!0,forced:!Jh("reduce")||!Cc&&xc>79&&xc<83},{reduce:function(c){var g=arguments.length;return _c(this||C,c,g,g>1?arguments[1]:void 0)}});var Sc=Lh("Array").reduce,Tc=gt,Ec=Sc,Oc=Array.prototype,cc=function(c){var g=c.reduce;return c===Oc||Tc(Oc,c)&&g===Oc.reduce?Ec:g},Ic=Ht,Pc=Zn;gi({target:"Object",stat:!0,forced:k((function(){Pc(1)}))},{keys:function(c){return Pc(Ic(c))}});var Mc=pt.Object.keys,Nc=Xo,Fc=G,Rc=$e,jc=Tt,bc=function(c,g,w){var x,C;Rc(c);try{if(!(x=jc(c,"return"))){if("throw"===g)throw w;return w}x=Fc(x,c)}catch(c){C=!0,x=c}if("throw"===g)throw w;if(C)throw x;return Rc(x),w},Bc=$e,zc=bc,Gc=fl,Wc=se("iterator"),Vc=Array.prototype,Dc=function(c){return void 0!==c&&(Gc.Array===c||Vc[Wc]===c)},Yc=on,Xc=Tt,Uc=fl,qc=se("iterator"),Ac=function(c){if(null!=c)return Xc(c,qc)||Xc(c,"@@iterator")||Uc[Yc(c)]},Kc=G,$c=Dt,Zc=$e,Qc=kt,td=Ac,ed=D.TypeError,Lc=function(c,g){var w=arguments.length<2?td(c):g;if($c(w))return Zc(Kc(w,c));throw ed(Qc(c)+" is not iterable")},id=Ye,nd=G,od=Ht,Hc=function(c,g,w,x){try{return x?g(Bc(w)[0],w[1]):g(w)}catch(g){zc(c,"throw",g)}},rd=Dc,sd=Sn,ad=yn,ld=Uo,hd=Lc,ud=Ac,cd=D.Array,dd=se("iterator"),pd=!1;try{var md=0,fd={next:function(){return{done:!!md++}},return:function(){pd=!0}};fd[dd]=function(){return this||C},Array.from(fd,(function(){throw 2}))}catch(c){}var Jc=function(c){var g=od(c),w=sd(this||C),x=arguments.length,S=x>1?arguments[1]:void 0,D=void 0!==S;D&&(S=id(S,x>2?arguments[2]:void 0));var T,E,O,A,P,M,N=ud(g),R=0;if(!N||(this||C)==cd&&rd(N))for(T=ad(g),E=w?new(this||C)(T):cd(T);T>R;R++)M=D?S(g[R],R):g[R],ld(E,R,M);else for(P=(A=hd(g,N)).next,E=w?new(this||C):[];!(O=nd(P,A)).done;R++)M=D?Hc(A,S,[O.value,R],!0):O.value,ld(E,R,M);return E.length=R,E};gi({target:"Array",stat:!0,forced:!function(c,g){if(!g&&!pd)return!1;var w=!1;try{var x={};x[dd]=function(){return{next:function(){return{done:w=!0}}}},c(x)}catch(c){}return w}((function(c){Array.from(c)}))},{from:Jc});var vd=pt.Array.from,gd=vd,yd=Ac,bd=tu;var wd=gi,kd=D,_d=lr,Cd=Sn,Dd=q,Ad=mn,Id=yn,Pd=U,Md=Uo,Nd=se,Rd=Fi,Ld=or("slice"),jd=Nd("species"),Bd=kd.Array,zd=Math.max;wd({target:"Array",proto:!0,forced:!Ld},{slice:function(c,g){var w,x,S,D=Pd(this||C),T=Id(D),E=Ad(c,T),O=Ad(void 0===g?T:g,T);if(_d(D)&&(w=D.constructor,(Cd(w)&&(w===Bd||_d(w.prototype))||Dd(w)&&null===(w=w[jd]))&&(w=void 0),w===Bd||void 0===w))return Rd(D,E,O);for(x=new(void 0===w?Bd:w)(zd(O-E,0)),S=0;E<O;E++,S++)E in D&&Md(x,S,D[E]);return x.length=S,x}});var Hd=Lh("Array").slice,Gd=gt,Wd=Hd,Vd=Array.prototype,xd=function(c){var g=c.slice;return c===Vd||Gd(Vd,c)&&g===Vd.slice?Wd:g},Yd=xd,Xd=vd;function Sd(c,g){(null==g||g>c.length)&&(g=c.length);for(var w=0,x=new Array(g);w<g;w++)x[w]=c[w];return x}function Td(c,g){var w;if(c){if("string"==typeof c)return Sd(c,g);var x=Yd(w=Object.prototype.toString.call(c)).call(w,8,-1);return"Object"===x&&c.constructor&&(x=c.constructor.name),"Map"===x||"Set"===x?Xd(c):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Sd(c,g):void 0}}function Ed(c,g){return function(c){if(bd(c))return c}(c)||function(c,g){var w=null==c?null:void 0!==Eh&&yd(c)||c["@@iterator"];if(null!=w){var x,C,S=[],D=!0,T=!1;try{for(w=w.call(c);!(D=(x=w.next()).done)&&(S.push(x.value),!g||S.length!==g);D=!0);}catch(c){T=!0,C=c}finally{try{D||null==w.return||w.return()}finally{if(T)throw C}}return S}}(c,g)||Td(c,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Od(c){return function(c){if(bd(c))return Sd(c)}(c)||function(c){if(void 0!==Eh&&null!=yd(c)||null!=c["@@iterator"])return Xd(c)}(c)||Td(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ud=Dh,qd=Lh("Array").concat,Kd=gt,$d=qd,Jd=Array.prototype,Fd=function(c){var g=c.concat;return c===Jd||Kd(Jd,c)&&g===Jd.concat?$d:g},Qd=xd;gi({target:"Reflect",stat:!0},{ownKeys:Ju});var tp=pt.Reflect.ownKeys,ep=gi,ip=j,np=D.Date,op=ip(np.prototype.getTime);ep({target:"Date",stat:!0},{now:function(){return op(new np)}});var rp=pt.Date.now,sp=gi,ap=lr,lp=j([].reverse),hp=[1,2];sp({target:"Array",proto:!0,forced:String(hp)===String(hp.reverse())},{reverse:function(){return ap(this||C)&&((this||C).length=(this||C).length),lp(this||C)}});var up=Lh("Array").reverse,cp=gt,dp=up,pp=Array.prototype,Zd=function(c){var g=c.reverse;return c===pp||cp(pp,c)&&g===pp.reverse?dp:g},mp=gi,fp=D,gp=mn,yp=un,bp=yn,wp=Ht,kp=tr,_p=Uo,xp=or("splice"),Cp=fp.TypeError,Sp=Math.max,Dp=Math.min,Tp=9007199254740991,Ep="Maximum allowed length exceeded";mp({target:"Array",proto:!0,forced:!xp},{splice:function(c,g){var w,x,S,D,T,E,O=wp(this||C),A=bp(O),P=gp(c,A),M=arguments.length;if(0===M?w=x=0:1===M?(w=0,x=A-P):(w=M-2,x=Dp(Sp(yp(g),0),A-P)),A+w-x>Tp)throw Cp(Ep);for(S=kp(O,x),D=0;D<x;D++)(T=P+D)in O&&_p(S,D,O[T]);if(S.length=x,w<x){for(D=P;D<A-x;D++)E=D+w,(T=D+x)in O?O[E]=O[T]:delete O[E];for(D=A;D>A-x+w;D--)delete O[D-1]}else if(w>x)for(D=A-x;D>P;D--)E=D+w-1,(T=D+x-1)in O?O[E]=O[T]:delete O[E];for(D=0;D<w;D++)O[D+P]=arguments[D+2];return O.length=A-x+w,S}});var Op=Lh("Array").splice,Ap=gt,Ip=Op,Pp=Array.prototype,vp=function(c){var g=c.splice;return c===Pp||Ap(Pp,c)&&g===Pp.splice?Ip:g},Mp=z,Np=j,Fp=G,Lp=k,jp=Zn,Bp=Qr,Hp=V,Gp=Ht,Vp=lt,Yp=Object.assign,Xp=Object.defineProperty,Up=Np([].concat),qp=!Yp||Lp((function(){if(Mp&&1!==Yp({b:1},Yp(Xp({},"a",{enumerable:!0,get:function(){Xp(this||C,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var c={},g={},w=Symbol(),x="abcdefghijklmnopqrst";return c[w]=7,x.split("").forEach((function(c){g[c]=c})),7!=Yp({},c)[w]||jp(Yp({},g)).join("")!=x}))?function(c,g){for(var w=Gp(c),x=arguments.length,C=1,S=Bp.f,D=Hp.f;x>C;)for(var T,E=Vp(arguments[C++]),O=S?Up(jp(E),S(E)):jp(E),A=O.length,P=0;A>P;)T=O[P++],Mp&&!Fp(D,E,T)||(w[T]=E[T]);return w}:Yp;gi({target:"Object",stat:!0,forced:Object.assign!==qp},{assign:qp});var Kp=pt.Object.assign,$p=zn.includes;gi({target:"Array",proto:!0},{includes:function(c){return $p(this||C,c,arguments.length>1?arguments[1]:void 0)}});var Jp=Lh("Array").includes,Qp=q,tm=F,em=se("match"),Rp=function(c){var g;return Qp(c)&&(void 0!==(g=c[em])?!!g:"RegExp"==tm(c))},im=D.TypeError,nm=se("match"),om=gi,zp=function(c){if(Rp(c))throw im("The method doesn't accept regular expressions");return c},sm=W,am=Dr,Wp=function(c){var g=/./;try{"/./"[c](g)}catch(w){try{return g[nm]=!1,"/./"[c](g)}catch(c){}}return!1},lm=j("".indexOf);om({target:"String",proto:!0,forced:!Wp("includes")},{includes:function(c){return!!~lm(am(sm(this||C)),am(zp(c)),arguments.length>1?arguments[1]:void 0)}});var hm=Lh("String").includes,um=gt,cm=Jp,dm=hm,pm=Array.prototype,mm=String.prototype,Zp=function(c){var g=c.includes;return c===pm||um(pm,c)&&g===pm.includes?cm:"string"==typeof c||c===mm||um(mm,c)&&g===mm.includes?dm:g},vm=Zh,gm=z,ym=j,bm=Zn,wm=U,km=ym(V.f),_m=ym([].push),rm=function(c){return function(g){for(var w,x=wm(g),C=bm(x),S=C.length,D=0,T=[];S>D;)w=C[D++],gm&&!km(x,w)||_m(T,c?[w,x[w]]:x[w]);return T}},xm=[rm(!0),rm(!1)][1];gi({target:"Object",stat:!0},{values:function(c){return xm(c)}});var Cm=pt.Object.values,Sm="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",Dm=W,Tm=Dr,Em=j("".replace),Om="[\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff]",Am=RegExp("^"+Om+Om+"*"),Im=RegExp(Om+Om+"*$"),fm=function(c){return function(g){var w=Tm(Dm(g));return 1&c&&(w=Em(w,Am,"")),2&c&&(w=Em(w,Im,"")),w}},Pm={start:fm(1),end:fm(2),trim:fm(3)},Mm=D,Nm=k,Fm=j,Rm=Dr,Lm=Pm.trim,jm=Sm,Bm=Mm.parseInt,Hm=Mm.Symbol,Gm=Hm&&Hm.iterator,Wm=/^[+-]?0x/i,Vm=Fm(Wm.exec),Ym=8!==Bm(jm+"08")||22!==Bm(jm+"0x16")||Gm&&!Nm((function(){Bm(Object(Gm))}))?function(c,g){var w=Lm(Rm(c));return Bm(w,g>>>0||(Vm(Wm,w)?16:10))}:Bm;gi({global:!0,forced:parseInt!=Ym},{parseInt:Ym});var Xm=pt.parseInt,Um=gi,qm=zn.indexOf,$m=Jh,Jm=j([].indexOf),Zm=!!Jm&&1/Jm([1],1,-0)<0,Qm=$m("indexOf");Um({target:"Array",proto:!0,forced:Zm||!Qm},{indexOf:function(c){var g=arguments.length>1?arguments[1]:void 0;return Zm?Jm(this||C,c,g)||0:qm(this||C,c,g)}});var tf=Lh("Array").indexOf,ef=gt,nf=tf,of=Array.prototype,zm=function(c){var g=c.indexOf;return c===of||ef(of,c)&&g===of.indexOf?nf:g},rf=kl.PROPER,sf=k,af=Sm,lf=Pm.trim;gi({target:"String",proto:!0,forced:function(c){return sf((function(){return!!af[c]()||"âÂá "!=="âÂá "[c]()||rf&&af[c].name!==c}))}("trim")},{trim:function(){return lf(this||C)}});var hf=Lh("String").trim,uf=gt,cf=hf,df=String.prototype,Km=function(c){var g=c.trim;return"string"==typeof c||c===df||uf(df,c)&&g===df.trim?cf:g},mf=Oo,ff=gi,vf=tt,yf=P,bf=j,wf=k,kf=D.Array,_f=vf("JSON","stringify"),xf=bf(/./.exec),Cf=bf("".charAt),Sf=bf("".charCodeAt),Tf=bf("".replace),If=bf(1..toString),Pf=/[\uD800-\uDFFF]/g,Mf=/^[\uD800-\uDBFF]$/,Nf=/^[\uDC00-\uDFFF]$/,pf=function(c,g,w){var x=Cf(w,g-1),C=Cf(w,g+1);return xf(Mf,c)&&!xf(Nf,C)||xf(Nf,c)&&!xf(Mf,x)?"\\u"+If(Sf(c,0),16):c},Ff=wf((function(){return'"\\udf06\\ud834"'!==_f("\udf06\ud834")||'"\\udead"'!==_f("\udead")}));_f&&ff({target:"JSON",stat:!0,forced:Ff},{stringify:function(c,g,w){for(var x=0,C=arguments.length,S=kf(C);x<C;x++)S[x]=arguments[x];var D=yf(_f,null,S);return"string"==typeof D?Tf(D,Pf,pf):D}});var Rf=pt,Lf=P;Rf.JSON||(Rf.JSON={stringify:JSON.stringify});var gf=function(c,g,w){return Lf(Rf.JSON.stringify,null,arguments)},Bf=Ht,zf=mn,Hf=yn;gi({target:"Array",proto:!0},{fill:function(c){for(var g=Bf(this||C),w=Hf(g),x=arguments.length,S=zf(x>1?arguments[1]:void 0,w),D=x>2?arguments[2]:void 0,T=void 0===D?w:zf(D,w);T>S;)g[S++]=c;return g}});var Gf=Lh("Array").fill,Wf=gt,Vf=Gf,Yf=Array.prototype,Df=function(c){var g=c.fill;return c===Yf||Wf(Yf,c)&&g===Yf.fill?Vf:g},Xf={exports:{}};!function(c){function e(c){if(c)return function(c){for(var g in e.prototype)c[g]=e.prototype[g];return c}(c)}c.exports=e,e.prototype.on=e.prototype.addEventListener=function(c,g){return(this||C)._callbacks=(this||C)._callbacks||{},((this||C)._callbacks["$"+c]=(this||C)._callbacks["$"+c]||[]).push(g),this||C},e.prototype.once=function(c,g){function i(){this.off(c,i),g.apply(this||C,arguments)}return i.fn=g,this.on(c,i),this||C},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(c,g){if((this||C)._callbacks=(this||C)._callbacks||{},0==arguments.length)return(this||C)._callbacks={},this||C;var w,x=(this||C)._callbacks["$"+c];if(!x)return this||C;if(1==arguments.length)return delete(this||C)._callbacks["$"+c],this||C;for(var S=0;S<x.length;S++)if((w=x[S])===g||w.fn===g){x.splice(S,1);break}return 0===x.length&&delete(this||C)._callbacks["$"+c],this||C},e.prototype.emit=function(c){(this||C)._callbacks=(this||C)._callbacks||{};for(var g=new Array(arguments.length-1),w=(this||C)._callbacks["$"+c],x=1;x<arguments.length;x++)g[x-1]=arguments[x];if(w){x=0;for(var S=(w=w.slice(0)).length;x<S;++x)w[x].apply(this||C,g)}return this||C},e.prototype.listeners=function(c){return(this||C)._callbacks=(this||C)._callbacks||{},(this||C)._callbacks["$"+c]||[]},e.prototype.hasListeners=function(c){return!!this.listeners(c).length}}(Xf);var Uf=Xf.exports;function Ef(){return(Ef=Object.assign||function(c){for(var g=1;g<arguments.length;g++){var w=arguments[g];for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(c[x]=w[x])}return c}).apply(this||C,arguments)}function Of(c,g){c.prototype=Object.create(g.prototype),c.prototype.constructor=c,c.__proto__=g}function Af(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}var qf,Kf="function"!=typeof Object.assign?function(c){if(null==c)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(c),w=1;w<arguments.length;w++){var x=arguments[w];if(null!=x)for(var C in x)x.hasOwnProperty(C)&&(g[C]=x[C])}return g}:Object.assign,$f=["","webkit","Moz","MS","ms","o"],Jf="undefined"==typeof document?{style:{}}:document.createElement("div"),Zf=Math.round,Qf=Math.abs,tv=Date.now;function jf(c,g){for(var w,x,C=g[0].toUpperCase()+g.slice(1),S=0;S<$f.length;){if((x=(w=$f[S])?w+C:g)in c)return x;S++}}qf="undefined"==typeof window?{}:window;var ev=jf(Jf.style,"touchAction"),iv=void 0!==ev;var sv="compute",wv="auto",_v="manipulation",xv="none",Cv="pan-x",Sv="pan-y",Dv=function(){if(!iv)return!1;var c={},g=qf.CSS&&qf.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(w){return c[w]=!g||qf.CSS.supports("touch-action",w)})),c}(),Ov="ontouchstart"in qf,Av=void 0!==jf(qf,"PointerEvent"),Iv=Ov&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Mv="touch",Nv="mouse",Fv=16,Rv=24,zv=["x","y"],Gv=["clientX","clientY"];function nv(c,g,w){var x;if(c)if(c.forEach)c.forEach(g,w);else if(void 0!==c.length)for(x=0;x<c.length;)g.call(w,c[x],x,c),x++;else for(x in c)c.hasOwnProperty(x)&&g.call(w,c[x],x,c)}function ov(c,g){return"function"==typeof c?c.apply(g&&g[0]||void 0,g):c}function rv(c,g){return c.indexOf(g)>-1}var Wv=function(){function t(c,g){(this||C).manager=c,this.set(g)}var c=t.prototype;return c.set=function(c){c===sv&&(c=this.compute()),iv&&(this||C).manager.element.style&&Dv[c]&&((this||C).manager.element.style[ev]=c),(this||C).actions=c.toLowerCase().trim()},c.update=function(){this.set((this||C).manager.options.touchAction)},c.compute=function(){var c=[];return nv((this||C).manager.recognizers,(function(g){ov(g.options.enable,[g])&&(c=c.concat(g.getTouchAction()))})),function(c){if(rv(c,xv))return xv;var g=rv(c,Cv),w=rv(c,Sv);return g&&w?xv:g||w?g?Cv:Sv:rv(c,_v)?_v:wv}(c.join(" "))},c.preventDefaults=function(c){var g=c.srcEvent,w=c.offsetDirection;if((this||C).manager.session.prevented)g.preventDefault();else{var x=(this||C).actions,S=rv(x,xv)&&!Dv.none,D=rv(x,Sv)&&!Dv["pan-y"],T=rv(x,Cv)&&!Dv["pan-x"];if(S){var E=1===c.pointers.length,O=c.distance<2,A=c.deltaTime<250;if(E&&O&&A)return}if(!T||!D)return S||D&&6&w||T&&w&Rv?this.preventSrc(g):void 0}},c.preventSrc=function(c){(this||C).manager.session.prevented=!0,c.preventDefault()},t}();function av(c,g){for(;c;){if(c===g)return!0;c=c.parentNode}return!1}function lv(c){var g=c.length;if(1===g)return{x:Zf(c[0].clientX),y:Zf(c[0].clientY)};for(var w=0,x=0,C=0;C<g;)w+=c[C].clientX,x+=c[C].clientY,C++;return{x:Zf(w/g),y:Zf(x/g)}}function hv(c){for(var g=[],w=0;w<c.pointers.length;)g[w]={clientX:Zf(c.pointers[w].clientX),clientY:Zf(c.pointers[w].clientY)},w++;return{timeStamp:tv(),pointers:g,center:lv(g),deltaX:c.deltaX,deltaY:c.deltaY}}function uv(c,g,w){w||(w=zv);var x=g[w[0]]-c[w[0]],C=g[w[1]]-c[w[1]];return Math.sqrt(x*x+C*C)}function cv(c,g,w){w||(w=zv);var x=g[w[0]]-c[w[0]],C=g[w[1]]-c[w[1]];return 180*Math.atan2(C,x)/Math.PI}function dv(c,g){return c===g?1:Qf(c)>=Qf(g)?c<0?2:4:g<0?8:Fv}function pv(c,g,w){return{x:g/c||0,y:w/c||0}}function mv(c,g){var w=c.session,x=g.pointers,C=x.length;w.firstInput||(w.firstInput=hv(g)),C>1&&!w.firstMultiple?w.firstMultiple=hv(g):1===C&&(w.firstMultiple=!1);var S=w.firstInput,D=w.firstMultiple,T=D?D.center:S.center,E=g.center=lv(x);g.timeStamp=tv(),g.deltaTime=g.timeStamp-S.timeStamp,g.angle=cv(T,E),g.distance=uv(T,E),function(c,g){var w=g.center,x=c.offsetDelta||{},C=c.prevDelta||{},S=c.prevInput||{};1!==g.eventType&&4!==S.eventType||(C=c.prevDelta={x:S.deltaX||0,y:S.deltaY||0},x=c.offsetDelta={x:w.x,y:w.y}),g.deltaX=C.x+(w.x-x.x),g.deltaY=C.y+(w.y-x.y)}(w,g),g.offsetDirection=dv(g.deltaX,g.deltaY);var O,A,P=pv(g.deltaTime,g.deltaX,g.deltaY);g.overallVelocityX=P.x,g.overallVelocityY=P.y,g.overallVelocity=Qf(P.x)>Qf(P.y)?P.x:P.y,g.scale=D?(O=D.pointers,uv((A=x)[0],A[1],Gv)/uv(O[0],O[1],Gv)):1,g.rotation=D?function(c,g){return cv(g[1],g[0],Gv)+cv(c[1],c[0],Gv)}(D.pointers,x):0,g.maxPointers=w.prevInput?g.pointers.length>w.prevInput.maxPointers?g.pointers.length:w.prevInput.maxPointers:g.pointers.length,function(c,g){var w,x,C,S,D=c.lastInterval||g,T=g.timeStamp-D.timeStamp;if(8!==g.eventType&&(T>25||void 0===D.velocity)){var E=g.deltaX-D.deltaX,O=g.deltaY-D.deltaY,A=pv(T,E,O);x=A.x,C=A.y,w=Qf(A.x)>Qf(A.y)?A.x:A.y,S=dv(E,O),c.lastInterval=g}else w=D.velocity,x=D.velocityX,C=D.velocityY,S=D.direction;g.velocity=w,g.velocityX=x,g.velocityY=C,g.direction=S}(w,g);var M,N=c.element,R=g.srcEvent;av(M=R.composedPath?R.composedPath()[0]:R.path?R.path[0]:R.target,N)&&(N=M),g.target=N}function fv(c,g,w){var x=w.pointers.length,C=w.changedPointers.length,S=1&g&&x-C==0,D=12&g&&x-C==0;w.isFirst=!!S,w.isFinal=!!D,S&&(c.session={}),w.eventType=g,mv(c,w),c.emit("hammer.input",w),c.recognize(w),c.session.prevInput=w}function vv(c){return c.trim().split(/\s+/g)}function gv(c,g,w){nv(vv(g),(function(g){c.addEventListener(g,w,!1)}))}function yv(c,g,w){nv(vv(g),(function(g){c.removeEventListener(g,w,!1)}))}function bv(c){var g=c.ownerDocument||c;return g.defaultView||g.parentWindow||window}var Xv=function(){function t(c,g){var w=this||C;(this||C).manager=c,(this||C).callback=g,(this||C).element=c.element,(this||C).target=c.options.inputTarget,(this||C).domHandler=function(g){ov(c.options.enable,[c])&&w.handler(g)},this.init()}var c=t.prototype;return c.handler=function(){},c.init=function(){(this||C).evEl&&gv((this||C).element,(this||C).evEl,(this||C).domHandler),(this||C).evTarget&&gv((this||C).target,(this||C).evTarget,(this||C).domHandler),(this||C).evWin&&gv(bv((this||C).element),(this||C).evWin,(this||C).domHandler)},c.destroy=function(){(this||C).evEl&&yv((this||C).element,(this||C).evEl,(this||C).domHandler),(this||C).evTarget&&yv((this||C).target,(this||C).evTarget,(this||C).domHandler),(this||C).evWin&&yv(bv((this||C).element),(this||C).evWin,(this||C).domHandler)},t}();function kv(c,g,w){if(c.indexOf&&!w)return c.indexOf(g);for(var x=0;x<c.length;){if(w&&c[x][w]==g||!w&&c[x]===g)return x;x++}return-1}var Uv={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},qv={2:Mv,3:"pen",4:Nv,5:"kinect"},$v="pointerdown",Jv="pointermove pointerup pointercancel";qf.MSPointerEvent&&!qf.PointerEvent&&($v="MSPointerDown",Jv="MSPointerMove MSPointerUp MSPointerCancel");var Zv=function(c){function e(){var g,w=e.prototype;return w.evEl=$v,w.evWin=Jv,(g=c.apply(this||C,arguments)||this||C).store=g.manager.session.pointerEvents=[],g}return Of(e,c),e.prototype.handler=function(c){var g=(this||C).store,w=!1,x=c.type.toLowerCase().replace("ms",""),S=Uv[x],D=qv[c.pointerType]||c.pointerType,T=D===Mv,E=kv(g,c.pointerId,"pointerId");1&S&&(0===c.button||T)?E<0&&(g.push(c),E=g.length-1):12&S&&(w=!0),E<0||(g[E]=c,this.callback((this||C).manager,S,{pointers:g,changedPointers:[c],pointerType:D,srcEvent:c}),w&&g.splice(E,1))},e}(Xv);function Tv(c){return Array.prototype.slice.call(c,0)}function Ev(c,g,w){for(var x=[],C=[],S=0;S<c.length;){var D=g?c[S][g]:c[S];kv(C,D)<0&&x.push(c[S]),C[S]=D,S++}return w&&(x=g?x.sort((function(c,w){return c[g]>w[g]})):x.sort()),x}var Qv={touchstart:1,touchmove:2,touchend:4,touchcancel:8},tg="touchstart touchmove touchend touchcancel",eg=function(c){function e(){var g;return e.prototype.evTarget=tg,(g=c.apply(this||C,arguments)||this||C).targetIds={},g}return Of(e,c),e.prototype.handler=function(c){var g=Qv[c.type],w=Pv.call(this||C,c,g);w&&this.callback((this||C).manager,g,{pointers:w[0],changedPointers:w[1],pointerType:Mv,srcEvent:c})},e}(Xv);function Pv(c,g){var w,x,S=Tv(c.touches),D=(this||C).targetIds;if(3&g&&1===S.length)return D[S[0].identifier]=!0,[S,S];var T=Tv(c.changedTouches),E=[],O=(this||C).target;if(x=S.filter((function(c){return av(c.target,O)})),1===g)for(w=0;w<x.length;)D[x[w].identifier]=!0,w++;for(w=0;w<T.length;)D[T[w].identifier]&&E.push(T[w]),12&g&&delete D[T[w].identifier],w++;return E.length?[Ev(x.concat(E),"identifier",!0),E]:void 0}var ig={mousedown:1,mousemove:2,mouseup:4},og="mousedown",rg="mousemove mouseup",sg=function(c){function e(){var g,w=e.prototype;return w.evEl=og,w.evWin=rg,(g=c.apply(this||C,arguments)||this||C).pressed=!1,g}return Of(e,c),e.prototype.handler=function(c){var g=ig[c.type];1&g&&0===c.button&&((this||C).pressed=!0),2&g&&1!==c.which&&(g=4),(this||C).pressed&&(4&g&&((this||C).pressed=!1),this.callback((this||C).manager,g,{pointers:[c],changedPointers:[c],pointerType:Nv,srcEvent:c}))},e}(Xv);function Lv(c){var g=c.changedPointers[0];if(g.identifier===(this||C).primaryTouch){var w={x:g.clientX,y:g.clientY},x=(this||C).lastTouches;(this||C).lastTouches.push(w);setTimeout((function(){var c=x.indexOf(w);c>-1&&x.splice(c,1)}),2500)}}function jv(c,g){1&c?((this||C).primaryTouch=g.changedPointers[0].identifier,Lv.call(this||C,g)):12&c&&Lv.call(this||C,g)}function Bv(c){for(var g=c.srcEvent.clientX,w=c.srcEvent.clientY,x=0;x<(this||C).lastTouches.length;x++){var S=(this||C).lastTouches[x],D=Math.abs(g-S.x),T=Math.abs(w-S.y);if(D<=25&&T<=25)return!0}return!1}var ag=function(){return function(c){function e(g,w){var x;return(x=c.call(this||C,g,w)||this||C).handler=function(c,g,w){var C=w.pointerType===Mv,S=w.pointerType===Nv;if(!(S&&w.sourceCapabilities&&w.sourceCapabilities.firesTouchEvents)){if(C)jv.call(Af(Af(x)),g,w);else if(S&&Bv.call(Af(Af(x)),w))return;x.callback(c,g,w)}},x.touch=new eg(x.manager,x.handler),x.mouse=new sg(x.manager,x.handler),x.primaryTouch=null,x.lastTouches=[],x}return Of(e,c),e.prototype.destroy=function(){(this||C).touch.destroy(),(this||C).mouse.destroy()},e}(Xv)}();function Hv(c,g,w){return!!Array.isArray(c)&&(nv(c,w[g],w),!0)}var lg=32,cg=1;function Yv(c,g){var w=g.manager;return w?w.get(c):c}function Vv(c){return 16&c?"cancel":8&c?"end":4&c?"move":2&c?"start":""}var dg=function(){function t(c){void 0===c&&(c={}),(this||C).options=Ef({enable:!0},c),(this||C).id=cg++,(this||C).manager=null,(this||C).state=1,(this||C).simultaneous={},(this||C).requireFail=[]}var c=t.prototype;return c.set=function(c){return Kf((this||C).options,c),(this||C).manager&&(this||C).manager.touchAction.update(),this||C},c.recognizeWith=function(c){if(Hv(c,"recognizeWith",this||C))return this||C;var g=(this||C).simultaneous;return g[(c=Yv(c,this||C)).id]||(g[c.id]=c,c.recognizeWith(this||C)),this||C},c.dropRecognizeWith=function(c){return Hv(c,"dropRecognizeWith",this||C)||(c=Yv(c,this||C),delete(this||C).simultaneous[c.id]),this||C},c.requireFailure=function(c){if(Hv(c,"requireFailure",this||C))return this||C;var g=(this||C).requireFail;return-1===kv(g,c=Yv(c,this||C))&&(g.push(c),c.requireFailure(this||C)),this||C},c.dropRequireFailure=function(c){if(Hv(c,"dropRequireFailure",this||C))return this||C;c=Yv(c,this||C);var g=kv((this||C).requireFail,c);return g>-1&&(this||C).requireFail.splice(g,1),this||C},c.hasRequireFailures=function(){return(this||C).requireFail.length>0},c.canRecognizeWith=function(c){return!!(this||C).simultaneous[c.id]},c.emit=function(c){var g=this||C,w=(this||C).state;function n(w){g.manager.emit(w,c)}w<8&&n(g.options.event+Vv(w)),n(g.options.event),c.additionalEvent&&n(c.additionalEvent),w>=8&&n(g.options.event+Vv(w))},c.tryEmit=function(c){if(this.canEmit())return this.emit(c);(this||C).state=lg},c.canEmit=function(){for(var c=0;c<(this||C).requireFail.length;){if(!(33&(this||C).requireFail[c].state))return!1;c++}return!0},c.recognize=function(c){var g=Kf({},c);if(!ov((this||C).options.enable,[this||C,g]))return this.reset(),void((this||C).state=lg);56&(this||C).state&&((this||C).state=1),(this||C).state=this.process(g),30&(this||C).state&&this.tryEmit(g)},c.process=function(c){},c.getTouchAction=function(){},c.reset=function(){},t}(),fg=function(c){function e(g){var w;return void 0===g&&(g={}),(w=c.call(this||C,Ef({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},g))||this||C).pTime=!1,w.pCenter=!1,w._timer=null,w._input=null,w.count=0,w}Of(e,c);var g=e.prototype;return g.getTouchAction=function(){return[_v]},g.process=function(c){var g=this||C,w=(this||C).options,x=c.pointers.length===w.pointers,S=c.distance<w.threshold,D=c.deltaTime<w.time;if(this.reset(),1&c.eventType&&0===(this||C).count)return this.failTimeout();if(S&&D&&x){if(4!==c.eventType)return this.failTimeout();var T=!(this||C).pTime||c.timeStamp-(this||C).pTime<w.interval,E=!(this||C).pCenter||uv((this||C).pCenter,c.center)<w.posThreshold;if((this||C).pTime=c.timeStamp,(this||C).pCenter=c.center,E&&T?(this||C).count+=1:(this||C).count=1,(this||C)._input=c,0===(this||C).count%w.taps)return this.hasRequireFailures()?((this||C)._timer=setTimeout((function(){g.state=8,g.tryEmit()}),w.interval),2):8}return lg},g.failTimeout=function(){var c=this||C;return(this||C)._timer=setTimeout((function(){c.state=lg}),(this||C).options.interval),lg},g.reset=function(){clearTimeout((this||C)._timer)},g.emit=function(){8===(this||C).state&&((this||C)._input.tapCount=(this||C).count,(this||C).manager.emit((this||C).options.event,(this||C)._input))},e}(dg),wg=function(c){function e(g){return void 0===g&&(g={}),c.call(this||C,Ef({pointers:1},g))||this||C}Of(e,c);var g=e.prototype;return g.attrTest=function(c){var g=(this||C).options.pointers;return 0===g||c.pointers.length===g},g.process=function(c){var g=(this||C).state,w=c.eventType,x=6&g,S=this.attrTest(c);return x&&(8&w||!S)?16|g:x||S?4&w?8|g:2&g?4|g:2:lg},e}(dg);function Kv(c){return c===Fv?"down":8===c?"up":2===c?"left":4===c?"right":""}var Tg=function(c){function e(g){var w;return void 0===g&&(g={}),(w=c.call(this||C,Ef({event:"pan",threshold:10,pointers:1,direction:30},g))||this||C).pX=null,w.pY=null,w}Of(e,c);var g=e.prototype;return g.getTouchAction=function(){var c=(this||C).options.direction,g=[];return 6&c&&g.push(Sv),c&Rv&&g.push(Cv),g},g.directionTest=function(c){var g=(this||C).options,w=!0,x=c.distance,S=c.direction,D=c.deltaX,T=c.deltaY;return S&g.direction||(6&g.direction?(S=0===D?1:D<0?2:4,w=D!==(this||C).pX,x=Math.abs(c.deltaX)):(S=0===T?1:T<0?8:Fv,w=T!==(this||C).pY,x=Math.abs(c.deltaY))),c.direction=S,w&&x>g.threshold&&S&g.direction},g.attrTest=function(c){return wg.prototype.attrTest.call(this||C,c)&&(2&(this||C).state||!(2&(this||C).state)&&this.directionTest(c))},g.emit=function(g){(this||C).pX=g.deltaX,(this||C).pY=g.deltaY;var w=Kv(g.direction);w&&(g.additionalEvent=(this||C).options.event+w),c.prototype.emit.call(this||C,g)},e}(wg),Og=function(c){function e(g){return void 0===g&&(g={}),c.call(this||C,Ef({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},g))||this||C}Of(e,c);var g=e.prototype;return g.getTouchAction=function(){return Tg.prototype.getTouchAction.call(this||C)},g.attrTest=function(g){var w,x=(this||C).options.direction;return 30&x?w=g.overallVelocity:6&x?w=g.overallVelocityX:x&Rv&&(w=g.overallVelocityY),c.prototype.attrTest.call(this||C,g)&&x&g.offsetDirection&&g.distance>(this||C).options.threshold&&g.maxPointers===(this||C).options.pointers&&Qf(w)>(this||C).options.velocity&&4&g.eventType},g.emit=function(c){var g=Kv(c.offsetDirection);g&&(this||C).manager.emit((this||C).options.event+g,c),(this||C).manager.emit((this||C).options.event,c)},e}(wg),Ag=function(c){function e(g){return void 0===g&&(g={}),c.call(this||C,Ef({event:"pinch",threshold:0,pointers:2},g))||this||C}Of(e,c);var g=e.prototype;return g.getTouchAction=function(){return[xv]},g.attrTest=function(g){return c.prototype.attrTest.call(this||C,g)&&(Math.abs(g.scale-1)>(this||C).options.threshold||2&(this||C).state)},g.emit=function(g){if(1!==g.scale){var w=g.scale<1?"in":"out";g.additionalEvent=(this||C).options.event+w}c.prototype.emit.call(this||C,g)},e}(wg),Ig=function(c){function e(g){return void 0===g&&(g={}),c.call(this||C,Ef({event:"rotate",threshold:0,pointers:2},g))||this||C}Of(e,c);var g=e.prototype;return g.getTouchAction=function(){return[xv]},g.attrTest=function(g){return c.prototype.attrTest.call(this||C,g)&&(Math.abs(g.rotation)>(this||C).options.threshold||2&(this||C).state)},e}(wg),Pg=function(c){function e(g){var w;return void 0===g&&(g={}),(w=c.call(this||C,Ef({event:"press",pointers:1,time:251,threshold:9},g))||this||C)._timer=null,w._input=null,w}Of(e,c);var g=e.prototype;return g.getTouchAction=function(){return[wv]},g.process=function(c){var g=this||C,w=(this||C).options,x=c.pointers.length===w.pointers,S=c.distance<w.threshold,D=c.deltaTime>w.time;if((this||C)._input=c,!S||!x||12&c.eventType&&!D)this.reset();else if(1&c.eventType)this.reset(),(this||C)._timer=setTimeout((function(){g.state=8,g.tryEmit()}),w.time);else if(4&c.eventType)return 8;return lg},g.reset=function(){clearTimeout((this||C)._timer)},g.emit=function(c){8===(this||C).state&&(c&&4&c.eventType?(this||C).manager.emit((this||C).options.event+"up",c):((this||C)._input.timeStamp=tv(),(this||C).manager.emit((this||C).options.event,(this||C)._input)))},e}(dg),Mg={domEvents:!1,touchAction:sv,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},jg=[[Ig,{enable:!1}],[Ag,{enable:!1},["rotate"]],[Og,{direction:6}],[Tg,{direction:6},["swipe"]],[fg],[fg,{event:"doubletap",taps:2},["tap"]],[Pg]];function ng(c,g){var w,x=c.element;x.style&&(nv(c.options.cssProps,(function(C,S){w=jf(x.style,S),g?(c.oldCssProps[w]=x.style[w],x.style[w]=C):x.style[w]=c.oldCssProps[w]||""})),g||(c.oldCssProps={}))}var Wg=function(){function t(c,g){var w,x=this||C;(this||C).options=Kf({},Mg,g||{}),(this||C).options.inputTarget=(this||C).options.inputTarget||c,(this||C).handlers={},(this||C).session={},(this||C).recognizers=[],(this||C).oldCssProps={},(this||C).element=c,(this||C).input=new((w=this||C).options.inputClass||(Av?Zv:Iv?eg:Ov?ag:sg))(w,fv),(this||C).touchAction=new Wv(this||C,(this||C).options.touchAction),ng(this||C,!0),nv((this||C).options.recognizers,(function(c){var g=x.add(new c[0](c[1]));c[2]&&g.recognizeWith(c[2]),c[3]&&g.requireFailure(c[3])}),this||C)}var c=t.prototype;return c.set=function(c){return Kf((this||C).options,c),c.touchAction&&(this||C).touchAction.update(),c.inputTarget&&((this||C).input.destroy(),(this||C).input.target=c.inputTarget,(this||C).input.init()),this||C},c.stop=function(c){(this||C).session.stopped=c?2:1},c.recognize=function(c){var g=(this||C).session;if(!g.stopped){var w;(this||C).touchAction.preventDefaults(c);var x=(this||C).recognizers,S=g.curRecognizer;(!S||S&&8&S.state)&&(g.curRecognizer=null,S=null);for(var D=0;D<x.length;)w=x[D],2===g.stopped||S&&w!==S&&!w.canRecognizeWith(S)?w.reset():w.recognize(c),!S&&14&w.state&&(g.curRecognizer=w,S=w),D++}},c.get=function(c){if(c instanceof dg)return c;for(var g=(this||C).recognizers,w=0;w<g.length;w++)if(g[w].options.event===c)return g[w];return null},c.add=function(c){if(Hv(c,"add",this||C))return this||C;var g=this.get(c.options.event);return g&&this.remove(g),(this||C).recognizers.push(c),c.manager=this||C,(this||C).touchAction.update(),c},c.remove=function(c){if(Hv(c,"remove",this||C))return this||C;var g=this.get(c);if(c){var w=(this||C).recognizers,x=kv(w,g);-1!==x&&(w.splice(x,1),(this||C).touchAction.update())}return this||C},c.on=function(c,g){if(void 0===c||void 0===g)return this||C;var w=(this||C).handlers;return nv(vv(c),(function(c){w[c]=w[c]||[],w[c].push(g)})),this||C},c.off=function(c,g){if(void 0===c)return this||C;var w=(this||C).handlers;return nv(vv(c),(function(c){g?w[c]&&w[c].splice(kv(w[c],g),1):delete w[c]})),this||C},c.emit=function(c,g){(this||C).options.domEvents&&function(c,g){var w=document.createEvent("Event");w.initEvent(c,!0,!0),w.gesture=g,g.target.dispatchEvent(w)}(c,g);var w=(this||C).handlers[c]&&(this||C).handlers[c].slice();if(w&&w.length){g.type=c,g.preventDefault=function(){g.srcEvent.preventDefault()};for(var x=0;x<w.length;)w[x](g),x++}},c.destroy=function(){(this||C).element&&ng(this||C,!1),(this||C).handlers={},(this||C).session={},(this||C).input.destroy(),(this||C).element=null},t}(),Yg={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ny="touchstart",oy="touchstart touchmove touchend touchcancel",sy=function(c){function e(){var g,w=e.prototype;return w.evTarget=ny,w.evWin=oy,(g=c.apply(this||C,arguments)||this||C).started=!1,g}return Of(e,c),e.prototype.handler=function(c){var g=Yg[c.type];if(1===g&&((this||C).started=!0),(this||C).started){var w=hg.call(this||C,c,g);12&g&&w[0].length-w[1].length==0&&((this||C).started=!1),this.callback((this||C).manager,g,{pointers:w[0],changedPointers:w[1],pointerType:Mv,srcEvent:c})}},e}(Xv);function hg(c,g){var w=Tv(c.touches),x=Tv(c.changedTouches);return 12&g&&(w=Ev(w.concat(x),"identifier",!0)),[w,x]}function ug(c,g,w){var x="DEPRECATED METHOD: "+g+"\n"+w+" AT \n";return function(){var g=new Error("get-stack-trace"),w=g&&g.stack?g.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",S=window.console&&(window.console.warn||window.console.log);return S&&S.call(window.console,x,w),c.apply(this||C,arguments)}}var ay=ug((function(c,g,w){for(var x=Object.keys(g),C=0;C<x.length;)(!w||w&&void 0===c[x[C]])&&(c[x[C]]=g[x[C]]),C++;return c}),"extend","Use `assign`."),ly=ug((function(c,g){return ay(c,g,!0)}),"merge","Use `assign`.");function pg(c,g,w){var x,C=g.prototype;(x=c.prototype=Object.create(C)).constructor=c,x._super=C,w&&Kf(x,w)}function mg(c,g){return function(){return c.apply(g,arguments)}}var hy=function(){var t=function(c,g){return void 0===g&&(g={}),new Wg(c,Ef({recognizers:jg.concat()},g))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=Fv,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=Rv,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=Fv,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=lg,t.Manager=Wg,t.Input=Xv,t.TouchAction=Wv,t.TouchInput=eg,t.MouseInput=sg,t.PointerEventInput=Zv,t.TouchMouseInput=ag,t.SingleTouchInput=sy,t.Recognizer=dg,t.AttrRecognizer=wg,t.Tap=fg,t.Pan=Tg,t.Swipe=Og,t.Pinch=Ag,t.Rotate=Ig,t.Press=Pg,t.on=gv,t.off=yv,t.each=nv,t.merge=ly,t.extend=ay,t.bindFn=mg,t.assign=Kf,t.inherit=pg,t.bindFn=mg,t.prefixed=jf,t.toArray=Tv,t.inArray=kv,t.uniqueArray=Ev,t.splitStr=vv,t.boolOrFn=ov,t.hasParent=av,t.addEventListeners=gv,t.removeEventListeners=yv,t.defaults=Kf({},Mg,{preset:jg}),t}();function vg(c,g){var w=Mc(c);if(Eu){var x=Eu(c);g&&(x=gu(x).call(x,(function(g){return Vu(c,g).enumerable}))),w.push.apply(w,x)}return w}function gg(c){for(var g=1;g<arguments.length;g++){var w,x=null!=arguments[g]?arguments[g]:{};if(g%2)hu(w=vg(Object(x),!0)).call(w,(function(g){Wu(c,g,x[g])}));else if(nc)ac(c,nc(x));else{var C;hu(C=vg(Object(x))).call(C,(function(g){Nc(c,g,Vu(x,g))}))}}return c}function yg(c,g){var w=void 0!==Ud&&yd(c)||c["@@iterator"];if(!w){if(eu(c)||(w=function(c,g){var w;if(c){if("string"==typeof c)return bg(c,g);var x=Qd(w=Object.prototype.toString.call(c)).call(w,8,-1);"Object"===x&&c.constructor&&(x=c.constructor.name);return"Map"===x||"Set"===x?gd(c):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?bg(c,g):void 0}}(c))||g&&c&&"number"==typeof c.length){w&&(c=w);var x=0,o=function(){};return{s:o,n:function(){return x>=c.length?{done:!0}:{done:!1,value:c[x++]}},e:function(c){throw c},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C,S=!0,D=!1;return{s:function(){w=w.call(c)},n:function(){var c=w.next();return S=c.done,c},e:function(c){D=!0,C=c},f:function(){try{S||null==w.return||w.return()}finally{if(D)throw C}}}}function bg(c,g){(null==g||g>c.length)&&(g=c.length);for(var w=0,x=new Array(g);w<g;w++)x[w]=c[w];return x}var uy=Ud("DELETE");function kg(){var c=_g.apply(void 0,arguments);return Cg(c),c}function _g(){for(var c=arguments.length,g=new Array(c),w=0;w<c;w++)g[w]=arguments[w];if(g.length<2)return g[0];var x;if(g.length>2)return _g.apply(void 0,Fd(x=[kg(g[0],g[1])]).call(x,Od(Qd(g).call(g,2))));var C,S=g[0],D=g[1],T=yg(tp(D));try{for(T.s();!(C=T.n()).done;){var E=C.value;Object.prototype.propertyIsEnumerable.call(D,E)&&(D[E]===uy?delete S[E]:null===S[E]||null===D[E]||"object"!==Sh(S[E])||"object"!==Sh(D[E])||eu(S[E])||eu(D[E])?S[E]=xg(D[E]):S[E]=_g(S[E],D[E]))}}catch(c){T.e(c)}finally{T.f()}return S}function xg(c){return eu(c)?Ku(c).call(c,(function(c){return xg(c)})):"object"===Sh(c)&&null!==c?_g({},c):c}function Cg(c){for(var g=0,w=Mc(c);g<w.length;g++){var x=w[g];c[x]===uy?delete c[x]:"object"===Sh(c[x])&&null!==c[x]&&Cg(c[x])}}function Dg(c){var g=Ed(function(){for(var c=Sg(),g=c(" "),w=c(" "),x=c(" "),C=0;C<arguments.length;C++)(g-=c(C<0||arguments.length<=C?void 0:arguments[C]))<0&&(g+=1),(w-=c(C<0||arguments.length<=C?void 0:arguments[C]))<0&&(w+=1),(x-=c(C<0||arguments.length<=C?void 0:arguments[C]))<0&&(x+=1);return[g,w,x]}(c),3),w=g[0],x=g[1],C=g[2],S=1,s=function(){var c=2091639*w+2.3283064365386963e-10*S;return w=x,x=C,C=c-(S=0|c)};return s.uint32=function(){return 4294967296*s()},s.fract53=function(){return s()+11102230246251565e-32*(2097152*s()|0)},s.algorithm="Alea",s.seed=c,s.version="0.9",s}function Sg(){var c=4022871197;return function(g){for(var w=g.toString(),x=0;x<w.length;x++){var C=.02519603282416938*(c+=w.charCodeAt(x));C-=c=C>>>0,c=(C*=c)>>>0,c+=4294967296*(C-=c)}return 2.3283064365386963e-10*(c>>>0)}}var cy="undefined"!=typeof window?window.Hammer||hy:function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}}}()};function Eg(c){var g,w=this||C;(this||C)._cleanupQueue=[],(this||C).active=!1,(this||C)._dom={container:c,overlay:document.createElement("div")},(this||C)._dom.overlay.classList.add("vis-overlay"),(this||C)._dom.container.appendChild((this||C)._dom.overlay),(this||C)._cleanupQueue.push((function(){w._dom.overlay.parentNode.removeChild(w._dom.overlay)}));var x=cy((this||C)._dom.overlay);x.on("tap",Gh(g=(this||C)._onTapOverlay).call(g,this||C)),(this||C)._cleanupQueue.push((function(){x.destroy()}));var S=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];hu(S).call(S,(function(c){x.on(c,(function(c){c.srcEvent.stopPropagation()}))})),document&&document.body&&((this||C)._onClick=function(g){(function(c,g){for(;c;){if(c===g)return!0;c=c.parentNode}return!1})(g.target,c)||w.deactivate()},document.body.addEventListener("click",(this||C)._onClick),(this||C)._cleanupQueue.push((function(){document.body.removeEventListener("click",w._onClick)}))),(this||C)._escListener=function(c){("key"in c?"Escape"===c.key:27===c.keyCode)&&w.deactivate()}}Uf(Eg.prototype),Eg.current=null,Eg.prototype.destroy=function(){var c,g;this.deactivate();var w,x=yg(Zd(c=vp(g=(this||C)._cleanupQueue).call(g,0)).call(c));try{for(x.s();!(w=x.n()).done;)(0,w.value)()}catch(c){x.e(c)}finally{x.f()}},Eg.prototype.activate=function(){Eg.current&&Eg.current.deactivate(),Eg.current=this||C,(this||C).active=!0,(this||C)._dom.overlay.style.display="none",(this||C)._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",(this||C)._escListener)},Eg.prototype.deactivate=function(){(this||C).active=!1,(this||C)._dom.overlay.style.display="block",(this||C)._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",(this||C)._escListener),this.emit("change"),this.emit("deactivate")},Eg.prototype._onTapOverlay=function(c){this.activate(),c.srcEvent.stopPropagation()};var dy=/^\/?Date\((-?\d+)/i,py=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,my=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,fy=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,vy=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Ng(c){return c instanceof Number||"number"==typeof c}function Fg(c){return c instanceof String||"string"==typeof c}function Rg(c){return"object"===Sh(c)&&null!==c}function Lg(c,g,w,x){var C=!1;!0===x&&(C=null===g[w]&&void 0!==c[w]),C?delete c[w]:c[w]=g[w]}var gy=Kp;function Bg(c,g){var w=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var C in g)if(Object.prototype.hasOwnProperty.call(g,C)||!0===w)if("object"===Sh(g[C])&&null!==g[C]&&vm(g[C])===Object.prototype)void 0===c[C]?c[C]=Bg({},g[C],w):"object"===Sh(c[C])&&null!==c[C]&&vm(c[C])===Object.prototype?Bg(c[C],g[C],w):Lg(c,g,C,x);else if(eu(g[C])){var S;c[C]=Qd(S=g[C]).call(S)}else Lg(c,g,C,x);return c}function zg(c){var g=Sh(c);return"object"===g?null===c?"null":c instanceof Boolean?"Boolean":c instanceof Number?"Number":c instanceof String?"String":eu(c)?"Array":c instanceof Date?"Date":"Object":"number"===g?"Number":"boolean"===g?"Boolean":"string"===g?"String":void 0===g?"undefined":g}function Hg(c,g){var w;return Fd(w=[]).call(w,Od(c),[g])}function Gg(c){return Qd(c).call(c)}var yy=Cm;var by={asBoolean:function(c,g){return"function"==typeof c&&(c=c()),null!=c?0!=c:g||null},asNumber:function(c,g){return"function"==typeof c&&(c=c()),null!=c?Number(c)||g||null:g||null},asString:function(c,g){return"function"==typeof c&&(c=c()),null!=c?String(c):g||null},asSize:function(c,g){return"function"==typeof c&&(c=c()),Fg(c)?c:Ng(c)?c+"px":g||null},asElement:function(c,g){return"function"==typeof c&&(c=c()),c||g||null}};function Vg(c){var g;switch(c.length){case 3:case 4:return(g=my.exec(c))?{r:Xm(g[1]+g[1],16),g:Xm(g[2]+g[2],16),b:Xm(g[3]+g[3],16)}:null;case 6:case 7:return(g=py.exec(c))?{r:Xm(g[1],16),g:Xm(g[2],16),b:Xm(g[3],16)}:null;default:return null}}function Ug(c,g,w){var x;return"#"+Qd(x=((1<<24)+(c<<16)+(g<<8)+w).toString(16)).call(x,1)}function Xg(c,g,w){c/=255,g/=255,w/=255;var x=Math.min(c,Math.min(g,w)),C=Math.max(c,Math.max(g,w));return x===C?{h:0,s:0,v:x}:{h:60*((c===x?3:w===x?1:5)-(c===x?g-w:w===x?c-g:w-c)/(C-x))/360,s:(C-x)/C,v:C}}var qg=function(c){var g,w={};return hu(g=c.split(";")).call(g,(function(c){if(""!=Km(c).call(c)){var g,x,C=c.split(":"),S=Km(g=C[0]).call(g),D=Km(x=C[1]).call(x);w[S]=D}})),w},Kg=function(c){var g;return Ku(g=Mc(c)).call(g,(function(g){return g+": "+c[g]})).join("; ")};function $g(c,g,w){var x,C,S,D=Math.floor(6*c),T=6*c-D,E=w*(1-g),O=w*(1-T*g),A=w*(1-(1-T)*g);switch(D%6){case 0:x=w,C=A,S=E;break;case 1:x=O,C=w,S=E;break;case 2:x=E,C=w,S=A;break;case 3:x=E,C=O,S=w;break;case 4:x=A,C=E,S=w;break;case 5:x=w,C=E,S=O}return{r:Math.floor(255*x),g:Math.floor(255*C),b:Math.floor(255*S)}}function Zg(c,g,w){var x=$g(c,g,w);return Ug(x.r,x.g,x.b)}function Qg(c){var g=Vg(c);if(!g)throw new TypeError("'".concat(c,"' is not a valid color."));return Xg(g.r,g.g,g.b)}function Jg(c){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(c)}function ty(c){return fy.test(c)}function ey(c){return vy.test(c)}function iy(c){if(null===c||"object"!==Sh(c))return null;if(c instanceof Element)return c;var g=mf(c);for(var w in c)Object.prototype.hasOwnProperty.call(c,w)&&"object"==Sh(c[w])&&(g[w]=iy(c[w]));return g}var wy={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},_y=function(){function t(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;bo(this||C,t),(this||C).pixelRatio=c,(this||C).generated=!1,(this||C).centerCoordinates={x:144.5,y:144.5},(this||C).r=289*.49,(this||C).color={r:255,g:255,b:255,a:1},(this||C).hueCircle=void 0,(this||C).initialColor={r:255,g:255,b:255,a:1},(this||C).previousColor=void 0,(this||C).applied=!1,(this||C).updateCallback=function(){},(this||C).closeCallback=function(){},this._create()}return So(t,[{key:"insertTo",value:function(c){void 0!==(this||C).hammer&&((this||C).hammer.destroy(),(this||C).hammer=void 0),(this||C).container=c,(this||C).container.appendChild((this||C).frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(c){if("function"!=typeof c)throw new Error("Function attempted to set as colorPicker update callback is not a function.");(this||C).updateCallback=c}},{key:"setCloseCallback",value:function(c){if("function"!=typeof c)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");(this||C).closeCallback=c}},{key:"_isColorString",value:function(c){if("string"==typeof c)return wy[c]}},{key:"setColor",value:function(c){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==c){var w,x=this._isColorString(c);if(void 0!==x&&(c=x),!0===Fg(c)){if(!0===ty(c)){var C=c.substr(4).substr(0,c.length-5).split(",");w={r:C[0],g:C[1],b:C[2],a:1}}else if(!0===ey(c)){var S=c.substr(5).substr(0,c.length-6).split(",");w={r:S[0],g:S[1],b:S[2],a:S[3]}}else if(!0===Jg(c)){var D=Vg(c);w={r:D.r,g:D.g,b:D.b,a:1}}}else if(c instanceof Object&&void 0!==c.r&&void 0!==c.g&&void 0!==c.b){var T=void 0!==c.a?c.a:"1.0";w={r:c.r,g:c.g,b:c.b,a:T}}if(void 0===w)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+gf(c));this._setColor(w,g)}}},{key:"show",value:function(){void 0!==(this||C).closeCallback&&(this.closeCallback(),(this||C).closeCallback=void 0),(this||C).applied=!1,(this||C).frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var c=this||C,g=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===g&&((this||C).previousColor=Kp({},(this||C).color)),!0===(this||C).applied&&this.updateCallback((this||C).initialColor),(this||C).frame.style.display="none",fu((function(){void 0!==c.closeCallback&&(c.closeCallback(),c.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback((this||C).color),(this||C).applied=!1,this._hide()}},{key:"_apply",value:function(){(this||C).applied=!0,this.updateCallback((this||C).color),this._updatePicker((this||C).color)}},{key:"_loadLast",value:function(){void 0!==(this||C).previousColor?this.setColor((this||C).previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(c){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===g&&((this||C).initialColor=Kp({},c)),(this||C).color=c;var w=Xg(c.r,c.g,c.b),x=2*Math.PI,S=(this||C).r*w.s,D=(this||C).centerCoordinates.x+S*Math.sin(x*w.h),T=(this||C).centerCoordinates.y+S*Math.cos(x*w.h);(this||C).colorPickerSelector.style.left=D-.5*(this||C).colorPickerSelector.clientWidth+"px",(this||C).colorPickerSelector.style.top=T-.5*(this||C).colorPickerSelector.clientHeight+"px",this._updatePicker(c)}},{key:"_setOpacity",value:function(c){(this||C).color.a=c/100,this._updatePicker((this||C).color)}},{key:"_setBrightness",value:function(c){var g=Xg((this||C).color.r,(this||C).color.g,(this||C).color.b);g.v=c/100;var w=$g(g.h,g.s,g.v);w.a=(this||C).color.a,(this||C).color=w,this._updatePicker()}},{key:"_updatePicker",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(this||C).color,g=Xg(c.r,c.g,c.b),w=(this||C).colorPickerCanvas.getContext("2d");void 0===(this||C).pixelRation&&((this||C).pixelRatio=(window.devicePixelRatio||1)/(w.webkitBackingStorePixelRatio||w.mozBackingStorePixelRatio||w.msBackingStorePixelRatio||w.oBackingStorePixelRatio||w.backingStorePixelRatio||1)),w.setTransform((this||C).pixelRatio,0,0,(this||C).pixelRatio,0,0);var x=(this||C).colorPickerCanvas.clientWidth,S=(this||C).colorPickerCanvas.clientHeight;w.clearRect(0,0,x,S),w.putImageData((this||C).hueCircle,0,0),w.fillStyle="rgba(0,0,0,"+(1-g.v)+")",w.circle((this||C).centerCoordinates.x,(this||C).centerCoordinates.y,(this||C).r),Df(w).call(w),(this||C).brightnessRange.value=100*g.v,(this||C).opacityRange.value=100*c.a,(this||C).initialColorDiv.style.backgroundColor="rgba("+(this||C).initialColor.r+","+(this||C).initialColor.g+","+(this||C).initialColor.b+","+(this||C).initialColor.a+")",(this||C).newColorDiv.style.backgroundColor="rgba("+(this||C).color.r+","+(this||C).color.g+","+(this||C).color.b+","+(this||C).color.a+")"}},{key:"_setSize",value:function(){(this||C).colorPickerCanvas.style.width="100%",(this||C).colorPickerCanvas.style.height="100%",(this||C).colorPickerCanvas.width=289*(this||C).pixelRatio,(this||C).colorPickerCanvas.height=289*(this||C).pixelRatio}},{key:"_create",value:function(){var c,g,w,x;if((this||C).frame=document.createElement("div"),(this||C).frame.className="vis-color-picker",(this||C).colorPickerDiv=document.createElement("div"),(this||C).colorPickerSelector=document.createElement("div"),(this||C).colorPickerSelector.className="vis-selector",(this||C).colorPickerDiv.appendChild((this||C).colorPickerSelector),(this||C).colorPickerCanvas=document.createElement("canvas"),(this||C).colorPickerDiv.appendChild((this||C).colorPickerCanvas),(this||C).colorPickerCanvas.getContext){var S=(this||C).colorPickerCanvas.getContext("2d");(this||C).pixelRatio=(window.devicePixelRatio||1)/(S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1),(this||C).colorPickerCanvas.getContext("2d").setTransform((this||C).pixelRatio,0,0,(this||C).pixelRatio,0,0)}else{var D=document.createElement("DIV");D.style.color="red",D.style.fontWeight="bold",D.style.padding="10px",D.innerText="Error: your browser does not support HTML canvas",(this||C).colorPickerCanvas.appendChild(D)}(this||C).colorPickerDiv.className="vis-color",(this||C).opacityDiv=document.createElement("div"),(this||C).opacityDiv.className="vis-opacity",(this||C).brightnessDiv=document.createElement("div"),(this||C).brightnessDiv.className="vis-brightness",(this||C).arrowDiv=document.createElement("div"),(this||C).arrowDiv.className="vis-arrow",(this||C).opacityRange=document.createElement("input");try{(this||C).opacityRange.type="range",(this||C).opacityRange.min="0",(this||C).opacityRange.max="100"}catch(c){}(this||C).opacityRange.value="100",(this||C).opacityRange.className="vis-range",(this||C).brightnessRange=document.createElement("input");try{(this||C).brightnessRange.type="range",(this||C).brightnessRange.min="0",(this||C).brightnessRange.max="100"}catch(c){}(this||C).brightnessRange.value="100",(this||C).brightnessRange.className="vis-range",(this||C).opacityDiv.appendChild((this||C).opacityRange),(this||C).brightnessDiv.appendChild((this||C).brightnessRange);var T=this||C;(this||C).opacityRange.onchange=function(){T._setOpacity((this||C).value)},(this||C).opacityRange.oninput=function(){T._setOpacity((this||C).value)},(this||C).brightnessRange.onchange=function(){T._setBrightness((this||C).value)},(this||C).brightnessRange.oninput=function(){T._setBrightness((this||C).value)},(this||C).brightnessLabel=document.createElement("div"),(this||C).brightnessLabel.className="vis-label vis-brightness",(this||C).brightnessLabel.innerText="brightness:",(this||C).opacityLabel=document.createElement("div"),(this||C).opacityLabel.className="vis-label vis-opacity",(this||C).opacityLabel.innerText="opacity:",(this||C).newColorDiv=document.createElement("div"),(this||C).newColorDiv.className="vis-new-color",(this||C).newColorDiv.innerText="new",(this||C).initialColorDiv=document.createElement("div"),(this||C).initialColorDiv.className="vis-initial-color",(this||C).initialColorDiv.innerText="initial",(this||C).cancelButton=document.createElement("div"),(this||C).cancelButton.className="vis-button vis-cancel",(this||C).cancelButton.innerText="cancel",(this||C).cancelButton.onclick=Gh(c=(this||C)._hide).call(c,this||C,!1),(this||C).applyButton=document.createElement("div"),(this||C).applyButton.className="vis-button vis-apply",(this||C).applyButton.innerText="apply",(this||C).applyButton.onclick=Gh(g=(this||C)._apply).call(g,this||C),(this||C).saveButton=document.createElement("div"),(this||C).saveButton.className="vis-button vis-save",(this||C).saveButton.innerText="save",(this||C).saveButton.onclick=Gh(w=(this||C)._save).call(w,this||C),(this||C).loadButton=document.createElement("div"),(this||C).loadButton.className="vis-button vis-load",(this||C).loadButton.innerText="load last",(this||C).loadButton.onclick=Gh(x=(this||C)._loadLast).call(x,this||C),(this||C).frame.appendChild((this||C).colorPickerDiv),(this||C).frame.appendChild((this||C).arrowDiv),(this||C).frame.appendChild((this||C).brightnessLabel),(this||C).frame.appendChild((this||C).brightnessDiv),(this||C).frame.appendChild((this||C).opacityLabel),(this||C).frame.appendChild((this||C).opacityDiv),(this||C).frame.appendChild((this||C).newColorDiv),(this||C).frame.appendChild((this||C).initialColorDiv),(this||C).frame.appendChild((this||C).cancelButton),(this||C).frame.appendChild((this||C).applyButton),(this||C).frame.appendChild((this||C).saveButton),(this||C).frame.appendChild((this||C).loadButton)}},{key:"_bindHammer",value:function(){var c=this||C;(this||C).drag={},(this||C).pinch={},(this||C).hammer=new cy((this||C).colorPickerCanvas),(this||C).hammer.get("pinch").set({enable:!0}),(this||C).hammer.on("hammer.input",(function(g){g.isFirst&&c._moveSelector(g)})),(this||C).hammer.on("tap",(function(g){c._moveSelector(g)})),(this||C).hammer.on("panstart",(function(g){c._moveSelector(g)})),(this||C).hammer.on("panmove",(function(g){c._moveSelector(g)})),(this||C).hammer.on("panend",(function(g){c._moveSelector(g)}))}},{key:"_generateHueCircle",value:function(){if(!1===(this||C).generated){var c=(this||C).colorPickerCanvas.getContext("2d");void 0===(this||C).pixelRation&&((this||C).pixelRatio=(window.devicePixelRatio||1)/(c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1)),c.setTransform((this||C).pixelRatio,0,0,(this||C).pixelRatio,0,0);var g,w,x,S,D=(this||C).colorPickerCanvas.clientWidth,T=(this||C).colorPickerCanvas.clientHeight;c.clearRect(0,0,D,T),(this||C).centerCoordinates={x:.5*D,y:.5*T},(this||C).r=.49*D;var E,O=2*Math.PI/360,A=1/(this||C).r;for(x=0;x<360;x++)for(S=0;S<(this||C).r;S++)g=(this||C).centerCoordinates.x+S*Math.sin(O*x),w=(this||C).centerCoordinates.y+S*Math.cos(O*x),E=$g(.002777777777777778*x,S*A,1),c.fillStyle="rgb("+E.r+","+E.g+","+E.b+")",c.fillRect(g-.5,w-.5,2,2);c.strokeStyle="rgba(0,0,0,1)",c.circle((this||C).centerCoordinates.x,(this||C).centerCoordinates.y,(this||C).r),c.stroke(),(this||C).hueCircle=c.getImageData(0,0,D,T)}(this||C).generated=!0}},{key:"_moveSelector",value:function(c){var g=(this||C).colorPickerDiv.getBoundingClientRect(),w=c.center.x-g.left,x=c.center.y-g.top,S=.5*(this||C).colorPickerDiv.clientHeight,D=.5*(this||C).colorPickerDiv.clientWidth,T=w-D,E=x-S,O=Math.atan2(T,E),A=.98*Math.min(Math.sqrt(T*T+E*E),D),P=Math.cos(O)*A+S,M=Math.sin(O)*A+D;(this||C).colorPickerSelector.style.top=P-.5*(this||C).colorPickerSelector.clientHeight+"px",(this||C).colorPickerSelector.style.left=M-.5*(this||C).colorPickerSelector.clientWidth+"px";var N=O/(2*Math.PI);N=N<0?N+1:N;var R=A/(this||C).r,L=Xg((this||C).color.r,(this||C).color.g,(this||C).color.b);L.h=N,L.s=R;var j=$g(L.h,L.s,L.v);j.a=(this||C).color.a,(this||C).color=j,(this||C).initialColorDiv.style.backgroundColor="rgba("+(this||C).initialColor.r+","+(this||C).initialColor.g+","+(this||C).initialColor.b+","+(this||C).initialColor.a+")",(this||C).newColorDiv.style.backgroundColor="rgba("+(this||C).color.r+","+(this||C).color.g+","+(this||C).color.b+","+(this||C).color.a+")"}}]),t}();function ry(){for(var c=arguments.length,g=new Array(c),w=0;w<c;w++)g[w]=arguments[w];if(g.length<1)throw new TypeError("Invalid arguments.");if(1===g.length)return document.createTextNode(g[0]);var x=document.createElement(g[0]);return x.appendChild(ry.apply(void 0,Od(Qd(g).call(g,1)))),x}var xy,Cy=function(){function t(c,g,w){var x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,S=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};bo(this||C,t),(this||C).parent=c,(this||C).changedOptions=[],(this||C).container=g,(this||C).allowCreation=!1,(this||C).hideOption=S,(this||C).options={},(this||C).initialized=!1,(this||C).popupCounter=0,(this||C).defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Kp((this||C).options,(this||C).defaultOptions),(this||C).configureOptions=w,(this||C).moduleOptions={},(this||C).domElements=[],(this||C).popupDiv={},(this||C).popupLimit=5,(this||C).popupHistory={},(this||C).colorPicker=new _y(x),(this||C).wrapper=void 0}return So(t,[{key:"setOptions",value:function(c){if(void 0!==c){(this||C).popupHistory={},this._removePopup();var g=!0;if("string"==typeof c)(this||C).options.filter=c;else if(eu(c))(this||C).options.filter=c.join();else if("object"===Sh(c)){if(null==c)throw new TypeError("options cannot be null");void 0!==c.container&&((this||C).options.container=c.container),void 0!==gu(c)&&((this||C).options.filter=gu(c)),void 0!==c.showButton&&((this||C).options.showButton=c.showButton),void 0!==c.enabled&&(g=c.enabled)}else"boolean"==typeof c?((this||C).options.filter=!0,g=c):"function"==typeof c&&((this||C).options.filter=c,g=!0);!1===gu((this||C).options)&&(g=!1),(this||C).options.enabled=g}this._clean()}},{key:"setModuleOptions",value:function(c){(this||C).moduleOptions=c,!0===(this||C).options.enabled&&(this._clean(),void 0!==(this||C).options.container&&((this||C).container=(this||C).options.container),this._create())}},{key:"_create",value:function(){this._clean(),(this||C).changedOptions=[];var c=gu((this||C).options),g=0,w=!1;for(var x in(this||C).configureOptions)Object.prototype.hasOwnProperty.call((this||C).configureOptions,x)&&((this||C).allowCreation=!1,w=!1,"function"==typeof c?w=(w=c(x,[]))||this._handleObject((this||C).configureOptions[x],[x],!0):!0!==c&&-1===zm(c).call(c,x)||(w=!0),!1!==w&&((this||C).allowCreation=!0,g>0&&this._makeItem([]),this._makeHeader(x),this._handleObject((this||C).configureOptions[x],[x])),g++);this._makeButton(),this._push()}},{key:"_push",value:function(){(this||C).wrapper=document.createElement("div"),(this||C).wrapper.className="vis-configuration-wrapper",(this||C).container.appendChild((this||C).wrapper);for(var c=0;c<(this||C).domElements.length;c++)(this||C).wrapper.appendChild((this||C).domElements[c]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var c=0;c<(this||C).domElements.length;c++)(this||C).wrapper.removeChild((this||C).domElements[c]);void 0!==(this||C).wrapper&&((this||C).container.removeChild((this||C).wrapper),(this||C).wrapper=void 0),(this||C).domElements=[],this._removePopup()}},{key:"_getValue",value:function(c){for(var g=(this||C).moduleOptions,w=0;w<c.length;w++){if(void 0===g[c[w]]){g=void 0;break}g=g[c[w]]}return g}},{key:"_makeItem",value:function(c){if(!0===(this||C).allowCreation){var g=document.createElement("div");g.className="vis-configuration vis-config-item vis-config-s"+c.length;for(var w=arguments.length,x=new Array(w>1?w-1:0),S=1;S<w;S++)x[S-1]=arguments[S];return hu(x).call(x,(function(c){g.appendChild(c)})),(this||C).domElements.push(g),(this||C).domElements.length}return 0}},{key:"_makeHeader",value:function(c){var g=document.createElement("div");g.className="vis-configuration vis-config-header",g.innerText=c,this._makeItem([],g)}},{key:"_makeLabel",value:function(c,g){var w=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=document.createElement("div");if(x.className="vis-configuration vis-config-label vis-config-s"+g.length,!0===w){for(;x.firstChild;)x.removeChild(x.firstChild);x.appendChild(ry("i","b",c))}else x.innerText=c+":";return x}},{key:"_makeDropdown",value:function(c,g,w){var x=document.createElement("select");x.className="vis-configuration vis-config-select";var S=0;void 0!==g&&-1!==zm(c).call(c,g)&&(S=zm(c).call(c,g));for(var D=0;D<c.length;D++){var T=document.createElement("option");T.value=c[D],D===S&&(T.selected="selected"),T.innerText=c[D],x.appendChild(T)}var E=this||C;x.onchange=function(){E._update((this||C).value,w)};var O=this._makeLabel(w[w.length-1],w);this._makeItem(w,O,x)}},{key:"_makeRange",value:function(c,g,w){var x=c[0],S=c[1],D=c[2],T=c[3],E=document.createElement("input");E.className="vis-configuration vis-config-range";try{E.type="range",E.min=S,E.max=D}catch(c){}E.step=T;var O="",A=0;if(void 0!==g){var P=1.2;g<0&&g*P<S?(E.min=Math.ceil(g*P),A=E.min,O="range increased"):g/P<S&&(E.min=Math.ceil(g/P),A=E.min,O="range increased"),g*P>D&&1!==D&&(E.max=Math.ceil(g*P),A=E.max,O="range increased"),E.value=g}else E.value=x;var M=document.createElement("input");M.className="vis-configuration vis-config-rangeinput",M.value=E.value;var N=this||C;E.onchange=function(){M.value=(this||C).value,N._update(Number((this||C).value),w)},E.oninput=function(){M.value=(this||C).value};var R=this._makeLabel(w[w.length-1],w),L=this._makeItem(w,R,E,M);""!==O&&(this||C).popupHistory[L]!==A&&((this||C).popupHistory[L]=A,this._setupPopup(O,L))}},{key:"_makeButton",value:function(){var c=this||C;if(!0===(this||C).options.showButton){var g=document.createElement("div");g.className="vis-configuration vis-config-button",g.innerText="generate options",g.onclick=function(){c._printOptions()},g.onmouseover=function(){g.className="vis-configuration vis-config-button hover"},g.onmouseout=function(){g.className="vis-configuration vis-config-button"},(this||C).optionsContainer=document.createElement("div"),(this||C).optionsContainer.className="vis-configuration vis-config-option-container",(this||C).domElements.push((this||C).optionsContainer),(this||C).domElements.push(g)}}},{key:"_setupPopup",value:function(c,g){var w=this||C;if(!0===(this||C).initialized&&!0===(this||C).allowCreation&&(this||C).popupCounter<(this||C).popupLimit){var x=document.createElement("div");x.id="vis-configuration-popup",x.className="vis-configuration-popup",x.innerText=c,x.onclick=function(){w._removePopup()},(this||C).popupCounter+=1,(this||C).popupDiv={html:x,index:g}}}},{key:"_removePopup",value:function(){void 0!==(this||C).popupDiv.html&&((this||C).popupDiv.html.parentNode.removeChild((this||C).popupDiv.html),clearTimeout((this||C).popupDiv.hideTimeout),clearTimeout((this||C).popupDiv.deleteTimeout),(this||C).popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var c=this||C;if(void 0!==(this||C).popupDiv.html){var g=(this||C).domElements[(this||C).popupDiv.index].getBoundingClientRect();(this||C).popupDiv.html.style.left=g.left+"px",(this||C).popupDiv.html.style.top=g.top-30+"px",document.body.appendChild((this||C).popupDiv.html),(this||C).popupDiv.hideTimeout=fu((function(){c.popupDiv.html.style.opacity=0}),1500),(this||C).popupDiv.deleteTimeout=fu((function(){c._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(c,g,w){var x=document.createElement("input");x.type="checkbox",x.className="vis-configuration vis-config-checkbox",x.checked=c,void 0!==g&&(x.checked=g,g!==c&&("object"===Sh(c)?g!==c.enabled&&(this||C).changedOptions.push({path:w,value:g}):(this||C).changedOptions.push({path:w,value:g})));var S=this||C;x.onchange=function(){S._update((this||C).checked,w)};var D=this._makeLabel(w[w.length-1],w);this._makeItem(w,D,x)}},{key:"_makeTextInput",value:function(c,g,w){var x=document.createElement("input");x.type="text",x.className="vis-configuration vis-config-text",x.value=g,g!==c&&(this||C).changedOptions.push({path:w,value:g});var S=this||C;x.onchange=function(){S._update((this||C).value,w)};var D=this._makeLabel(w[w.length-1],w);this._makeItem(w,D,x)}},{key:"_makeColorField",value:function(c,g,w){var x=this||C,S=c[1],D=document.createElement("div");"none"!==(g=void 0===g?S:g)?(D.className="vis-configuration vis-config-colorBlock",D.style.backgroundColor=g):D.className="vis-configuration vis-config-colorBlock none",g=void 0===g?S:g,D.onclick=function(){x._showColorPicker(g,D,w)};var T=this._makeLabel(w[w.length-1],w);this._makeItem(w,T,D)}},{key:"_showColorPicker",value:function(c,g,w){var x=this||C;g.onclick=function(){},(this||C).colorPicker.insertTo(g),(this||C).colorPicker.show(),(this||C).colorPicker.setColor(c),(this||C).colorPicker.setUpdateCallback((function(c){var C="rgba("+c.r+","+c.g+","+c.b+","+c.a+")";g.style.backgroundColor=C,x._update(C,w)})),(this||C).colorPicker.setCloseCallback((function(){g.onclick=function(){x._showColorPicker(c,g,w)}}))}},{key:"_handleObject",value:function(c){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],w=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=!1,S=gu((this||C).options),D=!1;for(var T in c)if(Object.prototype.hasOwnProperty.call(c,T)){x=!0;var E=c[T],O=Hg(g,T);if("function"==typeof S&&!1===(x=S(T,g))&&!eu(E)&&"string"!=typeof E&&"boolean"!=typeof E&&E instanceof Object&&((this||C).allowCreation=!1,x=this._handleObject(E,O,!0),(this||C).allowCreation=!1===w),!1!==x){D=!0;var A=this._getValue(O);if(eu(E))this._handleArray(E,A,O);else if("string"==typeof E)this._makeTextInput(E,A,O);else if("boolean"==typeof E)this._makeCheckbox(E,A,O);else if(E instanceof Object){if(!this.hideOption(g,T,(this||C).moduleOptions))if(void 0!==E.enabled){var P=Hg(O,"enabled"),M=this._getValue(P);if(!0===M){var N=this._makeLabel(T,O,!0);this._makeItem(O,N),D=this._handleObject(E,O)||D}else this._makeCheckbox(E,M,O)}else{var R=this._makeLabel(T,O,!0);this._makeItem(O,R),D=this._handleObject(E,O)||D}}else console.error("dont know how to handle",E,T,O)}}return D}},{key:"_handleArray",value:function(c,g,w){"string"==typeof c[0]&&"color"===c[0]?(this._makeColorField(c,g,w),c[1]!==g&&(this||C).changedOptions.push({path:w,value:g})):"string"==typeof c[0]?(this._makeDropdown(c,g,w),c[0]!==g&&(this||C).changedOptions.push({path:w,value:g})):"number"==typeof c[0]&&(this._makeRange(c,g,w),c[0]!==g&&(this||C).changedOptions.push({path:w,value:Number(g)}))}},{key:"_update",value:function(c,g){var w=this._constructOptions(c,g);(this||C).parent.body&&(this||C).parent.body.emitter&&(this||C).parent.body.emitter.emit&&(this||C).parent.body.emitter.emit("configChange",w),(this||C).initialized=!0,(this||C).parent.setOptions(w)}},{key:"_constructOptions",value:function(c,g){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},x=w;c="false"!==(c="true"===c||c)&&c;for(var C=0;C<g.length;C++)"global"!==g[C]&&(void 0===x[g[C]]&&(x[g[C]]={}),C!==g.length-1?x=x[g[C]]:x[g[C]]=c);return w}},{key:"_printOptions",value:function(){for(var c=this.getOptions();(this||C).optionsContainer.firstChild;)(this||C).optionsContainer.removeChild((this||C).optionsContainer.firstChild);(this||C).optionsContainer.appendChild(ry("pre","const options = "+gf(c,null,2)))}},{key:"getOptions",value:function(){for(var c={},g=0;g<(this||C).changedOptions.length;g++)this._constructOptions((this||C).changedOptions[g].value,(this||C).changedOptions[g].path,c);return c}}]),t}(),Ey=!1,Oy="background: #FFeeee; color: #dd0000",Ay=Eg,Iy=_y,Py=Cy,Ny=cy,Ry=function(){function t(c,g){bo(this||C,t),(this||C).container=c,(this||C).overflowMethod=g||"cap",(this||C).x=0,(this||C).y=0,(this||C).padding=5,(this||C).hidden=!1,(this||C).frame=document.createElement("div"),(this||C).frame.className="vis-tooltip",(this||C).container.appendChild((this||C).frame)}return So(t,[{key:"setPosition",value:function(c,g){(this||C).x=Xm(c),(this||C).y=Xm(g)}},{key:"setText",value:function(c){if(c instanceof Element){for(;(this||C).frame.firstChild;)(this||C).frame.removeChild((this||C).frame.firstChild);(this||C).frame.appendChild(c)}else(this||C).frame.innerText=c}},{key:"show",value:function(c){if(void 0===c&&(c=!0),!0===c){var g=(this||C).frame.clientHeight,w=(this||C).frame.clientWidth,x=(this||C).frame.parentNode.clientHeight,S=(this||C).frame.parentNode.clientWidth,D=0,T=0;if("flip"==(this||C).overflowMethod){var E=!1,O=!0;(this||C).y-g<(this||C).padding&&(O=!1),(this||C).x+w>S-(this||C).padding&&(E=!0),D=E?(this||C).x-w:(this||C).x,T=O?(this||C).y-g:(this||C).y}else(T=(this||C).y-g)+g+(this||C).padding>x&&(T=x-g-(this||C).padding),T<(this||C).padding&&(T=(this||C).padding),(D=(this||C).x)+w+(this||C).padding>S&&(D=S-w-(this||C).padding),D<(this||C).padding&&(D=(this||C).padding);(this||C).frame.style.left=D+"px",(this||C).frame.style.top=T+"px",(this||C).frame.style.visibility="visible",(this||C).hidden=!1}else this.hide()}},{key:"hide",value:function(){(this||C).hidden=!0,(this||C).frame.style.left="0",(this||C).frame.style.top="0",(this||C).frame.style.visibility="hidden"}},{key:"destroy",value:function(){(this||C).frame.parentNode.removeChild((this||C).frame)}}]),t}(),Ly=function(){function t(){bo(this||C,t)}return So(t,null,[{key:"validate",value:function(c,g,w){Ey=!1,xy=g;var x=g;return void 0!==w&&(x=g[w]),t.parse(c,x,[]),Ey}},{key:"parse",value:function(c,g,w){for(var x in c)Object.prototype.hasOwnProperty.call(c,x)&&t.check(x,c,g,w)}},{key:"check",value:function(c,g,w,x){if(void 0!==w[c]||void 0!==w.__any__){var C=c,S=!0;void 0===w[c]&&void 0!==w.__any__&&(C="__any__",S="object"===t.getType(g[c]));var D=w[C];S&&void 0!==D.__type__&&(D=D.__type__),t.checkFields(c,g,w,C,D,x)}else t.getSuggestion(c,w,x)}},{key:"checkFields",value:function(c,g,w,x,C,S){var a=function(g){console.error("%c"+g+t.printLocation(S,c),Oy)},D=t.getType(g[c]),T=C[D];void 0!==T?"array"===t.getType(T)&&-1===zm(T).call(T,g[c])?(a('Invalid option detected in "'+c+'". Allowed values are:'+t.print(T)+' not "'+g[c]+'". '),Ey=!0):"object"===D&&"__any__"!==x&&(S=Hg(S,c),t.parse(g[c],w[x],S)):void 0===C.any&&(a('Invalid type received for "'+c+'". Expected: '+t.print(Mc(C))+". Received ["+D+'] "'+g[c]+'"'),Ey=!0)}},{key:"getType",value:function(c){var g=Sh(c);return"object"===g?null===c?"null":c instanceof Boolean?"boolean":c instanceof Number?"number":c instanceof String?"string":eu(c)?"array":c instanceof Date?"date":void 0!==c.nodeType?"dom":!0===c._isAMomentObject?"moment":"object":"number"===g?"number":"boolean"===g?"boolean":"string"===g?"string":void 0===g?"undefined":g}},{key:"getSuggestion",value:function(c,g,w){var x,C=t.findInOptions(c,g,w,!1),S=t.findInOptions(c,xy,[],!0);x=void 0!==C.indexMatch?" in "+t.printLocation(C.path,c,"")+'Perhaps it was incomplete? Did you mean: "'+C.indexMatch+'"?\n\n':S.distance<=4&&C.distance>S.distance?" in "+t.printLocation(C.path,c,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(S.path,S.closestMatch,""):C.distance<=8?'. Did you mean "'+C.closestMatch+'"?'+t.printLocation(C.path,c):". Did you mean one of these: "+t.print(Mc(g))+t.printLocation(w,c),console.error('%cUnknown option detected: "'+c+'"'+x,Oy),Ey=!0}},{key:"findInOptions",value:function(c,g,w){var x=arguments.length>3&&void 0!==arguments[3]&&arguments[3],C=1e9,S="",D=[],T=c.toLowerCase(),E=void 0;for(var O in g){var A=void 0;if(void 0!==g[O].__type__&&!0===x){var P=t.findInOptions(c,g[O],Hg(w,O));C>P.distance&&(S=P.closestMatch,D=P.path,C=P.distance,E=P.indexMatch)}else{var M;-1!==zm(M=O.toLowerCase()).call(M,T)&&(E=O),C>(A=t.levenshteinDistance(c,O))&&(S=O,D=Gg(w),C=A)}}return{closestMatch:S,path:D,distance:C,indexMatch:E}}},{key:"printLocation",value:function(c,g){for(var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",x="\n\n"+w+"options = {\n",C=0;C<c.length;C++){for(var S=0;S<C+1;S++)x+="  ";x+=c[C]+": {\n"}for(var D=0;D<c.length+1;D++)x+="  ";x+=g+"\n";for(var T=0;T<c.length+1;T++){for(var E=0;E<c.length-T;E++)x+="  ";x+="}\n"}return x+"\n\n"}},{key:"print",value:function(c){return gf(c).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(c,g){if(0===c.length)return g.length;if(0===g.length)return c.length;var w,x,C=[];for(w=0;w<=g.length;w++)C[w]=[w];for(x=0;x<=c.length;x++)C[0][x]=x;for(w=1;w<=g.length;w++)for(x=1;x<=c.length;x++)g.charAt(w-1)==c.charAt(x-1)?C[w][x]=C[w-1][x-1]:C[w][x]=Math.min(C[w-1][x-1]+1,Math.min(C[w][x-1]+1,C[w-1][x]+1));return C[g.length][c.length]}}]),t}(),jy=Object.freeze({__proto__:null,Activator:Ay,Alea:function(){for(var c=arguments.length,g=new Array(c),w=0;w<c;w++)g[w]=arguments[w];return Dg(g.length?g:[rp()])},ColorPicker:Iy,Configurator:Py,DELETE:uy,HSVToHex:Zg,HSVToRGB:$g,Hammer:Ny,Popup:Ry,RGBToHSV:Xg,RGBToHex:Ug,VALIDATOR_PRINT_STYLE:"background: #FFeeee; color: #dd0000",Validator:Ly,addClassName:function(c,g){var w=c.className.split(" "),x=g.split(" ");w=Fd(w).call(w,gu(x).call(x,(function(c){return!Zp(w).call(w,c)}))),c.className=w.join(" ")},addCssText:function(c,g){var w=qg(c.style.cssText),x=qg(g),C=gg(gg({},w),x);c.style.cssText=Kg(C)},addEventListener:function(c,g,w,x){var C;c.addEventListener?(void 0===x&&(x=!1),"mousewheel"===g&&Zp(C=navigator.userAgent).call(C,"Firefox")&&(g="DOMMouseScroll"),c.addEventListener(g,w,x)):c.attachEvent("on"+g,w)},binarySearchCustom:function(c,g,w,x){for(var C=0,S=0,D=c.length-1;S<=D&&C<1e4;){var T=Math.floor((S+D)/2),E=c[T],O=g(void 0===x?E[w]:E[w][x]);if(0==O)return T;-1==O?S=T+1:D=T-1,C++}return-1},binarySearchValue:function(c,g,w,x,C){var S,D,T,E,O=0,A=0,P=c.length-1;for(C=null!=C?C:function(c,g){return c==g?0:c<g?-1:1};A<=P&&O<1e4;){if(E=Math.floor(.5*(P+A)),S=c[Math.max(0,E-1)][w],D=c[E][w],T=c[Math.min(c.length-1,E+1)][w],0==C(D,g))return E;if(C(S,g)<0&&C(D,g)>0)return"before"==x?Math.max(0,E-1):E;if(C(D,g)<0&&C(T,g)>0)return"before"==x?E:Math.min(c.length-1,E+1);C(D,g)<0?A=E+1:P=E-1,O++}return-1},bridgeObject:iy,copyAndExtendArray:Hg,copyArray:Gg,deepExtend:Bg,deepObjectAssign:kg,easingFunctions:{linear:function(c){return c},easeInQuad:function(c){return c*c},easeOutQuad:function(c){return c*(2-c)},easeInOutQuad:function(c){return c<.5?2*c*c:(4-2*c)*c-1},easeInCubic:function(c){return c*c*c},easeOutCubic:function(c){return--c*c*c+1},easeInOutCubic:function(c){return c<.5?4*c*c*c:(c-1)*(2*c-2)*(2*c-2)+1},easeInQuart:function(c){return c*c*c*c},easeOutQuart:function(c){return 1- --c*c*c*c},easeInOutQuart:function(c){return c<.5?8*c*c*c*c:1-8*--c*c*c*c},easeInQuint:function(c){return c*c*c*c*c},easeOutQuint:function(c){return 1+--c*c*c*c*c},easeInOutQuint:function(c){return c<.5?16*c*c*c*c*c:1+16*--c*c*c*c*c}},equalArray:function(c,g){if(c.length!==g.length)return!1;for(var w=0,x=c.length;w<x;w++)if(c[w]!=g[w])return!1;return!0},extend:gy,fillIfDefined:function t(c,g){var w=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var x in c)if(void 0!==g[x])if(null===g[x]||"object"!==Sh(g[x]))Lg(c,g,x,w);else{var C=c[x],S=g[x];Rg(C)&&Rg(S)&&t(C,S,w)}},forEach:function(c,g){if(eu(c))for(var w=c.length,x=0;x<w;x++)g(c[x],x,c);else for(var C in c)Object.prototype.hasOwnProperty.call(c,C)&&g(c[C],C,c)},getAbsoluteLeft:function(c){return c.getBoundingClientRect().left},getAbsoluteRight:function(c){return c.getBoundingClientRect().right},getAbsoluteTop:function(c){return c.getBoundingClientRect().top},getScrollBarWidth:function(){var c=document.createElement("p");c.style.width="100%",c.style.height="200px";var g=document.createElement("div");g.style.position="absolute",g.style.top="0px",g.style.left="0px",g.style.visibility="hidden",g.style.width="200px",g.style.height="150px",g.style.overflow="hidden",g.appendChild(c),document.body.appendChild(g);var w=c.offsetWidth;g.style.overflow="scroll";var x=c.offsetWidth;return w==x&&(x=g.clientWidth),document.body.removeChild(g),w-x},getTarget:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event,g=null;return c&&(c.target?g=c.target:c.srcElement&&(g=c.srcElement)),g instanceof Element&&(null==g.nodeType||3!=g.nodeType||(g=g.parentNode)instanceof Element)?g:null},getType:zg,hasParent:function(c,g){for(var w=c;w;){if(w===g)return!0;if(!w.parentNode)return!1;w=w.parentNode}return!1},hexToHSV:Qg,hexToRGB:Vg,insertSort:function(c,g){for(var w=0;w<c.length;w++){var x=c[w],C=void 0;for(C=w;C>0&&g(x,c[C-1])<0;C--)c[C]=c[C-1];c[C]=x}return c},isDate:function(c){if(c instanceof Date)return!0;if(Fg(c)){if(dy.exec(c))return!0;if(!isNaN(Date.parse(c)))return!0}return!1},isNumber:Ng,isObject:Rg,isString:Fg,isValidHex:Jg,isValidRGB:ty,isValidRGBA:ey,mergeOptions:function(c,g,w){var x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=function(c){return null!=c},r=function(c){return null!==c&&"object"===Sh(c)},s=function(c){for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g))return!1;return!0};if(!r(c))throw new Error("Parameter mergeTarget must be an object");if(!r(g))throw new Error("Parameter options must be an object");if(!o(w))throw new Error("Parameter option must have a value");if(!r(x))throw new Error("Parameter globalOptions must be an object");var a=function(c,g,w){r(c[w])||(c[w]={});var x=g[w],C=c[w];for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&(C[S]=x[S])},C=g[w],S=r(x)&&!s(x),D=S?x[w]:void 0,T=D?D.enabled:void 0;if(void 0!==C){if("boolean"==typeof C)return r(c[w])||(c[w]={}),void(c[w].enabled=C);if(null===C&&!r(c[w])){if(!o(D))return;c[w]=mf(D)}if(r(C)){var E=!0;void 0!==C.enabled?E=C.enabled:void 0!==T&&(E=D.enabled),a(c,g,w),c[w].enabled=E}}},option:by,overrideOpacity:function(c,g){if(Zp(c).call(c,"rgba"))return c;if(Zp(c).call(c,"rgb")){var w=c.substr(zm(c).call(c,"(")+1).replace(")","").split(",");return"rgba("+w[0]+","+w[1]+","+w[2]+","+g+")"}var x=Vg(c);return null==x?c:"rgba("+x.r+","+x.g+","+x.b+","+g+")"},parseColor:function(c,g){if(Fg(c)){var w=c;if(ty(w)){var x,C=Ku(x=w.substr(4).substr(0,w.length-5).split(",")).call(x,(function(c){return Xm(c)}));w=Ug(C[0],C[1],C[2])}if(!0===Jg(w)){var S=Qg(w),D={h:S.h,s:.8*S.s,v:Math.min(1,1.02*S.v)},T={h:S.h,s:Math.min(1,1.25*S.s),v:.8*S.v},E=Zg(T.h,T.s,T.v),O=Zg(D.h,D.s,D.v);return{background:w,border:E,highlight:{background:O,border:E},hover:{background:O,border:E}}}return{background:w,border:w,highlight:{background:w,border:w},hover:{background:w,border:w}}}return g?{background:c.background||g.background,border:c.border||g.border,highlight:Fg(c.highlight)?{border:c.highlight,background:c.highlight}:{background:c.highlight&&c.highlight.background||g.highlight.background,border:c.highlight&&c.highlight.border||g.highlight.border},hover:Fg(c.hover)?{border:c.hover,background:c.hover}:{border:c.hover&&c.hover.border||g.hover.border,background:c.hover&&c.hover.background||g.hover.background}}:{background:c.background||void 0,border:c.border||void 0,highlight:Fg(c.highlight)?{border:c.highlight,background:c.highlight}:{background:c.highlight&&c.highlight.background||void 0,border:c.highlight&&c.highlight.border||void 0},hover:Fg(c.hover)?{border:c.hover,background:c.hover}:{border:c.hover&&c.hover.border||void 0,background:c.hover&&c.hover.background||void 0}}},preventDefault:function(c){c||(c=window.event),c&&(c.preventDefault?c.preventDefault():c.returnValue=!1)},pureDeepObjectAssign:function(c){for(var g,w=arguments.length,x=new Array(w>1?w-1:0),C=1;C<w;C++)x[C-1]=arguments[C];return kg.apply(void 0,Fd(g=[{},c]).call(g,x))},recursiveDOMDelete:function t(c){if(c)for(;!0===c.hasChildNodes();){var g=c.firstChild;g&&(t(g),c.removeChild(g))}},removeClassName:function(c,g){var w=c.className.split(" "),x=g.split(" ");w=gu(w).call(w,(function(c){return!Zp(x).call(x,c)})),c.className=w.join(" ")},removeCssText:function(c,g){var w=qg(c.style.cssText),x=qg(g);for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&delete w[C];c.style.cssText=Kg(w)},removeEventListener:function(c,g,w,x){var C;c.removeEventListener?(void 0===x&&(x=!1),"mousewheel"===g&&Zp(C=navigator.userAgent).call(C,"Firefox")&&(g="DOMMouseScroll"),c.removeEventListener(g,w,x)):c.detachEvent("on"+g,w)},selectiveBridgeObject:function(c,g){if(null!==g&&"object"===Sh(g)){for(var w=mf(g),x=0;x<c.length;x++)Object.prototype.hasOwnProperty.call(g,c[x])&&"object"==Sh(g[c[x]])&&(w[c[x]]=iy(g[c[x]]));return w}return null},selectiveDeepExtend:function(c,g,w){var x=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(eu(w))throw new TypeError("Arrays are not supported by deepExtend");for(var C=0;C<c.length;C++){var S=c[C];if(Object.prototype.hasOwnProperty.call(w,S))if(w[S]&&w[S].constructor===Object)void 0===g[S]&&(g[S]={}),g[S].constructor===Object?Bg(g[S],w[S],!1,x):Lg(g,w,S,x);else{if(eu(w[S]))throw new TypeError("Arrays are not supported by deepExtend");Lg(g,w,S,x)}}return g},selectiveExtend:function(c,g){if(!eu(c))throw new Error("Array with property names expected as first argument");for(var w=arguments.length,x=new Array(w>2?w-2:0),C=2;C<w;C++)x[C-2]=arguments[C];for(var S=0,D=x;S<D.length;S++)for(var T=D[S],E=0;E<c.length;E++){var O=c[E];T&&Object.prototype.hasOwnProperty.call(T,O)&&(g[O]=T[O])}return g},selectiveNotDeepExtend:function(c,g,w){var x=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(eu(w))throw new TypeError("Arrays are not supported by deepExtend");for(var C in w)if(Object.prototype.hasOwnProperty.call(w,C)&&!Zp(c).call(c,C))if(w[C]&&w[C].constructor===Object)void 0===g[C]&&(g[C]={}),g[C].constructor===Object?Bg(g[C],w[C]):Lg(g,w,C,x);else if(eu(w[C])){g[C]=[];for(var S=0;S<w[C].length;S++)g[C].push(w[C][S])}else Lg(g,w,C,x);return g},throttle:function(c){var g=!1;return function(){g||(g=!0,requestAnimationFrame((function(){g=!1,c()})))}},toArray:yy,topMost:function(c,g){var w;eu(g)||(g=[g]);var x,C=yg(c);try{for(C.s();!(x=C.n()).done;){var S=x.value;if(S){w=S[g[0]];for(var D=1;D<g.length;D++)w&&(w=w[g[D]]);if(void 0!==w)break}}}catch(c){C.e(c)}finally{C.f()}return w},updateProperty:function(c,g,w){return c[g]!==w&&(c[g]=w,!0)}}),By={exports:{}},zy={},Hy={exports:{}},Gy={};function ky(){var c={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return c}var Wy=/javascript\s*\:/gim;Gy.whiteList=ky(),Gy.getDefaultWhiteList=ky,Gy.onAttr=function(c,g,w){},Gy.onIgnoreAttr=function(c,g,w){},Gy.safeAttrValue=function(c,g){return Wy.test(g)?"":g};var Vy={indexOf:function(c,g){var w,x;if(Array.prototype.indexOf)return c.indexOf(g);for(w=0,x=c.length;w<x;w++)if(c[w]===g)return w;return-1},forEach:function(c,g,w){var x,C;if(Array.prototype.forEach)return c.forEach(g,w);for(x=0,C=c.length;x<C;x++)g.call(w,c[x],x,c)},trim:function(c){return String.prototype.trim?c.trim():c.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(c){return String.prototype.trimRight?c.trimRight():c.replace(/(\s*$)/g,"")}};var Yy=Gy,Dy=function(c,g){";"!==(c=Vy.trimRight(c))[c.length-1]&&(c+=";");var w=c.length,x=!1,C=0,S=0,D="";function a(){if(!x){var w=Vy.trim(c.slice(C,S)),T=w.indexOf(":");if(-1!==T){var E=Vy.trim(w.slice(0,T)),O=Vy.trim(w.slice(T+1));if(E){var A=g(C,D.length,E,O,w);A&&(D+=A+"; ")}}}C=S+1}for(;S<w;S++){var T=c[S];if("/"===T&&"*"===c[S+1]){var E=c.indexOf("*/",S+2);if(-1===E)break;C=(S=E+1)+1,x=!1}else"("===T?x=!0:")"===T?x=!1:";"===T?x||a():"\n"===T&&a()}return Vy.trim(D)};function Sy(c){return null==c}function Ty(c){(c=function(c){var g={};for(var w in c)g[w]=c[w];return g}(c||{})).whiteList=c.whiteList||Yy.whiteList,c.onAttr=c.onAttr||Yy.onAttr,c.onIgnoreAttr=c.onIgnoreAttr||Yy.onIgnoreAttr,c.safeAttrValue=c.safeAttrValue||Yy.safeAttrValue,(this||C).options=c}Ty.prototype.process=function(c){if(!(c=(c=c||"").toString()))return"";var g=(this||C).options,w=g.whiteList,x=g.onAttr,S=g.onIgnoreAttr,D=g.safeAttrValue;return Dy(c,(function(c,g,C,T,E){var O=w[C],A=!1;if(!0===O?A=O:"function"==typeof O?A=O(T):O instanceof RegExp&&(A=O.test(T)),!0!==A&&(A=!1),T=D(C,T)){var P,M={position:g,sourcePosition:c,source:E,isWhite:A};return A?Sy(P=x(C,T,M))?C+":"+T:P:Sy(P=S(C,T,M))?void 0:P}}))};var Jy=Ty;!function(c,g){var w=Gy,x=Jy;for(var C in(g=c.exports=function(c,g){return new x(g).process(c)}).FilterCSS=x,w)g[C]=w[C];"undefined"!=typeof window&&(window.filterCSS=c.exports)}(Hy,Hy.exports);var tb={indexOf:function(c,g){var w,x;if(Array.prototype.indexOf)return c.indexOf(g);for(w=0,x=c.length;w<x;w++)if(c[w]===g)return w;return-1},forEach:function(c,g,w){var x,C;if(Array.prototype.forEach)return c.forEach(g,w);for(x=0,C=c.length;x<C;x++)g.call(w,c[x],x,c)},trim:function(c){return String.prototype.trim?c.trim():c.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(c){var g=/\s|\n|\t/.exec(c);return g?g.index:-1}},nb=Hy.exports.FilterCSS,ab=Hy.exports.getDefaultWhiteList,lb=tb;function My(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var hb=new nb;function Fy(c){return c.replace(ub,"&lt;").replace(cb,"&gt;")}var ub=/</g,cb=/>/g,db=/"/g,fb=/&quot;/g,vb=/&#([a-zA-Z0-9]*);?/gim,gb=/&colon;?/gim,yb=/&newline;?/gim,wb=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,kb=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Sb=/u\s*r\s*l\s*\(.*/gi;function Uy(c){return c.replace(db,"&quot;")}function Xy(c){return c.replace(fb,'"')}function qy(c){return c.replace(vb,(function(c,g){return"x"===g[0]||"X"===g[0]?String.fromCharCode(parseInt(g.substr(1),16)):String.fromCharCode(parseInt(g,10))}))}function Ky(c){return c.replace(gb,":").replace(yb," ")}function $y(c){for(var g="",w=0,x=c.length;w<x;w++)g+=c.charCodeAt(w)<32?" ":c.charAt(w);return lb.trim(g)}function Zy(c){return $y(c=Ky(c=qy(c=Xy(c))))}function Qy(c){return Fy(c=Uy(c))}zy.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},zy.getDefaultWhiteList=My,zy.onTag=function(c,g,w){},zy.onIgnoreTag=function(c,g,w){},zy.onTagAttr=function(c,g,w){},zy.onIgnoreTagAttr=function(c,g,w){},zy.safeAttrValue=function(c,g,w,x){if(w=Zy(w),"href"===g||"src"===g){if("#"===(w=lb.trim(w)))return"#";if("http://"!==w.substr(0,7)&&"https://"!==w.substr(0,8)&&"mailto:"!==w.substr(0,7)&&"tel:"!==w.substr(0,4)&&"data:image/"!==w.substr(0,11)&&"ftp://"!==w.substr(0,6)&&"./"!==w.substr(0,2)&&"../"!==w.substr(0,3)&&"#"!==w[0]&&"/"!==w[0])return""}else if("background"===g){if(wb.lastIndex=0,wb.test(w))return""}else if("style"===g){if(kb.lastIndex=0,kb.test(w))return"";if(Sb.lastIndex=0,Sb.test(w)&&(wb.lastIndex=0,wb.test(w)))return"";!1!==x&&(w=(x=x||hb).process(w))}return Qy(w)},zy.escapeHtml=Fy,zy.escapeQuote=Uy,zy.unescapeQuote=Xy,zy.escapeHtmlEntities=qy,zy.escapeDangerHtml5Entities=Ky,zy.clearNonPrintableCharacter=$y,zy.friendlyAttrValue=Zy,zy.escapeAttrValue=Qy,zy.onIgnoreTagStripAll=function(){return""},zy.StripTagBody=function(c,g){"function"!=typeof g&&(g=function(){});var w=!Array.isArray(c),x=[],C=!1;return{onIgnoreTag:function(S,D,T){if(function(g){return!!w||-1!==lb.indexOf(c,g)}(S)){if(T.isClosing){var E="[/removed]",O=T.position+E.length;return x.push([!1!==C?C:T.position,O]),C=!1,E}return C||(C=T.position),"[removed]"}return g(S,D,T)},remove:function(c){var g="",w=0;return lb.forEach(x,(function(x){g+=c.slice(w,x[0]),w=x[1]})),g+=c.slice(w)}}},zy.stripCommentTag=function(c){for(var g="",w=0;w<c.length;){var x=c.indexOf("\x3c!--",w);if(-1===x){g+=c.slice(w);break}g+=c.slice(w,x);var C=c.indexOf("--\x3e",x);if(-1===C)break;w=C+3}return g},zy.stripBlankChar=function(c){var g=c.split("");return(g=g.filter((function(c){var g=c.charCodeAt(0);return 127!==g&&(!(g<=31)||10===g||13===g)}))).join("")},zy.cssFilter=hb,zy.getDefaultCSSWhiteList=ab;var Tb={},Pb=tb;function eb(c){var g=Pb.spaceIndex(c);if(-1===g)var w=c.slice(1,-1);else w=c.slice(1,g+1);return"/"===(w=Pb.trim(w).toLowerCase()).slice(0,1)&&(w=w.slice(1)),"/"===w.slice(-1)&&(w=w.slice(0,-1)),w}function ib(c){return"</"===c.slice(0,2)}var Mb=/[^a-zA-Z0-9_:\.\-]/gim;function ob(c,g){for(;g<c.length;g++){var w=c[g];if(" "!==w)return"="===w?g:-1}}function rb(c,g){for(;g>0;g--){var w=c[g];if(" "!==w)return"="===w?g:-1}}function sb(c){return function(c){return'"'===c[0]&&'"'===c[c.length-1]||"'"===c[0]&&"'"===c[c.length-1]}(c)?c.substr(1,c.length-2):c}Tb.parseTag=function(c,g,w){var x="",C=0,S=!1,D=!1,T=0,E=c.length,O="",A="";t:for(T=0;T<E;T++){var P=c.charAt(T);if(!1===S){if("<"===P){S=T;continue}}else if(!1===D){if("<"===P){x+=w(c.slice(C,T)),S=T,C=T;continue}if(">"===P){x+=w(c.slice(C,S)),O=eb(A=c.slice(S,T+1)),x+=g(S,x.length,O,A,ib(A)),C=T+1,S=!1;continue}if('"'===P||"'"===P)for(var M=1,N=c.charAt(T-M);""===N.trim()||"="===N;){if("="===N){D=P;continue t}N=c.charAt(T-++M)}}else if(P===D){D=!1;continue}}return C<c.length&&(x+=w(c.substr(C))),x},Tb.parseAttr=function(c,g){var w=0,x=[],C=!1,S=c.length;function s(c,w){if(!((c=(c=Pb.trim(c)).replace(Mb,"").toLowerCase()).length<1)){var C=g(c,w||"");C&&x.push(C)}}for(var D=0;D<S;D++){var T,E=c.charAt(D);if(!1!==C||"="!==E)if(!1===C||D!==w||'"'!==E&&"'"!==E||"="!==c.charAt(D-1)){if(/\s|\n|\t/.test(E)){if(c=c.replace(/\s|\n|\t/g," "),!1===C){if(-1===(T=ob(c,D))){s(Pb.trim(c.slice(w,D))),C=!1,w=D+1;continue}D=T-1;continue}if(-1===(T=rb(c,D-1))){s(C,sb(Pb.trim(c.slice(w,D)))),C=!1,w=D+1;continue}}}else{if(-1===(T=c.indexOf(E,D+1)))break;s(C,Pb.trim(c.slice(w+1,T))),C=!1,w=(D=T)+1}else C=c.slice(w,D),w=D+1}return w<c.length&&(!1===C?s(c.slice(w)):s(C,sb(Pb.trim(c.slice(w))))),Pb.trim(x.join(" "))};var Nb=Hy.exports.FilterCSS,Fb=zy,Rb=Tb,Lb=Rb.parseTag,jb=Rb.parseAttr,Bb=tb;function pb(c){return null==c}function mb(c){(c=function(c){var g={};for(var w in c)g[w]=c[w];return g}(c||{})).stripIgnoreTag&&(c.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),c.onIgnoreTag=Fb.onIgnoreTagStripAll),c.whiteList=c.whiteList||Fb.whiteList,c.onTag=c.onTag||Fb.onTag,c.onTagAttr=c.onTagAttr||Fb.onTagAttr,c.onIgnoreTag=c.onIgnoreTag||Fb.onIgnoreTag,c.onIgnoreTagAttr=c.onIgnoreTagAttr||Fb.onIgnoreTagAttr,c.safeAttrValue=c.safeAttrValue||Fb.safeAttrValue,c.escapeHtml=c.escapeHtml||Fb.escapeHtml,(this||C).options=c,!1===c.css?(this||C).cssFilter=!1:(c.css=c.css||{},(this||C).cssFilter=new Nb(c.css))}mb.prototype.process=function(c){if(!(c=(c=c||"").toString()))return"";var g=(this||C).options,w=g.whiteList,x=g.onTag,S=g.onIgnoreTag,D=g.onTagAttr,T=g.onIgnoreTagAttr,E=g.safeAttrValue,O=g.escapeHtml,A=(this||C).cssFilter;g.stripBlankChar&&(c=Fb.stripBlankChar(c)),g.allowCommentTag||(c=Fb.stripCommentTag(c));var P=!1;if(g.stripIgnoreTagBody){P=Fb.StripTagBody(g.stripIgnoreTagBody,S);S=P.onIgnoreTag}var M=Lb(c,(function(c,g,C,P,M){var N,R={sourcePosition:c,position:g,isClosing:M,isWhite:w.hasOwnProperty(C)};if(!pb(N=x(C,P,R)))return N;if(R.isWhite){if(R.isClosing)return"</"+C+">";var L=function(c){var g=Bb.spaceIndex(c);if(-1===g)return{html:"",closing:"/"===c[c.length-2]};var w="/"===(c=Bb.trim(c.slice(g+1,-1)))[c.length-1];return w&&(c=Bb.trim(c.slice(0,-1))),{html:c,closing:w}}(P),j=w[C],B=jb(L.html,(function(c,g){var w,x=-1!==Bb.indexOf(j,c);return pb(w=D(C,c,g,x))?x?(g=E(C,c,g,A))?c+'="'+g+'"':c:pb(w=T(C,c,g,x))?void 0:w:w}));P="<"+C;return B&&(P+=" "+B),L.closing&&(P+=" /"),P+">"}return pb(N=S(C,P,R))?O(P):N}),O);return P&&(M=P.remove(M)),M};var zb=mb;!function(c,g){var w=zy,x=Tb,C=zb;function r(c,g){return new C(g).process(c)}for(var S in(g=c.exports=r).filterXSS=r,g.FilterXSS=C,w)g[S]=w[S];for(var S in x)g[S]=x[S];"undefined"!=typeof window&&(window.filterXSS=c.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=c.exports)}(By,By.exports);var Hb=By.exports,Gb="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),Wb=new Uint8Array(16);function bb(){if(!Gb)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gb(Wb)}for(var Vb=[],Yb=0;Yb<256;++Yb)Vb[Yb]=(Yb+256).toString(16).substr(1);function _b(c,g,w){var x=g&&w||0;"string"==typeof c&&(g="binary"===c?new Array(16):null,c=null);var C=(c=c||{}).random||(c.rng||bb)();if(C[6]=15&C[6]|64,C[8]=63&C[8]|128,g)for(var S=0;S<16;++S)g[x+S]=C[S];return g||function(c,g){var w=g||0,x=Vb;return[x[c[w++]],x[c[w++]],x[c[w++]],x[c[w++]],"-",x[c[w++]],x[c[w++]],"-",x[c[w++]],x[c[w++]],"-",x[c[w++]],x[c[w++]],"-",x[c[w++]],x[c[w++]],x[c[w++]],x[c[w++]],x[c[w++]],x[c[w++]]].join("")}(C)}function xb(c,g){var w=Mc(c);if(Eu){var x=Eu(c);g&&(x=gu(x).call(x,(function(g){return Vu(c,g).enumerable}))),w.push.apply(w,x)}return w}function Cb(c){for(var g=1;g<arguments.length;g++){var w,x=null!=arguments[g]?arguments[g]:{};if(g%2)hu(w=xb(Object(x),!0)).call(w,(function(g){Wu(c,g,x[g])}));else if(nc)ac(c,nc(x));else{var C;hu(C=xb(Object(x))).call(C,(function(g){Nc(c,g,Vu(x,g))}))}}return c}function Db(c){var g;if(!c)return!1;var x=null!==(g=c.idProp)&&void 0!==g?g:c._idProp;return!!x&&w.isDataViewLike(x,c)}var Xb=/^\/?Date\((-?\d+)/i,Ub=/^\d+$/;function Eb(c,g){var w;if(void 0!==c){if(null===c)return null;if(!g)return c;if("string"!=typeof g&&!(g instanceof String))throw new Error("Type must be a string");switch(g){case"boolean":case"Boolean":return Boolean(c);case"number":case"Number":return Fg(c)&&!isNaN(Date.parse(c))?x.default(c).valueOf():Number(c.valueOf());case"string":case"String":return String(c);case"Date":try{return Eb(c,"Moment").toDate()}catch(w){throw w instanceof TypeError?new TypeError("Cannot convert object of type "+zg(c)+" to type "+g):w}case"Moment":if(Ng(c))return x.default(c);if(c instanceof Date)return x.default(c.valueOf());if(x.default.isMoment(c))return x.default(c);if(Fg(c))return(w=Xb.exec(c))?x.default(Number(w[1])):(w=Ub.exec(c))?x.default(Number(c)):x.default(c);throw new TypeError("Cannot convert object of type "+zg(c)+" to type "+g);case"ISODate":if(Ng(c))return new Date(c);if(c instanceof Date)return c.toISOString();if(x.default.isMoment(c))return c.toDate().toISOString();if(Fg(c))return(w=Xb.exec(c))?new Date(Number(w[1])).toISOString():x.default(c).format();throw new Error("Cannot convert object of type "+zg(c)+" to type ISODate");case"ASPDate":if(Ng(c))return"/Date("+c+")/";if(c instanceof Date||x.default.isMoment(c))return"/Date("+c.valueOf()+")/";if(Fg(c))return"/Date("+((w=Xb.exec(c))?new Date(Number(w[1])).valueOf():new Date(c).valueOf())+")/";throw new Error("Cannot convert object of type "+zg(c)+" to type ASPDate");default:throw new Error("Unknown type ".concat(g))}}}function Ob(c){var g,x,C,S,D,T,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{start:"Date",end:"Date"},O=c._idProp,A=new w.DataSet({fieldId:O}),P=Ku(g=w.createNewDataPipeFrom(c)).call(g,(function(c){var g;return cc(g=Mc(c)).call(g,(function(g,w){return g[w]=Eb(c[w],E[w]),g}),{})})).to(A);return P.all().start(),{add:function(){var g;return(g=c.getDataSet()).add.apply(g,arguments)},remove:function(){var g;return(g=c.getDataSet()).remove.apply(g,arguments)},update:function(){var g;return(g=c.getDataSet()).update.apply(g,arguments)},updateOnly:function(){var g;return(g=c.getDataSet()).updateOnly.apply(g,arguments)},clear:function(){var g;return(g=c.getDataSet()).clear.apply(g,arguments)},forEach:Gh(x=hu(A)).call(x,A),get:Gh(C=A.get).call(C,A),getIds:Gh(S=A.getIds).call(S,A),off:Gh(D=A.off).call(D,A),on:Gh(T=A.on).call(T,A),get length(){return A.length},idProp:O,type:E,rawDS:c,coercedDS:A,dispose:function(){return P.stop()}}}var Ab=function(c){var g=new Hb.FilterXSS(c);return function(c){return g.process(c)}},Ib=function(c){return c},qb=Ab(),Kb=Cb(Cb({},jy),{},{convert:Eb,setupXSSProtection:function(c){c&&(!0===c.disabled?(qb=Ib,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):c.filterOptions&&(qb=Ab(c.filterOptions)))}});Nc(Kb,"xss",{get:function(){return qb}});var $b=D,Zb=k,Qb=Dr,tw=Pm.trim,ew=j("".charAt),rw=$b.parseFloat,sw=$b.Symbol,aw=sw&&sw.iterator,lw=1/rw("\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff-0")!=-1/0||aw&&!Zb((function(){rw(Object(aw))}))?function(c){var g=tw(Qb(c)),w=rw(g);return 0===w&&"-"==ew(g,0)?-0:w}:rw;gi({global:!0,forced:parseFloat!=lw},{parseFloat:lw});var hw=pt.parseFloat,uw=function(){function t(c,g){bo(this||C,t),(this||C).options=null,(this||C).props=null}return So(t,[{key:"setOptions",value:function(c){c&&Kb.extend((this||C).options,c)}},{key:"redraw",value:function(){return!1}},{key:"destroy",value:function(){}},{key:"_isResized",value:function(){var c=(this||C).props._previousWidth!==(this||C).props.width||(this||C).props._previousHeight!==(this||C).props.height;return(this||C).props._previousWidth=(this||C).props.width,(this||C).props._previousHeight=(this||C).props.height,c}}]),t}(),cw=un,dw=Dr,pw=W,mw=D.RangeError;gi({target:"String",proto:!0},{repeat:function(c){var g=dw(pw(this||C)),w="",x=cw(c);if(x<0||x==1/0)throw mw("Wrong number of repetitions");for(;x>0;(x>>>=1)&&(g+=g))1&x&&(w+=g);return w}});var fw=Lh("String").repeat,vw=gt,gw=fw,yw=String.prototype,Jb=function(c){var g=c.repeat;return"string"==typeof c||c===yw||vw(yw,c)&&g===yw.repeat?gw:g},bw=Fi,ww=Math.floor,iw=function(c,g){var w=c.length,x=ww(w/2);return w<8?nw(c,g):ow(c,iw(bw(c,0,x),g),iw(bw(c,x),g),g)},nw=function(c,g){for(var w,x,C=c.length,S=1;S<C;){for(x=S,w=c[S];x&&g(c[x-1],w)>0;)c[x]=c[--x];x!==S++&&(c[x]=w)}return c},ow=function(c,g,w,x){for(var C=g.length,S=w.length,D=0,T=0;D<C||T<S;)c[D+T]=D<C&&T<S?x(g[D],w[T])<=0?g[D++]:w[T++]:D<C?g[D++]:w[T++];return c},kw=iw,_w=yt.match(/firefox\/(\d+)/i),xw=!!_w&&+_w[1],Cw=/MSIE|Trident/.test(yt),Sw=yt.match(/AppleWebKit\/(\d+)\./),Dw=!!Sw&&+Sw[1],Tw=gi,Ew=j,Ow=Dt,Aw=Ht,Iw=yn,Pw=Dr,Mw=k,Nw=kw,Kw=Jh,Jw=xw,Zw=Cw,tk=Et,ek=Dw,ik=[],nk=Ew(ik.sort),ok=Ew(ik.push),sk=Mw((function(){ik.sort(void 0)})),ak=Mw((function(){ik.sort(null)})),lk=Kw("sort"),uk=!Mw((function(){if(tk)return tk<70;if(!(Jw&&Jw>3)){if(Zw)return!0;if(ek)return ek<603;var c,g,w,x,C="";for(c=65;c<76;c++){switch(g=String.fromCharCode(c),c){case 66:case 69:case 70:case 72:w=3;break;case 68:case 71:w=4;break;default:w=2}for(x=0;x<47;x++)ik.push({k:g+x,v:w})}for(ik.sort((function(c,g){return g.v-c.v})),x=0;x<ik.length;x++)g=ik[x].k.charAt(0),C.charAt(C.length-1)!==g&&(C+=g);return"DGBEFHACIJK"!==C}}));Tw({target:"Array",proto:!0,forced:sk||!ak||!lk||!uk},{sort:function(c){void 0!==c&&Ow(c);var g=Aw(this||C);if(uk)return void 0===c?nk(g):nk(g,c);var w,x,S=[],D=Iw(g);for(x=0;x<D;x++)x in g&&ok(S,g[x]);for(Nw(S,function(c){return function(g,w){return void 0===w?-1:void 0===g?1:void 0!==c?+c(g,w)||0:Pw(g)>Pw(w)?1:-1}}(c)),w=S.length,x=0;x<w;)g[x]=S[x++];for(;x<D;)delete g[x++];return g}});var dk=Lh("Array").sort,pk=gt,fk=dk,vk=Array.prototype,Fw=function(c){var g=c.sort;return c===vk||pk(vk,c)&&g===vk.sort?fk:g};function Rw(c,g,w){if(w&&!eu(w))return Rw(c,g,[w]);if(g.hiddenDates=[],w&&1==eu(w)){for(var x,C=0;C<w.length;C++)if(void 0===Jb(w[C])){var S={};S.start=c(w[C].start).toDate().valueOf(),S.end=c(w[C].end).toDate().valueOf(),g.hiddenDates.push(S)}Fw(x=g.hiddenDates).call(x,(function(c,g){return c.start-g.start}))}}function Lw(c,g,w){if(w&&!eu(w))return Lw(c,g,[w]);if(w&&void 0!==g.domProps.centerContainer.width){Rw(c,g,w);for(var x=c(g.range.start),C=c(g.range.end),S=(g.range.end-g.range.start)/g.domProps.centerContainer.width,D=0;D<w.length;D++)if(void 0!==Jb(w[D])){var T=c(w[D].start),E=c(w[D].end);if("Invalid Date"==T._d)throw new Error("Supplied start date is not valid: ".concat(w[D].start));if("Invalid Date"==E._d)throw new Error("Supplied end date is not valid: ".concat(w[D].end));if(E-T>=4*S){var O=0,A=C.clone();switch(Jb(w[D])){case"daily":T.day()!=E.day()&&(O=1),T.dayOfYear(x.dayOfYear()),T.year(x.year()),T.subtract(7,"days"),E.dayOfYear(x.dayOfYear()),E.year(x.year()),E.subtract(7-O,"days"),A.add(1,"weeks");break;case"weekly":var P=E.diff(T,"days"),M=T.day();T.date(x.date()),T.month(x.month()),T.year(x.year()),E=T.clone(),T.day(M),E.day(M),E.add(P,"days"),T.subtract(1,"weeks"),E.subtract(1,"weeks"),A.add(1,"weeks");break;case"monthly":T.month()!=E.month()&&(O=1),T.month(x.month()),T.year(x.year()),T.subtract(1,"months"),E.month(x.month()),E.year(x.year()),E.subtract(1,"months"),E.add(O,"months"),A.add(1,"months");break;case"yearly":T.year()!=E.year()&&(O=1),T.year(x.year()),T.subtract(1,"years"),E.year(x.year()),E.subtract(1,"years"),E.add(O,"years"),A.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",Jb(w[D]))}for(;T<A;)switch(g.hiddenDates.push({start:T.valueOf(),end:E.valueOf()}),Jb(w[D])){case"daily":T.add(1,"days"),E.add(1,"days");break;case"weekly":T.add(1,"weeks"),E.add(1,"weeks");break;case"monthly":T.add(1,"months"),E.add(1,"months");break;case"yearly":T.add(1,"y"),E.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",Jb(w[D]))}g.hiddenDates.push({start:T.valueOf(),end:E.valueOf()})}}jw(g);var N=qw(g.range.start,g.hiddenDates),R=qw(g.range.end,g.hiddenDates),L=g.range.start,j=g.range.end;1==N.hidden&&(L=1==g.range.startToFront?N.startDate-1:N.endDate+1),1==R.hidden&&(j=1==g.range.endToFront?R.startDate-1:R.endDate+1),1!=N.hidden&&1!=R.hidden||g.range._applyRange(L,j)}}function jw(c){for(var g,w=c.hiddenDates,x=[],C=0;C<w.length;C++)for(var S=0;S<w.length;S++)C!=S&&1!=w[S].remove&&1!=w[C].remove&&(w[S].start>=w[C].start&&w[S].end<=w[C].end?w[S].remove=!0:w[S].start>=w[C].start&&w[S].start<=w[C].end?(w[C].end=w[S].end,w[S].remove=!0):w[S].end>=w[C].start&&w[S].end<=w[C].end&&(w[C].start=w[S].start,w[S].remove=!0));for(C=0;C<w.length;C++)!0!==w[C].remove&&x.push(w[C]);c.hiddenDates=x,Fw(g=c.hiddenDates).call(g,(function(c,g){return c.start-g.start}))}function Bw(c,g,w){for(var x=!1,C=g.current.valueOf(),S=0;S<g.hiddenDates.length;S++){var D=g.hiddenDates[S].start,T=g.hiddenDates[S].end;if(C>=D&&C<T){x=!0;break}}if(1==x&&C<g._end.valueOf()&&C!=w){var E=c(w),O=c(T);E.year()!=O.year()?g.switchedYear=!0:E.month()!=O.month()?g.switchedMonth=!0:E.dayOfYear()!=O.dayOfYear()&&(g.switchedDay=!0),g.current=O}}function zw(c,g,w){var x;if(0==c.body.hiddenDates.length)return x=c.range.conversion(w),(g.valueOf()-x.offset)*x.scale;var C=qw(g,c.body.hiddenDates);1==C.hidden&&(g=C.startDate);var S=Gw(c.body.hiddenDates,c.range.start,c.range.end);if(g<c.range.start){x=c.range.conversion(w,S);var D=Ww(c.body.hiddenDates,g,x.offset);return g=c.options.moment(g).toDate().valueOf(),g+=D,-(x.offset-g.valueOf())*x.scale}if(g>c.range.end){var T={start:c.range.start,end:g};return g=Yw(c.options.moment,c.body.hiddenDates,T,g),x=c.range.conversion(w,S),(g.valueOf()-x.offset)*x.scale}return g=Yw(c.options.moment,c.body.hiddenDates,c.range,g),x=c.range.conversion(w,S),(g.valueOf()-x.offset)*x.scale}function Hw(c,g,w){if(0==c.body.hiddenDates.length){var x=c.range.conversion(w);return new Date(g/x.scale+x.offset)}var C=Gw(c.body.hiddenDates,c.range.start,c.range.end),S=(c.range.end-c.range.start-C)*g/w,D=Uw(c.body.hiddenDates,c.range,S);return new Date(D+S+c.range.start)}function Gw(c,g,w){for(var x=0,C=0;C<c.length;C++){var S=c[C].start,D=c[C].end;S>=g&&D<w&&(x+=D-S)}return x}function Ww(c,g,w){for(var x=0,C=0;C<c.length;C++){var S=c[C].start,D=c[C].end;S>=g&&D<=w&&(x+=D-S)}return x}function Yw(c,g,w,x){return x=c(x).toDate().valueOf(),x-Vw(c,g,w,x)}function Vw(c,g,w,x){var C=0;x=c(x).toDate().valueOf();for(var S=0;S<g.length;S++){var D=g[S].start,T=g[S].end;D>=w.start&&T<w.end&&x>=T&&(C+=T-D)}return C}function Uw(c,g,w){for(var x=0,C=0,S=g.start,D=0;D<c.length;D++){var T=c[D].start,E=c[D].end;if(T>=g.start&&E<g.end){if(C+=T-S,S=E,C>=w)break;x+=E-T}}return x}function Xw(c,g,w,x){var C=qw(g,c);return 1==C.hidden?w<0?1==x?C.startDate-(C.endDate-g)-1:C.startDate-1:1==x?C.endDate+(g-C.startDate)+1:C.endDate+1:g}function qw(c,g){for(var w=0;w<g.length;w++){var x=g[w].start,C=g[w].end;if(c>=x&&c<C)return{hidden:!0,startDate:x,endDate:C}}return{hidden:!1,startDate:x,endDate:C}}var gk=Object.freeze({__proto__:null,convertHiddenOptions:Rw,updateHiddenDates:Lw,removeDuplicates:jw,printDates:function(c){for(var g=0;g<c.length;g++)console.log(g,new Date(c[g].start),new Date(c[g].end),c[g].start,c[g].end,c[g].remove)},stepOverHiddenDates:Bw,toScreen:zw,toTime:Hw,getHiddenDurationBetween:Gw,getHiddenDurationBeforeStart:Ww,correctTimeForHidden:Yw,getHiddenDurationBefore:Vw,getAccumulatedHiddenDuration:Uw,snapAwayFromHidden:Xw,getIsHidden:qw});function $w(c){var g=function(){if("undefined"==typeof Reflect||!Go)return!1;if(Go.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Go(Boolean,[],(function(){}))),!0}catch(c){return!1}}();return function(){var w,x=Mh(c);if(g){var S=Mh(this||C).constructor;w=Go(x,arguments,S)}else w=x.apply(this||C,arguments);return Th(this||C,w)}}var yk=function(c){zo(i,c);var g=$w(i);function i(c,w){var x,S,D,T,E,O,A,P;bo(this||C,i),P=g.call(this||C);var M=Tu().hours(0).minutes(0).seconds(0).milliseconds(0),N=M.clone().add(-3,"days").valueOf(),R=M.clone().add(3,"days").valueOf();return P.millisecondsPerPixelCache=void 0,void 0===w?(P.start=N,P.end=R):(P.start=w.start||N,P.end=w.end||R),P.rolling=!1,P.body=c,P.deltaDifference=0,P.scaleOffset=0,P.startToFront=!1,P.endToFront=!0,P.defaultOptions={rtl:!1,start:null,end:null,moment:Tu,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},P.options=Kb.extend({},P.defaultOptions),P.props={touch:{}},P.animationTimer=null,P.body.emitter.on("panstart",Gh(x=P._onDragStart).call(x,To(P))),P.body.emitter.on("panmove",Gh(S=P._onDrag).call(S,To(P))),P.body.emitter.on("panend",Gh(D=P._onDragEnd).call(D,To(P))),P.body.emitter.on("mousewheel",Gh(T=P._onMouseWheel).call(T,To(P))),P.body.emitter.on("touch",Gh(E=P._onTouch).call(E,To(P))),P.body.emitter.on("pinch",Gh(O=P._onPinch).call(O,To(P))),P.body.dom.rollingModeBtn.addEventListener("click",Gh(A=P.startRolling).call(A,To(P))),P.setOptions(w),P}return So(i,[{key:"setOptions",value:function(c){c&&(Kb.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll"],(this||C).options,c),c.rollingMode&&c.rollingMode.follow&&this.startRolling(),("start"in c||"end"in c)&&this.setRange(c.start,c.end))}},{key:"startRolling",value:function(){var c=this||C;!function e(){c.stopRolling(),c.rolling=!0;var g=c.end-c.start,w=Kb.convert(new Date,"Date").valueOf(),x=c.options.rollingMode&&c.options.rollingMode.offset||.5,C=w-g*x,S=w+g*(1-x);c.setRange(C,S,{animation:!1}),(g=1/c.conversion(c.body.domProps.center.width).scale/10)<30&&(g=30),g>1e3&&(g=1e3),c.body.dom.rollingModeBtn.style.visibility="hidden",c.currentTimeTimer=fu(e,g)}()}},{key:"stopRolling",value:function(){void 0!==(this||C).currentTimeTimer&&(clearTimeout((this||C).currentTimeTimer),(this||C).rolling=!1,(this||C).body.dom.rollingModeBtn.style.visibility="visible")}},{key:"setRange",value:function(c,g,w,x,S){w||(w={}),!0!==w.byUser&&(w.byUser=!1);var D=this||C,T=null!=c?Kb.convert(c,"Date").valueOf():null,E=null!=g?Kb.convert(g,"Date").valueOf():null;if(this._cancelAnimation(),(this||C).millisecondsPerPixelCache=void 0,w.animation){var O,A=(this||C).start,P=(this||C).end,M="object"===Sh(w.animation)&&"duration"in w.animation?w.animation.duration:500,N="object"===Sh(w.animation)&&"easingFunction"in w.animation?w.animation.easingFunction:"easeInOutQuad",R=Kb.easingFunctions[N];if(!R)throw new Error(Fd(O="Unknown easing function ".concat(gf(N),". Choose from: ")).call(O,Mc(Kb.easingFunctions).join(", ")));var L=rp(),j=!1;return function t(){if(!D.props.touch.dragging){var c=rp()-L,g=R(c/M),C=c>M,O=C||null===T?T:A+(T-A)*g,N=C||null===E?E:P+(E-P)*g;B=D._applyRange(O,N),Lw(D.options.moment,D.body,D.options.hiddenDates),j=j||B;var z={start:new Date(D.start),end:new Date(D.end),byUser:w.byUser,event:w.event};if(S&&S(g,B,C),B&&D.body.emitter.emit("rangechange",z),C){if(j&&(D.body.emitter.emit("rangechanged",z),x))return x()}else D.animationTimer=fu(t,20)}}()}var B=this._applyRange(T,E);if(Lw((this||C).options.moment,(this||C).body,(this||C).options.hiddenDates),B){var z={start:new Date((this||C).start),end:new Date((this||C).end),byUser:w.byUser,event:w.event};if((this||C).body.emitter.emit("rangechange",z),clearTimeout(D.timeoutID),D.timeoutID=fu((function(){D.body.emitter.emit("rangechanged",z)}),200),x)return x()}}},{key:"getMillisecondsPerPixel",value:function(){return void 0===(this||C).millisecondsPerPixelCache&&((this||C).millisecondsPerPixelCache=((this||C).end-(this||C).start)/(this||C).body.dom.center.clientWidth),(this||C).millisecondsPerPixelCache}},{key:"_cancelAnimation",value:function(){(this||C).animationTimer&&(clearTimeout((this||C).animationTimer),(this||C).animationTimer=null)}},{key:"_applyRange",value:function(c,g){var w,x=null!=c?Kb.convert(c,"Date").valueOf():(this||C).start,S=null!=g?Kb.convert(g,"Date").valueOf():(this||C).end,D=null!=(this||C).options.max?Kb.convert((this||C).options.max,"Date").valueOf():null,T=null!=(this||C).options.min?Kb.convert((this||C).options.min,"Date").valueOf():null;if(isNaN(x)||null===x)throw new Error('Invalid start "'.concat(c,'"'));if(isNaN(S)||null===S)throw new Error('Invalid end "'.concat(g,'"'));if(S<x&&(S=x),null!==T&&x<T&&(x+=w=T-x,S+=w,null!=D&&S>D&&(S=D)),null!==D&&S>D&&(x-=w=S-D,S-=w,null!=T&&x<T&&(x=T)),null!==(this||C).options.zoomMin){var E=hw((this||C).options.zoomMin);(E<0&&(E=0),S-x<E)&&((this||C).end-(this||C).start===E&&x>=(this||C).start-.5&&S<=(this||C).end?(x=(this||C).start,S=(this||C).end):(x-=(w=E-(S-x))/2,S+=w/2))}if(null!==(this||C).options.zoomMax){var O=hw((this||C).options.zoomMax);O<0&&(O=0),S-x>O&&((this||C).end-(this||C).start===O&&x<(this||C).start&&S>(this||C).end?(x=(this||C).start,S=(this||C).end):(x+=(w=S-x-O)/2,S-=w/2))}var A=(this||C).start!=x||(this||C).end!=S;return x>=(this||C).start&&x<=(this||C).end||S>=(this||C).start&&S<=(this||C).end||(this||C).start>=x&&(this||C).start<=S||(this||C).end>=x&&(this||C).end<=S||(this||C).body.emitter.emit("checkRangedItems"),(this||C).start=x,(this||C).end=S,A}},{key:"getRange",value:function(){return{start:(this||C).start,end:(this||C).end}}},{key:"conversion",value:function(c,g){return i.conversion((this||C).start,(this||C).end,c,g)}},{key:"_onDragStart",value:function(c){(this||C).deltaDifference=0,(this||C).previousDelta=0,(this||C).options.moveable&&this._isInsideRange(c)&&(this||C).props.touch.allowDragging&&(this.stopRolling(),(this||C).props.touch.start=(this||C).start,(this||C).props.touch.end=(this||C).end,(this||C).props.touch.dragging=!0,(this||C).body.dom.root&&((this||C).body.dom.root.style.cursor="move"))}},{key:"_onDrag",value:function(c){if(c&&(this||C).props.touch.dragging&&(this||C).options.moveable&&(this||C).props.touch.allowDragging){var g=(this||C).options.direction;Qw(g);var w="horizontal"==g?c.deltaX:c.deltaY;w-=(this||C).deltaDifference;var x=(this||C).props.touch.end-(this||C).props.touch.start;x-=Gw((this||C).body.hiddenDates,(this||C).start,(this||C).end);var S,D="horizontal"==g?(this||C).body.domProps.center.width:(this||C).body.domProps.center.height;S=(this||C).options.rtl?w/D*x:-w/D*x;var T=(this||C).props.touch.start+S,E=(this||C).props.touch.end+S,O=Xw((this||C).body.hiddenDates,T,(this||C).previousDelta-w,!0),A=Xw((this||C).body.hiddenDates,E,(this||C).previousDelta-w,!0);if(O!=T||A!=E)return(this||C).deltaDifference+=w,(this||C).props.touch.start=O,(this||C).props.touch.end=A,void this._onDrag(c);(this||C).previousDelta=w,this._applyRange(T,E);var P=new Date((this||C).start),M=new Date((this||C).end);(this||C).body.emitter.emit("rangechange",{start:P,end:M,byUser:!0,event:c}),(this||C).body.emitter.emit("panmove")}}},{key:"_onDragEnd",value:function(c){(this||C).props.touch.dragging&&(this||C).options.moveable&&(this||C).props.touch.allowDragging&&((this||C).props.touch.dragging=!1,(this||C).body.dom.root&&((this||C).body.dom.root.style.cursor="auto"),(this||C).body.emitter.emit("rangechanged",{start:new Date((this||C).start),end:new Date((this||C).end),byUser:!0,event:c}))}},{key:"_onMouseWheel",value:function(c){var g=0;if(c.wheelDelta?g=c.wheelDelta/120:c.detail?g=-c.detail/3:c.deltaY&&(g=-c.deltaY/3),!((this||C).options.zoomKey&&!c[(this||C).options.zoomKey]&&(this||C).options.zoomable||!(this||C).options.zoomable&&(this||C).options.moveable)&&(this||C).options.zoomable&&(this||C).options.moveable&&this._isInsideRange(c)&&g){var w,x,S=(this||C).options.zoomFriction||5;if(w=g<0?1-g/S:1/(1+g/S),(this||C).rolling){var D=(this||C).options.rollingMode&&(this||C).options.rollingMode.offset||.5;x=(this||C).start+((this||C).end-(this||C).start)*D}else{var T=this.getPointer({x:c.clientX,y:c.clientY},(this||C).body.dom.center);x=this._pointerToDate(T)}this.zoom(w,x,g,c),c.preventDefault()}}},{key:"_onTouch",value:function(c){(this||C).props.touch.start=(this||C).start,(this||C).props.touch.end=(this||C).end,(this||C).props.touch.allowDragging=!0,(this||C).props.touch.center=null,(this||C).props.touch.centerDate=null,(this||C).scaleOffset=0,(this||C).deltaDifference=0,Kb.preventDefault(c)}},{key:"_onPinch",value:function(c){if((this||C).options.zoomable&&(this||C).options.moveable){Kb.preventDefault(c),(this||C).props.touch.allowDragging=!1,(this||C).props.touch.center||((this||C).props.touch.center=this.getPointer(c.center,(this||C).body.dom.center),(this||C).props.touch.centerDate=this._pointerToDate((this||C).props.touch.center)),this.stopRolling();var g=1/(c.scale+(this||C).scaleOffset),w=(this||C).props.touch.centerDate,x=Gw((this||C).body.hiddenDates,(this||C).start,(this||C).end),S=Vw((this||C).options.moment,(this||C).body.hiddenDates,this||C,w),D=x-S,T=w-S+((this||C).props.touch.start-(w-S))*g,E=w+D+((this||C).props.touch.end-(w+D))*g;(this||C).startToFront=1-g<=0,(this||C).endToFront=g-1<=0;var O=Xw((this||C).body.hiddenDates,T,1-g,!0),A=Xw((this||C).body.hiddenDates,E,g-1,!0);O==T&&A==E||((this||C).props.touch.start=O,(this||C).props.touch.end=A,(this||C).scaleOffset=1-c.scale,T=O,E=A);var P={animation:!1,byUser:!0,event:c};this.setRange(T,E,P),(this||C).startToFront=!1,(this||C).endToFront=!0}}},{key:"_isInsideRange",value:function(c){var g=c.center?c.center.x:c.clientX,w=(this||C).body.dom.centerContainer.getBoundingClientRect(),x=(this||C).options.rtl?g-w.left:w.right-g,S=(this||C).body.util.toTime(x);return S>=(this||C).start&&S<=(this||C).end}},{key:"_pointerToDate",value:function(c){var g,w=(this||C).options.direction;if(Qw(w),"horizontal"==w)return(this||C).body.util.toTime(c.x).valueOf();var x=(this||C).body.domProps.center.height;return g=this.conversion(x),c.y/g.scale+g.offset}},{key:"getPointer",value:function(c,g){var w=g.getBoundingClientRect();return(this||C).options.rtl?{x:w.right-c.x,y:c.y-w.top}:{x:c.x-w.left,y:c.y-w.top}}},{key:"zoom",value:function(c,g,w,x){null==g&&(g=((this||C).start+(this||C).end)/2);var S=Gw((this||C).body.hiddenDates,(this||C).start,(this||C).end),D=Vw((this||C).options.moment,(this||C).body.hiddenDates,this||C,g),T=S-D,E=g-D+((this||C).start-(g-D))*c,O=g+T+((this||C).end-(g+T))*c;(this||C).startToFront=!(w>0),(this||C).endToFront=!(-w>0);var A=Xw((this||C).body.hiddenDates,E,w,!0),P=Xw((this||C).body.hiddenDates,O,-w,!0);A==E&&P==O||(E=A,O=P);var M={animation:!1,byUser:!0,event:x};this.setRange(E,O,M),(this||C).startToFront=!1,(this||C).endToFront=!0}},{key:"move",value:function(c){var g=(this||C).end-(this||C).start,w=(this||C).start+g*c,x=(this||C).end+g*c;(this||C).start=w,(this||C).end=x}},{key:"moveTo",value:function(c){var g=((this||C).start+(this||C).end)/2-c,w=(this||C).start-g,x=(this||C).end-g;this.setRange(w,x,{animation:!1,byUser:!0,event:null})}}],[{key:"conversion",value:function(c,g,w,x){return void 0===x&&(x=0),0!=w&&g-c!=0?{offset:c,scale:w/(g-c-x)}:{offset:0,scale:1}}}]),i}(uw);function Qw(c){if("horizontal"!=c&&"vertical"!=c)throw new TypeError('Unknown direction "'.concat(c,'". Choose "horizontal" or "vertical".'))}var bk=Us.some;gi({target:"Array",proto:!0,forced:!Jh("some")},{some:function(c){return bk(this||C,c,arguments.length>1?arguments[1]:void 0)}});var wk,kk=Lh("Array").some,_k=gt,xk=kk,Ck=Array.prototype,rk=function(c){var g=c.some;return c===Ck||_k(Ck,c)&&g===Ck.some?xk:g},Sk=pt.setInterval,Dk=null;wk="undefined"!=typeof window?function t(c,g){var w=g||{preventDefault:!1};if(c.Manager){var x=c,r=function(c,g){var C=Object.create(w);return g&&x.assign(C,g),t(new x(c,C),C)};return x.assign(r,x),r.Manager=function(c,g){var C=Object.create(w);return g&&x.assign(C,g),t(new x.Manager(c,C),C)},r}var C=Object.create(c),S=c.element;function l(c){return c.match(/[^ ]+/g)}function h(c){if("hammer.input"!==c.type){if(c.srcEvent._handled||(c.srcEvent._handled={}),c.srcEvent._handled[c.type])return;c.srcEvent._handled[c.type]=!0}var g=!1;c.stopPropagation=function(){g=!0};var w=c.srcEvent.stopPropagation.bind(c.srcEvent);"function"==typeof w&&(c.srcEvent.stopPropagation=function(){w(),c.stopPropagation()}),c.firstTarget=Dk;for(var x=Dk;x&&!g;){var C=x.hammer;if(C)for(var S,D=0;D<C.length;D++)if(S=C[D]._handlers[c.type])for(var T=0;T<S.length&&!g;T++)S[T](c);x=x.parentNode}}return S.hammer||(S.hammer=[]),S.hammer.push(C),c.on("hammer.input",(function(c){!0!==w.preventDefault&&w.preventDefault!==c.pointerType||c.preventDefault(),c.isFirst&&(Dk=c.target)})),C._handlers={},C.on=function(g,w){return l(g).forEach((function(g){var x=C._handlers[g];x||(C._handlers[g]=x=[],c.on(g,h)),x.push(w)})),C},C.off=function(g,w){return l(g).forEach((function(g){var x=C._handlers[g];x&&((x=w?x.filter((function(c){return c!==w})):[]).length>0?C._handlers[g]=x:(c.off(g,h),delete C._handlers[g]))})),C},C.emit=function(g,w){Dk=w.target,c.emit(g,w)},C.destroy=function(){var g=c.element.hammer,w=g.indexOf(C);-1!==w&&g.splice(w,1),g.length||delete c.element.hammer,C._handlers={},c.destroy()},C}(window.Hammer||hy,{preventDefault:"mouse"}):function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(c){return{set:t}}}}()};var Tk=wk;function hk(c,g){g.inputHandler=function(c){c.isFirst&&g(c)},c.on("hammer.input",g.inputHandler)}var Ek=function(){function t(c,g,w,x,S){bo(this||C,t),(this||C).moment=S&&S.moment||Tu,(this||C).options=S||{},(this||C).current=this.moment(),(this||C)._start=this.moment(),(this||C)._end=this.moment(),(this||C).autoScale=!0,(this||C).scale="day",(this||C).step=1,this.setRange(c,g,w),(this||C).switchedDay=!1,(this||C).switchedMonth=!1,(this||C).switchedYear=!1,eu(x)?(this||C).hiddenDates=x:(this||C).hiddenDates=null!=x?[x]:[],(this||C).format=t.FORMAT}return So(t,[{key:"setMoment",value:function(c){(this||C).moment=c,(this||C).current=this.moment((this||C).current.valueOf()),(this||C)._start=this.moment((this||C)._start.valueOf()),(this||C)._end=this.moment((this||C)._end.valueOf())}},{key:"setFormat",value:function(c){var g=Kb.deepExtend({},t.FORMAT);(this||C).format=Kb.deepExtend(g,c)}},{key:"setRange",value:function(c,g,w){if(!(c instanceof Date&&g instanceof Date))throw"No legal start or end date in method setRange";(this||C)._start=null!=c?this.moment(c.valueOf()):rp(),(this||C)._end=null!=g?this.moment(g.valueOf()):rp(),(this||C).autoScale&&this.setMinimumStep(w)}},{key:"start",value:function(){(this||C).current=(this||C)._start.clone(),this.roundToMinor()}},{key:"roundToMinor",value:function(){switch("week"==(this||C).scale&&(this||C).current.weekday(0),(this||C).scale){case"year":(this||C).current.year((this||C).step*Math.floor((this||C).current.year()/(this||C).step)),(this||C).current.month(0);case"month":(this||C).current.date(1);case"week":case"day":case"weekday":(this||C).current.hours(0);case"hour":(this||C).current.minutes(0);case"minute":(this||C).current.seconds(0);case"second":(this||C).current.milliseconds(0)}if(1!=(this||C).step){var c=(this||C).current.clone();switch((this||C).scale){case"millisecond":(this||C).current.subtract((this||C).current.milliseconds()%(this||C).step,"milliseconds");break;case"second":(this||C).current.subtract((this||C).current.seconds()%(this||C).step,"seconds");break;case"minute":(this||C).current.subtract((this||C).current.minutes()%(this||C).step,"minutes");break;case"hour":(this||C).current.subtract((this||C).current.hours()%(this||C).step,"hours");break;case"weekday":case"day":(this||C).current.subtract(((this||C).current.date()-1)%(this||C).step,"day");break;case"week":(this||C).current.subtract((this||C).current.week()%(this||C).step,"week");break;case"month":(this||C).current.subtract((this||C).current.month()%(this||C).step,"month");break;case"year":(this||C).current.subtract((this||C).current.year()%(this||C).step,"year")}c.isSame((this||C).current)||((this||C).current=this.moment(Xw((this||C).hiddenDates,(this||C).current.valueOf(),-1,!0)))}}},{key:"hasNext",value:function(){return(this||C).current.valueOf()<=(this||C)._end.valueOf()}},{key:"next",value:function(){var c=(this||C).current.valueOf();switch((this||C).scale){case"millisecond":(this||C).current.add((this||C).step,"millisecond");break;case"second":(this||C).current.add((this||C).step,"second");break;case"minute":(this||C).current.add((this||C).step,"minute");break;case"hour":(this||C).current.add((this||C).step,"hour"),(this||C).current.month()<6?(this||C).current.subtract((this||C).current.hours()%(this||C).step,"hour"):(this||C).current.hours()%(this||C).step!=0&&(this||C).current.add((this||C).step-(this||C).current.hours()%(this||C).step,"hour");break;case"weekday":case"day":(this||C).current.add((this||C).step,"day");break;case"week":if(0!==(this||C).current.weekday())(this||C).current.weekday(0),(this||C).current.add((this||C).step,"week");else if(!1===(this||C).options.showMajorLabels)(this||C).current.add((this||C).step,"week");else{var g=(this||C).current.clone();g.add(1,"week"),g.isSame((this||C).current,"month")?(this||C).current.add((this||C).step,"week"):((this||C).current.add((this||C).step,"week"),(this||C).current.date(1))}break;case"month":(this||C).current.add((this||C).step,"month");break;case"year":(this||C).current.add((this||C).step,"year")}if(1!=(this||C).step)switch((this||C).scale){case"millisecond":(this||C).current.milliseconds()>0&&(this||C).current.milliseconds()<(this||C).step&&(this||C).current.milliseconds(0);break;case"second":(this||C).current.seconds()>0&&(this||C).current.seconds()<(this||C).step&&(this||C).current.seconds(0);break;case"minute":(this||C).current.minutes()>0&&(this||C).current.minutes()<(this||C).step&&(this||C).current.minutes(0);break;case"hour":(this||C).current.hours()>0&&(this||C).current.hours()<(this||C).step&&(this||C).current.hours(0);break;case"weekday":case"day":(this||C).current.date()<(this||C).step+1&&(this||C).current.date(1);break;case"week":(this||C).current.week()<(this||C).step&&(this||C).current.week(1);break;case"month":(this||C).current.month()<(this||C).step&&(this||C).current.month(0)}(this||C).current.valueOf()==c&&((this||C).current=(this||C)._end.clone()),(this||C).switchedDay=!1,(this||C).switchedMonth=!1,(this||C).switchedYear=!1,Bw((this||C).moment,this||C,c)}},{key:"getCurrent",value:function(){return(this||C).current.clone()}},{key:"setScale",value:function(c){c&&"string"==typeof c.scale&&((this||C).scale=c.scale,(this||C).step=c.step>0?c.step:1,(this||C).autoScale=!1)}},{key:"setAutoScale",value:function(c){(this||C).autoScale=c}},{key:"setMinimumStep",value:function(c){if(null!=c){var g=31104e6,w=2592e6,x=864e5,S=36e5,D=6e4,T=1e3;1e3*g>c&&((this||C).scale="year",(this||C).step=1e3),500*g>c&&((this||C).scale="year",(this||C).step=500),100*g>c&&((this||C).scale="year",(this||C).step=100),50*g>c&&((this||C).scale="year",(this||C).step=50),10*g>c&&((this||C).scale="year",(this||C).step=10),5*g>c&&((this||C).scale="year",(this||C).step=5),g>c&&((this||C).scale="year",(this||C).step=1),7776e6>c&&((this||C).scale="month",(this||C).step=3),w>c&&((this||C).scale="month",(this||C).step=1),6048e5>c&&(this||C).options.showWeekScale&&((this||C).scale="week",(this||C).step=1),1728e5>c&&((this||C).scale="day",(this||C).step=2),x>c&&((this||C).scale="day",(this||C).step=1),432e5>c&&((this||C).scale="weekday",(this||C).step=1),144e5>c&&((this||C).scale="hour",(this||C).step=4),S>c&&((this||C).scale="hour",(this||C).step=1),9e5>c&&((this||C).scale="minute",(this||C).step=15),6e5>c&&((this||C).scale="minute",(this||C).step=10),3e5>c&&((this||C).scale="minute",(this||C).step=5),D>c&&((this||C).scale="minute",(this||C).step=1),15e3>c&&((this||C).scale="second",(this||C).step=15),1e4>c&&((this||C).scale="second",(this||C).step=10),5e3>c&&((this||C).scale="second",(this||C).step=5),T>c&&((this||C).scale="second",(this||C).step=1),200>c&&((this||C).scale="millisecond",(this||C).step=200),100>c&&((this||C).scale="millisecond",(this||C).step=100),50>c&&((this||C).scale="millisecond",(this||C).step=50),10>c&&((this||C).scale="millisecond",(this||C).step=10),5>c&&((this||C).scale="millisecond",(this||C).step=5),1>c&&((this||C).scale="millisecond",(this||C).step=1)}}},{key:"isMajor",value:function(){if(1==(this||C).switchedYear)switch((this||C).scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==(this||C).switchedMonth)switch((this||C).scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==(this||C).switchedDay)switch((this||C).scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var c=this.moment((this||C).current);switch((this||C).scale){case"millisecond":return 0==c.milliseconds();case"second":return 0==c.seconds();case"minute":return 0==c.hours()&&0==c.minutes();case"hour":return 0==c.hours();case"weekday":case"day":case"week":return 1==c.date();case"month":return 0==c.month();case"year":default:return!1}}},{key:"getLabelMinor",value:function(c){if(null==c&&(c=(this||C).current),c instanceof Date&&(c=this.moment(c)),"function"==typeof(this||C).format.minorLabels)return(this||C).format.minorLabels(c,(this||C).scale,(this||C).step);var g=(this||C).format.minorLabels[(this||C).scale];switch((this||C).scale){case"week":if(1===c.date()&&0!==c.weekday())return"";default:return g&&g.length>0?this.moment(c).format(g):""}}},{key:"getLabelMajor",value:function(c){if(null==c&&(c=(this||C).current),c instanceof Date&&(c=this.moment(c)),"function"==typeof(this||C).format.majorLabels)return(this||C).format.majorLabels(c,(this||C).scale,(this||C).step);var g=(this||C).format.majorLabels[(this||C).scale];return g&&g.length>0?this.moment(c).format(g):""}},{key:"getClassName",value:function(){var c,g=(this||C).moment,w=this.moment((this||C).current),x=w.locale?w.locale("en"):w.lang("en"),S=(this||C).step,D=[];function s(c){return c/S%2==0?" vis-even":" vis-odd"}function a(c){return c.isSame(rp(),"day")?" vis-today":c.isSame(g().add(1,"day"),"day")?" vis-tomorrow":c.isSame(g().add(-1,"day"),"day")?" vis-yesterday":""}function l(c){return c.isSame(rp(),"week")?" vis-current-week":""}function h(c){return c.isSame(rp(),"month")?" vis-current-month":""}switch((this||C).scale){case"millisecond":D.push(a(x)),D.push(s(x.milliseconds()));break;case"second":D.push(a(x)),D.push(s(x.seconds()));break;case"minute":D.push(a(x)),D.push(s(x.minutes()));break;case"hour":D.push(Fd(c="vis-h".concat(x.hours())).call(c,4==(this||C).step?"-h"+(x.hours()+4):"")),D.push(a(x)),D.push(s(x.hours()));break;case"weekday":D.push("vis-".concat(x.format("dddd").toLowerCase())),D.push(a(x)),D.push(l(x)),D.push(s(x.date()));break;case"day":D.push("vis-day".concat(x.date())),D.push("vis-".concat(x.format("MMMM").toLowerCase())),D.push(a(x)),D.push(h(x)),D.push((this||C).step<=2?a(x):""),D.push((this||C).step<=2?"vis-".concat(x.format("dddd").toLowerCase()):""),D.push(s(x.date()-1));break;case"week":D.push("vis-week".concat(x.format("w"))),D.push(l(x)),D.push(s(x.week()));break;case"month":D.push("vis-".concat(x.format("MMMM").toLowerCase())),D.push(h(x)),D.push(s(x.month()));break;case"year":D.push("vis-year".concat(x.year())),D.push(function(c){return c.isSame(rp(),"year")?" vis-current-year":""}(x)),D.push(s(x.year()))}return gu(D).call(D,String).join(" ")}}],[{key:"snap",value:function(c,g,w){var x=Tu(c);if("year"==g){var C=x.year()+Math.round(x.month()/12);x.year(Math.round(C/w)*w),x.month(0),x.date(0),x.hours(0),x.minutes(0),x.seconds(0),x.milliseconds(0)}else if("month"==g)x.date()>15?(x.date(1),x.add(1,"month")):x.date(1),x.hours(0),x.minutes(0),x.seconds(0),x.milliseconds(0);else if("week"==g)x.weekday()>2?(x.weekday(0),x.add(1,"week")):x.weekday(0),x.hours(0),x.minutes(0),x.seconds(0),x.milliseconds(0);else if("day"==g){switch(w){case 5:case 2:x.hours(24*Math.round(x.hours()/24));break;default:x.hours(12*Math.round(x.hours()/12))}x.minutes(0),x.seconds(0),x.milliseconds(0)}else if("weekday"==g){switch(w){case 5:case 2:x.hours(12*Math.round(x.hours()/12));break;default:x.hours(6*Math.round(x.hours()/6))}x.minutes(0),x.seconds(0),x.milliseconds(0)}else if("hour"==g){switch(w){case 4:x.minutes(60*Math.round(x.minutes()/60));break;default:x.minutes(30*Math.round(x.minutes()/30))}x.seconds(0),x.milliseconds(0)}else if("minute"==g){switch(w){case 15:case 10:x.minutes(5*Math.round(x.minutes()/5)),x.seconds(0);break;case 5:x.seconds(60*Math.round(x.seconds()/60));break;default:x.seconds(30*Math.round(x.seconds()/30))}x.milliseconds(0)}else if("second"==g)switch(w){case 15:case 10:x.seconds(5*Math.round(x.seconds()/5)),x.milliseconds(0);break;case 5:x.milliseconds(1e3*Math.round(x.milliseconds()/1e3));break;default:x.milliseconds(500*Math.round(x.milliseconds()/500))}else if("millisecond"==g){var S=w>5?w/2:1;x.milliseconds(Math.round(x.milliseconds()/S)*S)}return x}}]),t}();function ck(c){var g=function(){if("undefined"==typeof Reflect||!Go)return!1;if(Go.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Go(Boolean,[],(function(){}))),!0}catch(c){return!1}}();return function(){var w,x=Mh(c);if(g){var S=Mh(this||C).constructor;w=Go(x,arguments,S)}else w=x.apply(this||C,arguments);return Th(this||C,w)}}Ek.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};var Ok=function(c){zo(i,c);var g=ck(i);function i(c,w){var x;return bo(this||C,i),(x=g.call(this||C)).dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},x.props={range:{start:0,end:0,minimumStep:0},lineTop:0},x.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:Kb.extend({},Ek.FORMAT),moment:Tu,timeAxis:null},x.options=Kb.extend({},x.defaultOptions),x.body=c,x._create(),x.setOptions(w),x}return So(i,[{key:"setOptions",value:function(c){c&&(Kb.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],(this||C).options,c),Kb.selectiveDeepExtend(["format"],(this||C).options,c),"orientation"in c&&("string"==typeof c.orientation?(this||C).options.orientation.axis=c.orientation:"object"===Sh(c.orientation)&&"axis"in c.orientation&&((this||C).options.orientation.axis=c.orientation.axis)),"locale"in c&&("function"==typeof Tu.locale?Tu.locale(c.locale):Tu.lang(c.locale)))}},{key:"_create",value:function(){(this||C).dom.foreground=document.createElement("div"),(this||C).dom.background=document.createElement("div"),(this||C).dom.foreground.className="vis-time-axis vis-foreground",(this||C).dom.background.className="vis-time-axis vis-background"}},{key:"destroy",value:function(){(this||C).dom.foreground.parentNode&&(this||C).dom.foreground.parentNode.removeChild((this||C).dom.foreground),(this||C).dom.background.parentNode&&(this||C).dom.background.parentNode.removeChild((this||C).dom.background),(this||C).body=null}},{key:"redraw",value:function(){var c=(this||C).props,g=(this||C).dom.foreground,w=(this||C).dom.background,x="top"==(this||C).options.orientation.axis?(this||C).body.dom.top:(this||C).body.dom.bottom,S=g.parentNode!==x;this._calculateCharSize();var D=(this||C).options.showMinorLabels&&"none"!==(this||C).options.orientation.axis,T=(this||C).options.showMajorLabels&&"none"!==(this||C).options.orientation.axis;c.minorLabelHeight=D?c.minorCharHeight:0,c.majorLabelHeight=T?c.majorCharHeight:0,c.height=c.minorLabelHeight+c.majorLabelHeight,c.width=g.offsetWidth,c.minorLineHeight=(this||C).body.domProps.root.height-c.majorLabelHeight-("top"==(this||C).options.orientation.axis?(this||C).body.domProps.bottom.height:(this||C).body.domProps.top.height),c.minorLineWidth=1,c.majorLineHeight=c.minorLineHeight+c.majorLabelHeight,c.majorLineWidth=1;var E=g.nextSibling,O=w.nextSibling;return g.parentNode&&g.parentNode.removeChild(g),w.parentNode&&w.parentNode.removeChild(w),g.style.height="".concat((this||C).props.height,"px"),this._repaintLabels(),E?x.insertBefore(g,E):x.appendChild(g),O?(this||C).body.dom.backgroundVertical.insertBefore(w,O):(this||C).body.dom.backgroundVertical.appendChild(w),this._isResized()||S}},{key:"_repaintLabels",value:function(){var c=(this||C).options.orientation.axis,g=Kb.convert((this||C).body.range.start,"Number"),w=Kb.convert((this||C).body.range.end,"Number"),x=(this||C).body.util.toTime(((this||C).props.minorCharWidth||10)*(this||C).options.maxMinorChars).valueOf(),S=x-Vw((this||C).options.moment,(this||C).body.hiddenDates,(this||C).body.range,x);S-=(this||C).body.util.toTime(0).valueOf();var D=new Ek(new Date(g),new Date(w),S,(this||C).body.hiddenDates,(this||C).options);D.setMoment((this||C).options.moment),(this||C).options.format&&D.setFormat((this||C).options.format),(this||C).options.timeAxis&&D.setScale((this||C).options.timeAxis),(this||C).step=D;var T,E,O,A,P,M,N=(this||C).dom;N.redundant.lines=N.lines,N.redundant.majorTexts=N.majorTexts,N.redundant.minorTexts=N.minorTexts,N.lines=[],N.majorTexts=[],N.minorTexts=[];var R,L,j,B=0,z=void 0,H=0,G=1e3;for(D.start(),E=D.getCurrent(),A=(this||C).body.util.toScreen(E);D.hasNext()&&H<G;){switch(H++,P=D.isMajor(),j=D.getClassName(),T=E,O=A,D.next(),E=D.getCurrent(),R=B,B=(A=(this||C).body.util.toScreen(E))-O,D.scale){case"week":M=!0;break;default:M=B>=.4*R}if((this||C).options.showMinorLabels&&M){var V=this._repaintMinorText(O,D.getLabelMinor(T),c,j);V.style.width="".concat(B,"px")}P&&(this||C).options.showMajorLabels?(O>0&&(null==z&&(z=O),V=this._repaintMajorText(O,D.getLabelMajor(T),c,j)),L=this._repaintMajorLine(O,B,c,j)):M?L=this._repaintMinorLine(O,B,c,j):L&&(L.style.width="".concat(Xm(L.style.width)+B,"px"))}if(H!==G||Ik||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to ".concat(G," lines.")),Ik=!0),(this||C).options.showMajorLabels){var Y=(this||C).body.util.toTime(0),X=D.getLabelMajor(Y),K=X.length*((this||C).props.majorCharWidth||10)+10;(null==z||K<z)&&this._repaintMajorText(0,X,c,j)}hu(Kb).call(Kb,(this||C).dom.redundant,(function(c){for(;c.length;){var g=c.pop();g&&g.parentNode&&g.parentNode.removeChild(g)}}))}},{key:"_repaintMinorText",value:function(c,g,w,x){var S=(this||C).dom.redundant.minorTexts.shift();if(!S){var D=document.createTextNode("");(S=document.createElement("div")).appendChild(D),(this||C).dom.foreground.appendChild(S)}(this||C).dom.minorTexts.push(S),S.innerHTML=Kb.xss(g);var T="top"==w?(this||C).props.majorLabelHeight:0;return this._setXY(S,c,T),S.className="vis-text vis-minor ".concat(x),S}},{key:"_repaintMajorText",value:function(c,g,w,x){var S=(this||C).dom.redundant.majorTexts.shift();if(!S){var D=document.createElement("div");(S=document.createElement("div")).appendChild(D),(this||C).dom.foreground.appendChild(S)}S.childNodes[0].innerHTML=Kb.xss(g),S.className="vis-text vis-major ".concat(x);var T="top"==w?0:(this||C).props.minorLabelHeight;return this._setXY(S,c,T),(this||C).dom.majorTexts.push(S),S}},{key:"_setXY",value:function(c,g,w){var x,S=(this||C).options.rtl?-1*g:g;c.style.transform=Fd(x="translate(".concat(S,"px, ")).call(x,w,"px)")}},{key:"_repaintMinorLine",value:function(c,g,w,x){var S,D=(this||C).dom.redundant.lines.shift();D||(D=document.createElement("div"),(this||C).dom.background.appendChild(D)),(this||C).dom.lines.push(D);var T=(this||C).props;D.style.width="".concat(g,"px"),D.style.height="".concat(T.minorLineHeight,"px");var E="top"==w?T.majorLabelHeight:(this||C).body.domProps.top.height,O=c-T.minorLineWidth/2;return this._setXY(D,O,E),D.className=Fd(S="vis-grid ".concat((this||C).options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-minor ")).call(S,x),D}},{key:"_repaintMajorLine",value:function(c,g,w,x){var S,D=(this||C).dom.redundant.lines.shift();D||(D=document.createElement("div"),(this||C).dom.background.appendChild(D)),(this||C).dom.lines.push(D);var T=(this||C).props;D.style.width="".concat(g,"px"),D.style.height="".concat(T.majorLineHeight,"px");var E="top"==w?0:(this||C).body.domProps.top.height,O=c-T.majorLineWidth/2;return this._setXY(D,O,E),D.className=Fd(S="vis-grid ".concat((this||C).options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-major ")).call(S,x),D}},{key:"_calculateCharSize",value:function(){(this||C).dom.measureCharMinor||((this||C).dom.measureCharMinor=document.createElement("DIV"),(this||C).dom.measureCharMinor.className="vis-text vis-minor vis-measure",(this||C).dom.measureCharMinor.style.position="absolute",(this||C).dom.measureCharMinor.appendChild(document.createTextNode("0")),(this||C).dom.foreground.appendChild((this||C).dom.measureCharMinor)),(this||C).props.minorCharHeight=(this||C).dom.measureCharMinor.clientHeight,(this||C).props.minorCharWidth=(this||C).dom.measureCharMinor.clientWidth,(this||C).dom.measureCharMajor||((this||C).dom.measureCharMajor=document.createElement("DIV"),(this||C).dom.measureCharMajor.className="vis-text vis-major vis-measure",(this||C).dom.measureCharMajor.style.position="absolute",(this||C).dom.measureCharMajor.appendChild(document.createTextNode("0")),(this||C).dom.foreground.appendChild((this||C).dom.measureCharMajor)),(this||C).props.majorCharHeight=(this||C).dom.measureCharMajor.clientHeight,(this||C).props.majorCharWidth=(this||C).dom.measureCharMajor.clientWidth}}]),i}(uw),Ik=!1;function mk(c){var g,w;(this||C).active=!1,(this||C).dom={container:c},(this||C).dom.overlay=document.createElement("div"),(this||C).dom.overlay.className="vis-overlay",(this||C).dom.container.appendChild((this||C).dom.overlay),(this||C).hammer=Tk((this||C).dom.overlay),(this||C).hammer.on("tap",Gh(g=(this||C)._onTapOverlay).call(g,this||C));var x=this||C,S=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];hu(S).call(S,(function(c){x.hammer.on(c,(function(c){c.stopPropagation()}))})),document&&document.body&&((this||C).onClick=function(g){(function(c,g){for(;c;){if(c===g)return!0;c=c.parentNode}return!1})(g.target,c)||x.deactivate()},document.body.addEventListener("click",(this||C).onClick)),void 0!==(this||C).keycharm&&(this||C).keycharm.destroy(),(this||C).keycharm=function(c){var g,w=c&&c.preventDefault||!1,x=c&&c.container||window,C={},S={keydown:{},keyup:{}},D={};for(g=97;g<=122;g++)D[String.fromCharCode(g)]={code:g-97+65,shift:!1};for(g=65;g<=90;g++)D[String.fromCharCode(g)]={code:g,shift:!0};for(g=0;g<=9;g++)D[""+g]={code:48+g,shift:!1};for(g=1;g<=12;g++)D["F"+g]={code:111+g,shift:!1};for(g=0;g<=9;g++)D["num"+g]={code:96+g,shift:!1};D["num*"]={code:106,shift:!1},D["num+"]={code:107,shift:!1},D["num-"]={code:109,shift:!1},D["num/"]={code:111,shift:!1},D["num."]={code:110,shift:!1},D.left={code:37,shift:!1},D.up={code:38,shift:!1},D.right={code:39,shift:!1},D.down={code:40,shift:!1},D.space={code:32,shift:!1},D.enter={code:13,shift:!1},D.shift={code:16,shift:void 0},D.esc={code:27,shift:!1},D.backspace={code:8,shift:!1},D.tab={code:9,shift:!1},D.ctrl={code:17,shift:!1},D.alt={code:18,shift:!1},D.delete={code:46,shift:!1},D.pageup={code:33,shift:!1},D.pagedown={code:34,shift:!1},D["="]={code:187,shift:!1},D["-"]={code:189,shift:!1},D["]"]={code:221,shift:!1},D["["]={code:219,shift:!1};var a=function(c){h(c,"keydown")},l=function(c){h(c,"keyup")},h=function(c,g){if(void 0!==S[g][c.keyCode]){for(var x=S[g][c.keyCode],C=0;C<x.length;C++)(void 0===x[C].shift||1==x[C].shift&&1==c.shiftKey||0==x[C].shift&&0==c.shiftKey)&&x[C].fn(c);1==w&&c.preventDefault()}};return C.bind=function(c,g,w){if(void 0===w&&(w="keydown"),void 0===D[c])throw new Error("unsupported key: "+c);void 0===S[w][D[c].code]&&(S[w][D[c].code]=[]),S[w][D[c].code].push({fn:g,shift:D[c].shift})},C.bindAll=function(c,g){for(var w in void 0===g&&(g="keydown"),D)D.hasOwnProperty(w)&&C.bind(w,c,g)},C.getKey=function(c){for(var g in D)if(D.hasOwnProperty(g)){if(1==c.shiftKey&&1==D[g].shift&&c.keyCode==D[g].code)return g;if(0==c.shiftKey&&0==D[g].shift&&c.keyCode==D[g].code)return g;if(c.keyCode==D[g].code&&"shift"==g)return g}return"unknown key, currently not supported"},C.unbind=function(c,g,w){if(void 0===w&&(w="keydown"),void 0===D[c])throw new Error("unsupported key: "+c);if(void 0!==g){var x=[],C=S[w][D[c].code];if(void 0!==C)for(var T=0;T<C.length;T++)C[T].fn==g&&C[T].shift==D[c].shift||x.push(S[w][D[c].code][T]);S[w][D[c].code]=x}else S[w][D[c].code]=[]},C.reset=function(){S={keydown:{},keyup:{}}},C.destroy=function(){S={keydown:{},keyup:{}},x.removeEventListener("keydown",a,!0),x.removeEventListener("keyup",l,!0)},x.addEventListener("keydown",a,!0),x.addEventListener("keyup",l,!0),C}(),(this||C).escListener=Gh(w=(this||C).deactivate).call(w,this||C)}Uf(mk.prototype),mk.current=null,mk.prototype.destroy=function(){this.deactivate(),(this||C).dom.overlay.parentNode.removeChild((this||C).dom.overlay),(this||C).onClick&&document.body.removeEventListener("click",(this||C).onClick),void 0!==(this||C).keycharm&&(this||C).keycharm.destroy(),(this||C).keycharm=null,(this||C).hammer.destroy(),(this||C).hammer=null},mk.prototype.activate=function(){var c;mk.current&&mk.current.deactivate(),mk.current=this||C,(this||C).active=!0,(this||C).dom.overlay.style.display="none",Kb.addClassName((this||C).dom.container,"vis-active"),this.emit("change"),this.emit("activate"),Gh(c=(this||C).keycharm).call(c,"esc",(this||C).escListener)},mk.prototype.deactivate=function(){mk.current===(this||C)&&(mk.current=null),(this||C).active=!1,(this||C).dom.overlay.style.display="",Kb.removeClassName((this||C).dom.container,"vis-active"),(this||C).keycharm.unbind("esc",(this||C).escListener),this.emit("change"),this.emit("deactivate")},mk.prototype._onTapOverlay=function(c){this.activate(),c.stopPropagation()};var Pk={current:"current",time:"time",deleteSelected:"Delete selected"},Nk={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},Fk={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},Rk={current:"Aktuelle",time:"Zeit",deleteSelected:"LÃ¶sche Auswahl"},Lk={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},jk={current:"corriente",time:"hora",deleteSelected:"Eliminar selecciÃ³n"},Bk={current:"Ð¿Ð¾ÑÐ¾ÑÐ½Ð¸Ð¹",time:"ÑÐ°Ñ",deleteSelected:"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±ÑÐ°Ð½Ðµ"},zk={current:"ÑÐµÐºÑÑÐµÐµ",time:"Ð²ÑÐµÐ¼Ñ",deleteSelected:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ"},Hk={current:"aktualny",time:"czas",deleteSelected:"UsuÅ wybrane"},Gk={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},Vk={current:"ç¾å¨",time:"æå»",deleteSelected:"é¸æããããã®ãåé¤"},Yk={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},Xk={current:"nÃ¥vÃ¦rende",time:"tid",deleteSelected:"Slett valgte"},Uk={current:"einamas",time:"laikas",deleteSelected:"PaÅ¡alinti pasirinktÄ"},qk={en:Pk,en_EN:Pk,en_US:Pk,it:Nk,it_IT:Nk,it_CH:Nk,nl:Fk,nl_NL:Fk,nl_BE:Fk,de:Rk,de_DE:Rk,fr:Lk,fr_FR:Lk,fr_CA:Lk,fr_BE:Lk,es:jk,es_ES:jk,uk:Bk,uk_UA:Bk,ru:zk,ru_RU:zk,pl:Hk,pl_PL:Hk,pt:Gk,pt_BR:Gk,pt_PT:Gk,ja:Vk,ja_JP:Vk,lt:Uk,lt_LT:Uk,sv:Yk,sv_SE:Yk,nb:Xk,nn:Xk,nb_NO:Xk,nn_NO:Xk};function Ak(c){var g=function(){if("undefined"==typeof Reflect||!Go)return!1;if(Go.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Go(Boolean,[],(function(){}))),!0}catch(c){return!1}}();return function(){var w,x=Mh(c);if(g){var S=Mh(this||C).constructor;w=Go(x,arguments,S)}else w=x.apply(this||C,arguments);return Th(this||C,w)}}var Kk=function(c){zo(i,c);var g=Ak(i);function i(c,w){var x,S;bo(this||C,i),(S=g.call(this||C)).body=c,S.defaultOptions={moment:Tu,locales:qk,locale:"en",id:void 0,title:void 0},S.options=Kb.extend({},S.defaultOptions),S.setOptions(w),S.options.locales=Kb.extend({},qk,S.options.locales);var D=S.defaultOptions.locales[S.defaultOptions.locale];return hu(x=Mc(S.options.locales)).call(x,(function(c){S.options.locales[c]=Kb.extend({},D,S.options.locales[c])})),w&&null!=w.time?S.customTime=w.time:S.customTime=new Date,S.eventParams={},S._create(),S}return So(i,[{key:"setOptions",value:function(c){c&&Kb.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],(this||C).options,c)}},{key:"_create",value:function(){var c,g,w,x=document.createElement("div");x["custom-time"]=this||C,x.className="vis-custom-time ".concat((this||C).options.id||""),x.style.position="absolute",x.style.top="0px",x.style.height="100%",(this||C).bar=x;var S=document.createElement("div");function r(c){(this||C).body.range._onMouseWheel(c)}S.style.position="relative",S.style.top="0px",(this||C).options.rtl?S.style.right="-10px":S.style.left="-10px",S.style.height="100%",S.style.width="20px",S.addEventListener?(S.addEventListener("mousewheel",Gh(r).call(r,this||C),!1),S.addEventListener("DOMMouseScroll",Gh(r).call(r,this||C),!1)):S.attachEvent("onmousewheel",Gh(r).call(r,this||C)),x.appendChild(S),(this||C).hammer=new Tk(S),(this||C).hammer.on("panstart",Gh(c=(this||C)._onDragStart).call(c,this||C)),(this||C).hammer.on("panmove",Gh(g=(this||C)._onDrag).call(g,this||C)),(this||C).hammer.on("panend",Gh(w=(this||C)._onDragEnd).call(w,this||C)),(this||C).hammer.get("pan").set({threshold:5,direction:Tk.DIRECTION_ALL}),(this||C).hammer.get("press").set({time:1e4})}},{key:"destroy",value:function(){this.hide(),(this||C).hammer.destroy(),(this||C).hammer=null,(this||C).body=null}},{key:"redraw",value:function(){var c=(this||C).body.dom.backgroundVertical;(this||C).bar.parentNode!=c&&((this||C).bar.parentNode&&(this||C).bar.parentNode.removeChild((this||C).bar),c.appendChild((this||C).bar));var g=(this||C).body.util.toScreen((this||C).customTime),w=(this||C).options.locales[(this||C).options.locale];w||((this||C).warned||(console.warn("WARNING: options.locales['".concat((this||C).options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),(this||C).warned=!0),w=(this||C).options.locales.en);var x,S=(this||C).options.title;void 0===S?S=(S=Fd(x="".concat(w.time,": ")).call(x,(this||C).options.moment((this||C).customTime).format("dddd, MMMM Do YYYY, H:mm:ss"))).charAt(0).toUpperCase()+S.substring(1):"function"==typeof S&&(S=S.call(this||C,(this||C).customTime));return(this||C).options.rtl?(this||C).bar.style.right="".concat(g,"px"):(this||C).bar.style.left="".concat(g,"px"),(this||C).bar.title=S,!1}},{key:"hide",value:function(){(this||C).bar.parentNode&&(this||C).bar.parentNode.removeChild((this||C).bar)}},{key:"setCustomTime",value:function(c){(this||C).customTime=Kb.convert(c,"Date"),this.redraw()}},{key:"getCustomTime",value:function(){return new Date((this||C).customTime.valueOf())}},{key:"setCustomMarker",value:function(c,g){var w,x,S=document.createElement("div");(S.className="vis-custom-time-marker",S.innerHTML=Kb.xss(c),S.style.position="absolute",g)&&(S.setAttribute("contenteditable","true"),S.addEventListener("pointerdown",(function(){S.focus()})),S.addEventListener("input",Gh(w=(this||C)._onMarkerChange).call(w,this||C)),S.title=c,S.addEventListener("blur",Gh(x=function(c){(this||C).title!=c.target.innerHTML&&(this._onMarkerChanged(c),(this||C).title=c.target.innerHTML)}).call(x,this||C)));(this||C).bar.appendChild(S)}},{key:"setCustomTitle",value:function(c){(this||C).options.title=c}},{key:"_onDragStart",value:function(c){(this||C).eventParams.dragging=!0,(this||C).eventParams.customTime=(this||C).customTime,c.stopPropagation()}},{key:"_onDrag",value:function(c){if((this||C).eventParams.dragging){var g=(this||C).options.rtl?-1*c.deltaX:c.deltaX,w=(this||C).body.util.toScreen((this||C).eventParams.customTime)+g,x=(this||C).body.util.toTime(w),S=(this||C).body.util.getScale(),D=(this||C).body.util.getStep(),T=(this||C).options.snap,E=T?T(x,S,D):x;this.setCustomTime(E),(this||C).body.emitter.emit("timechange",{id:(this||C).options.id,time:new Date((this||C).customTime.valueOf()),event:c}),c.stopPropagation()}}},{key:"_onDragEnd",value:function(c){(this||C).eventParams.dragging&&((this||C).body.emitter.emit("timechanged",{id:(this||C).options.id,time:new Date((this||C).customTime.valueOf()),event:c}),c.stopPropagation())}},{key:"_onMarkerChange",value:function(c){(this||C).body.emitter.emit("markerchange",{id:(this||C).options.id,title:c.target.innerHTML,event:c}),c.stopPropagation()}},{key:"_onMarkerChanged",value:function(c){(this||C).body.emitter.emit("markerchanged",{id:(this||C).options.id,title:c.target.innerHTML,event:c}),c.stopPropagation()}}],[{key:"customTimeFromTarget",value:function(c){for(var g=c.target;g;){if(g.hasOwnProperty("custom-time"))return g["custom-time"];g=g.parentNode}return null}}]),i}(uw),$k=function(){function t(){bo(this||C,t)}return So(t,[{key:"_create",value:function(c){var g,w,x,S=this||C;(this||C).dom={},(this||C).dom.container=c,(this||C).dom.container.style.position="relative",(this||C).dom.root=document.createElement("div"),(this||C).dom.background=document.createElement("div"),(this||C).dom.backgroundVertical=document.createElement("div"),(this||C).dom.backgroundHorizontal=document.createElement("div"),(this||C).dom.centerContainer=document.createElement("div"),(this||C).dom.leftContainer=document.createElement("div"),(this||C).dom.rightContainer=document.createElement("div"),(this||C).dom.center=document.createElement("div"),(this||C).dom.left=document.createElement("div"),(this||C).dom.right=document.createElement("div"),(this||C).dom.top=document.createElement("div"),(this||C).dom.bottom=document.createElement("div"),(this||C).dom.shadowTop=document.createElement("div"),(this||C).dom.shadowBottom=document.createElement("div"),(this||C).dom.shadowTopLeft=document.createElement("div"),(this||C).dom.shadowBottomLeft=document.createElement("div"),(this||C).dom.shadowTopRight=document.createElement("div"),(this||C).dom.shadowBottomRight=document.createElement("div"),(this||C).dom.rollingModeBtn=document.createElement("div"),(this||C).dom.loadingScreen=document.createElement("div"),(this||C).dom.root.className="vis-timeline",(this||C).dom.background.className="vis-panel vis-background",(this||C).dom.backgroundVertical.className="vis-panel vis-background vis-vertical",(this||C).dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",(this||C).dom.centerContainer.className="vis-panel vis-center",(this||C).dom.leftContainer.className="vis-panel vis-left",(this||C).dom.rightContainer.className="vis-panel vis-right",(this||C).dom.top.className="vis-panel vis-top",(this||C).dom.bottom.className="vis-panel vis-bottom",(this||C).dom.left.className="vis-content",(this||C).dom.center.className="vis-content",(this||C).dom.right.className="vis-content",(this||C).dom.shadowTop.className="vis-shadow vis-top",(this||C).dom.shadowBottom.className="vis-shadow vis-bottom",(this||C).dom.shadowTopLeft.className="vis-shadow vis-top",(this||C).dom.shadowBottomLeft.className="vis-shadow vis-bottom",(this||C).dom.shadowTopRight.className="vis-shadow vis-top",(this||C).dom.shadowBottomRight.className="vis-shadow vis-bottom",(this||C).dom.rollingModeBtn.className="vis-rolling-mode-btn",(this||C).dom.loadingScreen.className="vis-loading-screen",(this||C).dom.root.appendChild((this||C).dom.background),(this||C).dom.root.appendChild((this||C).dom.backgroundVertical),(this||C).dom.root.appendChild((this||C).dom.backgroundHorizontal),(this||C).dom.root.appendChild((this||C).dom.centerContainer),(this||C).dom.root.appendChild((this||C).dom.leftContainer),(this||C).dom.root.appendChild((this||C).dom.rightContainer),(this||C).dom.root.appendChild((this||C).dom.top),(this||C).dom.root.appendChild((this||C).dom.bottom),(this||C).dom.root.appendChild((this||C).dom.rollingModeBtn),(this||C).dom.centerContainer.appendChild((this||C).dom.center),(this||C).dom.leftContainer.appendChild((this||C).dom.left),(this||C).dom.rightContainer.appendChild((this||C).dom.right),(this||C).dom.centerContainer.appendChild((this||C).dom.shadowTop),(this||C).dom.centerContainer.appendChild((this||C).dom.shadowBottom),(this||C).dom.leftContainer.appendChild((this||C).dom.shadowTopLeft),(this||C).dom.leftContainer.appendChild((this||C).dom.shadowBottomLeft),(this||C).dom.rightContainer.appendChild((this||C).dom.shadowTopRight),(this||C).dom.rightContainer.appendChild((this||C).dom.shadowBottomRight),(this||C).props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",(function(){!0===S.initialDrawDone&&S._redraw()})),this.on("rangechanged",(function(){S.initialRangeChangeDone||(S.initialRangeChangeDone=!0)})),this.on("touch",Gh(g=(this||C)._onTouch).call(g,this||C)),this.on("panmove",Gh(w=(this||C)._onDrag).call(w,this||C));var D=this||C;(this||C)._origRedraw=Gh(x=(this||C)._redraw).call(x,this||C),(this||C)._redraw=Kb.throttle((this||C)._origRedraw),this.on("_change",(function(c){D.itemSet&&D.itemSet.initialItemSetDrawn&&c&&1==c.queue?D._redraw():D._origRedraw()})),(this||C).hammer=new Tk((this||C).dom.root);var T=(this||C).hammer.get("pinch").set({enable:!0});T&&function(c){c.getTouchAction=function(){return["pan-y"]}}(T),(this||C).hammer.get("pan").set({threshold:5,direction:Tk.DIRECTION_ALL}),(this||C).timelineListeners={};var E,O,A=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];function u(c){this.isActive()&&this.emit("mousewheel",c);var g=0,w=0;if("detail"in c&&(w=-1*c.detail),"wheelDelta"in c&&(w=c.wheelDelta),"wheelDeltaY"in c&&(w=c.wheelDeltaY),"wheelDeltaX"in c&&(g=-1*c.wheelDeltaX),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(g=-1*w,w=0),"deltaY"in c&&(w=-1*c.deltaY),"deltaX"in c&&(g=c.deltaX),c.deltaMode&&(1===c.deltaMode?(g*=40,w*=40):(g*=40,w*=800)),(this||C).options.preferZoom){if(!(this||C).options.zoomKey||c[(this||C).options.zoomKey])return}else if((this||C).options.zoomKey&&c[(this||C).options.zoomKey])return;if((this||C).options.verticalScroll||(this||C).options.horizontalScroll)if((this||C).options.verticalScroll&&Math.abs(w)>=Math.abs(g)){var x=(this||C).props.scrollTop,S=x+w;this.isActive()&&this._setScrollTop(S)!==x&&(this._redraw(),this.emit("scroll",c),c.preventDefault())}else if((this||C).options.horizontalScroll){var D=(Math.abs(g)>=Math.abs(w)?g:w)/120*((this||C).range.end-(this||C).range.start)/20,T=(this||C).range.start+D,E=(this||C).range.end+D,O={animation:!1,byUser:!0,event:c};(this||C).range.setRange(T,E,O),c.preventDefault()}}hu(A).call(A,(function(c){var e=function(g){D.isActive()&&D.emit(c,g)};D.hammer.on(c,e),D.timelineListeners[c]=e})),hk((this||C).hammer,(function(c){D.emit("touch",c)})),E=(this||C).hammer,(O=function(c){D.emit("release",c)}).inputHandler=function(c){c.isFinal&&O(c)},E.on("hammer.input",O.inputHandler);var P="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":(this||C).dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";function d(c){if(D.options.verticalScroll&&(c.preventDefault(),D.isActive())){var g=-c.target.scrollTop;D._setScrollTop(g),D._redraw(),D.emit("scrollSide",c)}}(this||C).dom.top.addEventListener,(this||C).dom.bottom.addEventListener,(this||C).dom.centerContainer.addEventListener(P,Gh(u).call(u,this||C),!1),(this||C).dom.top.addEventListener(P,Gh(u).call(u,this||C),!1),(this||C).dom.bottom.addEventListener(P,Gh(u).call(u,this||C),!1),(this||C).dom.left.parentNode.addEventListener("scroll",Gh(d).call(d,this||C)),(this||C).dom.right.parentNode.addEventListener("scroll",Gh(d).call(d,this||C));var M=!1;function m(c){var g;if(c.preventDefault&&(D.emit("dragover",D.getEventProperties(c)),c.preventDefault()),zm(g=c.target.className).call(g,"timeline")>-1&&!M)return c.dataTransfer.dropEffect="move",M=!0,!1}function f(c){c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation();try{var g=JSON.parse(c.dataTransfer.getData("text"));if(!g||!g.content)return}catch(c){return!1}return M=!1,c.center={x:c.clientX,y:c.clientY},"item"!==g.target?D.itemSet._onAddItem(c):D.itemSet._onDropObjectOnItem(c),D.emit("drop",D.getEventProperties(c)),!1}if((this||C).dom.center.addEventListener("dragover",Gh(m).call(m,this||C),!1),(this||C).dom.center.addEventListener("drop",Gh(f).call(f,this||C),!1),(this||C).customTimes=[],(this||C).touch={},(this||C).redrawCount=0,(this||C).initialDrawDone=!1,(this||C).initialRangeChangeDone=!1,!c)throw new Error("No container provided");c.appendChild((this||C).dom.root),c.appendChild((this||C).dom.loadingScreen)}},{key:"setOptions",value:function(c){var g;if(c){if(Kb.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","verticalScroll","longSelectPressTime","snap"],(this||C).options,c),(this||C).dom.rollingModeBtn.style.visibility="hidden",(this||C).options.rtl&&((this||C).dom.container.style.direction="rtl",(this||C).dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),(this||C).options.verticalScroll&&((this||C).options.rtl?(this||C).dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":(this||C).dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==Sh((this||C).options.orientation)&&((this||C).options.orientation={item:void 0,axis:void 0}),"orientation"in c&&("string"==typeof c.orientation?(this||C).options.orientation={item:c.orientation,axis:c.orientation}:"object"===Sh(c.orientation)&&("item"in c.orientation&&((this||C).options.orientation.item=c.orientation.item),"axis"in c.orientation&&((this||C).options.orientation.axis=c.orientation.axis))),"both"===(this||C).options.orientation.axis){if(!(this||C).timeAxis2){var w=(this||C).timeAxis2=new Ok((this||C).body);w.setOptions=function(c){var g=c?Kb.extend({},c):{};g.orientation="top",Ok.prototype.setOptions.call(w,g)},(this||C).components.push(w)}}else if((this||C).timeAxis2){var x,S,D=zm(x=(this||C).components).call(x,(this||C).timeAxis2);-1!==D&&vp(S=(this||C).components).call(S,D,1);(this||C).timeAxis2.destroy(),(this||C).timeAxis2=null}"function"==typeof c.drawPoints&&(c.drawPoints={onRender:c.drawPoints}),"hiddenDates"in(this||C).options&&Rw((this||C).options.moment,(this||C).body,(this||C).options.hiddenDates),"clickToUse"in c&&(c.clickToUse?(this||C).activator||((this||C).activator=new mk((this||C).dom.root)):(this||C).activator&&((this||C).activator.destroy(),delete(this||C).activator)),this._initAutoResize()}if(hu(g=(this||C).components).call(g,(function(g){return g.setOptions(c)})),"configure"in c){var T;(this||C).configurator||((this||C).configurator=this._createConfigurator()),(this||C).configurator.setOptions(c.configure);var E=Kb.deepExtend({},(this||C).options);hu(T=(this||C).components).call(T,(function(c){Kb.deepExtend(E,c.options)})),(this||C).configurator.setModuleOptions({global:E})}this._redraw()}},{key:"isActive",value:function(){return!(this||C).activator||(this||C).activator.active}},{key:"destroy",value:function(){var c;for(var g in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),(this||C).dom.root.parentNode&&(this||C).dom.root.parentNode.removeChild((this||C).dom.root),(this||C).dom=null,(this||C).activator&&((this||C).activator.destroy(),delete(this||C).activator),(this||C).timelineListeners)(this||C).timelineListeners.hasOwnProperty(g)&&delete(this||C).timelineListeners[g];(this||C).timelineListeners=null,(this||C).hammer&&(this||C).hammer.destroy(),(this||C).hammer=null,hu(c=(this||C).components).call(c,(function(c){return c.destroy()})),(this||C).body=null}},{key:"setCustomTime",value:function(c,g){var w,x=gu(w=(this||C).customTimes).call(w,(function(c){return g===c.options.id}));if(0===x.length)throw new Error("No custom time bar found with id ".concat(gf(g)));x.length>0&&x[0].setCustomTime(c)}},{key:"getCustomTime",value:function(c){var g,w=gu(g=(this||C).customTimes).call(g,(function(g){return g.options.id===c}));if(0===w.length)throw new Error("No custom time bar found with id ".concat(gf(c)));return w[0].getCustomTime()}},{key:"setCustomTimeMarker",value:function(c,g,w){var x,S=gu(x=(this||C).customTimes).call(x,(function(c){return c.options.id===g}));if(0===S.length)throw new Error("No custom time bar found with id ".concat(gf(g)));S.length>0&&S[0].setCustomMarker(c,w)}},{key:"setCustomTimeTitle",value:function(c,g){var w,x=gu(w=(this||C).customTimes).call(w,(function(c){return c.options.id===g}));if(0===x.length)throw new Error("No custom time bar found with id ".concat(gf(g)));if(x.length>0)return x[0].setCustomTitle(c)}},{key:"getEventProperties",value:function(c){return{event:c}}},{key:"addCustomTime",value:function(c,g){var w,x=void 0!==c?Kb.convert(c,"Date"):new Date;if(rk(w=(this||C).customTimes).call(w,(function(c){return c.options.id===g})))throw new Error("A custom time with id ".concat(gf(g)," already exists"));var S=new Kk((this||C).body,Kb.extend({},(this||C).options,{time:x,id:g,snap:(this||C).itemSet?(this||C).itemSet.options.snap:(this||C).options.snap}));return(this||C).customTimes.push(S),(this||C).components.push(S),this._redraw(),g}},{key:"removeCustomTime",value:function(c){var g,w=this||C,x=gu(g=(this||C).customTimes).call(g,(function(g){return g.options.id===c}));if(0===x.length)throw new Error("No custom time bar found with id ".concat(gf(c)));hu(x).call(x,(function(c){var g,x,C,S;vp(g=w.customTimes).call(g,zm(x=w.customTimes).call(x,c),1),vp(C=w.components).call(C,zm(S=w.components).call(S,c),1),c.destroy()}))}},{key:"getVisibleItems",value:function(){return(this||C).itemSet&&(this||C).itemSet.getVisibleItems()||[]}},{key:"getItemsAtCurrentTime",value:function(c){return(this||C).time=c,(this||C).itemSet&&(this||C).itemSet.getItemsAtCurrentTime((this||C).time)||[]}},{key:"getVisibleGroups",value:function(){return(this||C).itemSet&&(this||C).itemSet.getVisibleGroups()||[]}},{key:"fit",value:function(c,g){var w=this.getDataRange();if(null!==w.min||null!==w.max){var x=w.max-w.min,S=new Date(w.min.valueOf()-.01*x),D=new Date(w.max.valueOf()+.01*x),T=!c||void 0===c.animation||c.animation;(this||C).range.setRange(S,D,{animation:T},g)}}},{key:"getDataRange",value:function(){throw new Error("Cannot invoke abstract method getDataRange")}},{key:"setWindow",value:function(c,g,w,x){var S,D;"function"==typeof arguments[2]&&(x=arguments[2],w={}),1==arguments.length?(S=void 0===(D=arguments[0]).animation||D.animation,(this||C).range.setRange(D.start,D.end,{animation:S})):2==arguments.length&&"function"==typeof arguments[1]?(x=arguments[1],S=void 0===(D=arguments[0]).animation||D.animation,(this||C).range.setRange(D.start,D.end,{animation:S},x)):(S=!w||void 0===w.animation||w.animation,(this||C).range.setRange(c,g,{animation:S},x))}},{key:"moveTo",value:function(c,g,w){"function"==typeof arguments[1]&&(w=arguments[1],g={});var x=(this||C).range.end-(this||C).range.start,S=Kb.convert(c,"Date").valueOf(),D=S-x/2,T=S+x/2,E=!g||void 0===g.animation||g.animation;(this||C).range.setRange(D,T,{animation:E},w)}},{key:"getWindow",value:function(){var c=(this||C).range.getRange();return{start:new Date(c.start),end:new Date(c.end)}}},{key:"zoomIn",value:function(c,g,w){if(!(!c||c<0||c>1)){"function"==typeof arguments[1]&&(w=arguments[1],g={});var x=this.getWindow(),C=x.start.valueOf(),S=x.end.valueOf(),D=S-C,T=D/(1+c),E=(D-T)/2,O=C+E,A=S-E;this.setWindow(O,A,g,w)}}},{key:"zoomOut",value:function(c,g,w){if(!(!c||c<0||c>1)){"function"==typeof arguments[1]&&(w=arguments[1],g={});var x=this.getWindow(),C=x.start.valueOf(),S=x.end.valueOf(),D=S-C,T=C-D*c/2,E=S+D*c/2;this.setWindow(T,E,g,w)}}},{key:"redraw",value:function(){this._redraw()}},{key:"_redraw",value:function(){var c;(this||C).redrawCount++;var g=(this||C).dom;if(g&&g.container&&0!=g.root.offsetWidth){var w=!1,x=(this||C).options,S=(this||C).props;Lw((this||C).options.moment,(this||C).body,(this||C).options.hiddenDates),"top"==x.orientation?(Kb.addClassName(g.root,"vis-top"),Kb.removeClassName(g.root,"vis-bottom")):(Kb.removeClassName(g.root,"vis-top"),Kb.addClassName(g.root,"vis-bottom")),x.rtl?(Kb.addClassName(g.root,"vis-rtl"),Kb.removeClassName(g.root,"vis-ltr")):(Kb.addClassName(g.root,"vis-ltr"),Kb.removeClassName(g.root,"vis-rtl")),g.root.style.maxHeight=Kb.option.asSize(x.maxHeight,""),g.root.style.minHeight=Kb.option.asSize(x.minHeight,""),g.root.style.width=Kb.option.asSize(x.width,"");var D=g.root.offsetWidth;S.border.left=1,S.border.right=1,S.border.top=1,S.border.bottom=1,S.center.height=g.center.offsetHeight,S.left.height=g.left.offsetHeight,S.right.height=g.right.offsetHeight,S.top.height=g.top.clientHeight||-S.border.top,S.bottom.height=Math.round(g.bottom.getBoundingClientRect().height)||g.bottom.clientHeight||-S.border.bottom;var T=Math.max(S.left.height,S.center.height,S.right.height),E=S.top.height+T+S.bottom.height+S.border.top+S.border.bottom;g.root.style.height=Kb.option.asSize(x.height,"".concat(E,"px")),S.root.height=g.root.offsetHeight,S.background.height=S.root.height;var O=S.root.height-S.top.height-S.bottom.height;S.centerContainer.height=O,S.leftContainer.height=O,S.rightContainer.height=S.leftContainer.height,S.root.width=D,S.background.width=S.root.width,(this||C).initialDrawDone||(S.scrollbarWidth=Kb.getScrollBarWidth());var A=g.leftContainer.clientWidth,P=g.rightContainer.clientWidth;x.verticalScroll?x.rtl?(S.left.width=A||-S.border.left,S.right.width=P+S.scrollbarWidth||-S.border.right):(S.left.width=A+S.scrollbarWidth||-S.border.left,S.right.width=P||-S.border.right):(S.left.width=A||-S.border.left,S.right.width=P||-S.border.right),this._setDOM();var M=this._updateScrollTop();"top"!=x.orientation.item&&(M+=Math.max(S.centerContainer.height-S.center.height-S.border.top-S.border.bottom,0)),g.center.style.transform="translateY(".concat(M,"px)");var N=0==S.scrollTop?"hidden":"",R=S.scrollTop==S.scrollTopMin?"hidden":"";g.shadowTop.style.visibility=N,g.shadowBottom.style.visibility=R,g.shadowTopLeft.style.visibility=N,g.shadowBottomLeft.style.visibility=R,g.shadowTopRight.style.visibility=N,g.shadowBottomRight.style.visibility=R,x.verticalScroll&&(g.rightContainer.className="vis-panel vis-right vis-vertical-scroll",g.leftContainer.className="vis-panel vis-left vis-vertical-scroll",g.shadowTopRight.style.visibility="hidden",g.shadowBottomRight.style.visibility="hidden",g.shadowTopLeft.style.visibility="hidden",g.shadowBottomLeft.style.visibility="hidden",g.left.style.top="0px",g.right.style.top="0px"),(!x.verticalScroll||S.center.height<S.centerContainer.height)&&(g.left.style.top="".concat(M,"px"),g.right.style.top="".concat(M,"px"),g.rightContainer.className=g.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),g.leftContainer.className=g.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),S.left.width=A||-S.border.left,S.right.width=P||-S.border.right,this._setDOM());var L=S.center.height>S.centerContainer.height;(this||C).hammer.get("pan").set({direction:L?Tk.DIRECTION_ALL:Tk.DIRECTION_HORIZONTAL}),(this||C).hammer.get("press").set({time:(this||C).options.longSelectPressTime}),hu(c=(this||C).components).call(c,(function(c){w=c.redraw()||w}));if(w){if((this||C).redrawCount<5)return void(this||C).body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else(this||C).redrawCount=0;(this||C).body.emitter.emit("changed")}}},{key:"_setDOM",value:function(){var c=(this||C).props,g=(this||C).dom;c.leftContainer.width=c.left.width,c.rightContainer.width=c.right.width;var w=c.root.width-c.left.width-c.right.width;c.center.width=w,c.centerContainer.width=w,c.top.width=w,c.bottom.width=w,g.background.style.height="".concat(c.background.height,"px"),g.backgroundVertical.style.height="".concat(c.background.height,"px"),g.backgroundHorizontal.style.height="".concat(c.centerContainer.height,"px"),g.centerContainer.style.height="".concat(c.centerContainer.height,"px"),g.leftContainer.style.height="".concat(c.leftContainer.height,"px"),g.rightContainer.style.height="".concat(c.rightContainer.height,"px"),g.background.style.width="".concat(c.background.width,"px"),g.backgroundVertical.style.width="".concat(c.centerContainer.width,"px"),g.backgroundHorizontal.style.width="".concat(c.background.width,"px"),g.centerContainer.style.width="".concat(c.center.width,"px"),g.top.style.width="".concat(c.top.width,"px"),g.bottom.style.width="".concat(c.bottom.width,"px"),g.background.style.left="0",g.background.style.top="0",g.backgroundVertical.style.left="".concat(c.left.width+c.border.left,"px"),g.backgroundVertical.style.top="0",g.backgroundHorizontal.style.left="0",g.backgroundHorizontal.style.top="".concat(c.top.height,"px"),g.centerContainer.style.left="".concat(c.left.width,"px"),g.centerContainer.style.top="".concat(c.top.height,"px"),g.leftContainer.style.left="0",g.leftContainer.style.top="".concat(c.top.height,"px"),g.rightContainer.style.left="".concat(c.left.width+c.center.width,"px"),g.rightContainer.style.top="".concat(c.top.height,"px"),g.top.style.left="".concat(c.left.width,"px"),g.top.style.top="0",g.bottom.style.left="".concat(c.left.width,"px"),g.bottom.style.top="".concat(c.top.height+c.centerContainer.height,"px"),g.center.style.left="0",g.left.style.left="0",g.right.style.left="0"}},{key:"setCurrentTime",value:function(c){if(!(this||C).currentTime)throw new Error("Option showCurrentTime must be true");(this||C).currentTime.setCurrentTime(c)}},{key:"getCurrentTime",value:function(){if(!(this||C).currentTime)throw new Error("Option showCurrentTime must be true");return(this||C).currentTime.getCurrentTime()}},{key:"_toTime",value:function(c){return Hw(this||C,c,(this||C).props.center.width)}},{key:"_toGlobalTime",value:function(c){return Hw(this||C,c,(this||C).props.root.width)}},{key:"_toScreen",value:function(c){return zw(this||C,c,(this||C).props.center.width)}},{key:"_toGlobalScreen",value:function(c){return zw(this||C,c,(this||C).props.root.width)}},{key:"_initAutoResize",value:function(){1==(this||C).options.autoResize?this._startAutoResize():this._stopAutoResize()}},{key:"_startAutoResize",value:function(){var c=this||C;this._stopAutoResize(),(this||C)._onResize=function(){if(1==c.options.autoResize){if(c.dom.root){var g=c.dom.root.offsetHeight,w=c.dom.root.offsetWidth;w==c.props.lastWidth&&g==c.props.lastHeight||(c.props.lastWidth=w,c.props.lastHeight=g,c.props.scrollbarWidth=Kb.getScrollBarWidth(),c.body.emitter.emit("_change"))}}else c._stopAutoResize()},Kb.addEventListener(window,"resize",(this||C)._onResize),c.dom.root&&(c.props.lastWidth=c.dom.root.offsetWidth,c.props.lastHeight=c.dom.root.offsetHeight),(this||C).watchTimer=Sk((this||C)._onResize,1e3)}},{key:"_stopAutoResize",value:function(){(this||C).watchTimer&&(clearInterval((this||C).watchTimer),(this||C).watchTimer=void 0),(this||C)._onResize&&(Kb.removeEventListener(window,"resize",(this||C)._onResize),(this||C)._onResize=null)}},{key:"_onTouch",value:function(c){(this||C).touch.allowDragging=!0,(this||C).touch.initialScrollTop=(this||C).props.scrollTop}},{key:"_onPinch",value:function(c){(this||C).touch.allowDragging=!1}},{key:"_onDrag",value:function(c){if(c&&(this||C).touch.allowDragging){var g=c.deltaY,w=this._getScrollTop(),x=this._setScrollTop((this||C).touch.initialScrollTop+g);(this||C).options.verticalScroll&&((this||C).dom.left.parentNode.scrollTop=-(this||C).props.scrollTop,(this||C).dom.right.parentNode.scrollTop=-(this||C).props.scrollTop),x!=w&&this.emit("verticalDrag")}}},{key:"_setScrollTop",value:function(c){return(this||C).props.scrollTop=c,this._updateScrollTop(),(this||C).props.scrollTop}},{key:"_updateScrollTop",value:function(){var c=Math.min((this||C).props.centerContainer.height-(this||C).props.border.top-(this||C).props.border.bottom-(this||C).props.center.height,0);return c!=(this||C).props.scrollTopMin&&("top"!=(this||C).options.orientation.item&&((this||C).props.scrollTop+=c-(this||C).props.scrollTopMin),(this||C).props.scrollTopMin=c),(this||C).props.scrollTop>0&&((this||C).props.scrollTop=0),(this||C).props.scrollTop<c&&((this||C).props.scrollTop=c),(this||C).options.verticalScroll&&((this||C).dom.left.parentNode.scrollTop=-(this||C).props.scrollTop,(this||C).dom.right.parentNode.scrollTop=-(this||C).props.scrollTop),(this||C).props.scrollTop}},{key:"_getScrollTop",value:function(){return(this||C).props.scrollTop}},{key:"_createConfigurator",value:function(){throw new Error("Cannot invoke abstract method _createConfigurator")}}]),t}();function Mk(c){var g=function(){if("undefined"==typeof Reflect||!Go)return!1;if(Go.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Go(Boolean,[],(function(){}))),!0}catch(c){return!1}}();return function(){var w,x=Mh(c);if(g){var S=Mh(this||C).constructor;w=Go(x,arguments,S)}else w=x.apply(this||C,arguments);return Th(this||C,w)}}Uf($k.prototype);var Jk=function(c){zo(i,c);var g=Mk(i);function i(c,w){var x,S;bo(this||C,i),(S=g.call(this||C)).body=c,S.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:Tu,locales:qk,locale:"en"},S.options=Kb.extend({},S.defaultOptions),S.setOptions(w),S.options.locales=Kb.extend({},qk,S.options.locales);var D=S.defaultOptions.locales[S.defaultOptions.locale];return hu(x=Mc(S.options.locales)).call(x,(function(c){S.options.locales[c]=Kb.extend({},D,S.options.locales[c])})),S.offset=0,S._create(),S}return So(i,[{key:"_create",value:function(){var c=document.createElement("div");c.className="vis-current-time",c.style.position="absolute",c.style.top="0px",c.style.height="100%",(this||C).bar=c}},{key:"destroy",value:function(){(this||C).options.showCurrentTime=!1,this.redraw(),(this||C).body=null}},{key:"setOptions",value:function(c){c&&Kb.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],(this||C).options,c)}},{key:"redraw",value:function(){if((this||C).options.showCurrentTime){var c,g,w=(this||C).body.dom.backgroundVertical;(this||C).bar.parentNode!=w&&((this||C).bar.parentNode&&(this||C).bar.parentNode.removeChild((this||C).bar),w.appendChild((this||C).bar),this.start());var x=(this||C).options.moment(rp()+(this||C).offset);(this||C).options.alignCurrentTime&&(x=x.startOf((this||C).options.alignCurrentTime));var S=(this||C).body.util.toScreen(x),D=(this||C).options.locales[(this||C).options.locale];D||((this||C).warned||(console.warn("WARNING: options.locales['".concat((this||C).options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),(this||C).warned=!0),D=(this||C).options.locales.en);var T=Fd(c=Fd(g="".concat(D.current," ")).call(g,D.time,": ")).call(c,x.format("dddd, MMMM Do YYYY, H:mm:ss"));T=T.charAt(0).toUpperCase()+T.substring(1),(this||C).options.rtl?(this||C).bar.style.transform="translateX(".concat(-1*S,"px)"):(this||C).bar.style.transform="translateX(".concat(S,"px)"),(this||C).bar.title=T}else(this||C).bar.parentNode&&(this||C).bar.parentNode.removeChild((this||C).bar),this.stop();return!1}},{key:"start",value:function(){var c=this||C;!function e(){c.stop();var g=1/c.body.range.conversion(c.body.domProps.center.width).scale/10;g<30&&(g=30),g>1e3&&(g=1e3),c.redraw(),c.body.emitter.emit("currentTimeTick"),c.currentTimeTimer=fu(e,g)}()}},{key:"stop",value:function(){void 0!==(this||C).currentTimeTimer&&(clearTimeout((this||C).currentTimeTimer),delete(this||C).currentTimeTimer)}},{key:"setCurrentTime",value:function(c){var g=Kb.convert(c,"Date").valueOf(),w=rp();(this||C).offset=g-w,this.redraw()}},{key:"getCurrentTime",value:function(){return new Date(rp()+(this||C).offset)}}]),i}(uw),Zk=gi,Qk=Us.find,t_="find",e_=!0;t_ in[]&&Array(1).find((function(){e_=!1})),Zk({target:"Array",proto:!0,forced:e_},{find:function(c){return Qk(this||C,c,arguments.length>1?arguments[1]:void 0)}});var i_=Lh("Array").find,n_=gt,o_=i_,r_=Array.prototype,Wk=function(c){var g=c.find;return c===r_||n_(r_,c)&&g===r_.find?o_:g},s_={exports:{}},a_=k((function(){if("function"==typeof ArrayBuffer){var c=new ArrayBuffer(8);Object.isExtensible(c)&&Object.defineProperty(c,"a",{value:8})}})),l_=k,h_=q,u_=F,c_=a_,p_=Object.isExtensible,m_=l_((function(){p_(1)}))||c_?function(c){return!!h_(c)&&(!c_||"ArrayBuffer"!=u_(c))&&(!p_||p_(c))}:p_,f_=!k((function(){return Object.isExtensible(Object.preventExtensions({}))})),v_=gi,g_=j,y_=Hn,b_=q,w_=le,k_=li.f,__=Wr,x_=Ur,C_=m_,S_=f_,E_=!1,O_=Kt("meta"),I_=0,d_=function(c){k_(c,O_,{value:{objectID:"O"+I_++,weakData:{}}})},P_=s_.exports={enable:function(){P_.enable=function(){},E_=!0;var c=__.f,g=g_([].splice),w={};w[O_]=1,c(w).length&&(__.f=function(w){for(var x=c(w),C=0,S=x.length;C<S;C++)if(x[C]===O_){g(x,C,1);break}return x},v_({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:x_.f}))},fastKey:function(c,g){if(!b_(c))return"symbol"==typeof c?c:("string"==typeof c?"S":"P")+c;if(!w_(c,O_)){if(!C_(c))return"F";if(!g)return"E";d_(c)}return c[O_].objectID},getWeakData:function(c,g){if(!w_(c,O_)){if(!C_(c))return!0;if(!g)return!1;d_(c)}return c[O_].weakData},onFreeze:function(c){return S_&&E_&&C_(c)&&!w_(c,O_)&&d_(c),c}};y_[O_]=!0;var M_=Ye,N_=G,F_=$e,R_=kt,L_=Dc,j_=yn,B_=gt,z_=Lc,H_=Ac,G_=bc,W_=D.TypeError,D_=function(c,g){(this||C).stopped=c,(this||C).result=g},V_=D_.prototype,T_=function(c,g,w){var x,C,S,D,T,E,O,A=w&&w.that,P=!(!w||!w.AS_ENTRIES),M=!(!w||!w.IS_ITERATOR),N=!(!w||!w.INTERRUPTED),R=M_(g,A),f=function(c){return x&&G_(x,"normal",c),new D_(!0,c)},v=function(c){return P?(F_(c),N?R(c[0],c[1],f):R(c[0],c[1])):N?R(c,f):R(c)};if(M)x=c;else{if(!(C=H_(c)))throw W_(R_(c)+" is not iterable");if(L_(C)){for(S=0,D=j_(c);D>S;S++)if((T=v(c[S]))&&B_(V_,T))return T;return new D_(!1)}x=z_(c,C)}for(E=x.next;!(O=N_(E,x)).done;){try{T=v(O.value)}catch(c){G_(x,"throw",c)}if("object"==typeof T&&T&&B_(V_,T))return T}return new D_(!1)},Y_=gt,X_=D.TypeError,A_=function(c,g){if(Y_(g,c))return c;throw X_("Incorrect invocation")},U_=gi,q_=D,K_=s_.exports,$_=k,Z_=xi,Q_=T_,tx=A_,ex=b,ix=q,nx=is,rx=li.f,sx=Us.forEach,ax=z,lx=zs.set,hx=zs.getterFor,ux=Lr,cx=tt,dx=li,px=z,mx=se("species"),fx=li.f,vx=ko,J_=function(c,g,w){for(var x in g)w&&w.unsafe&&c[x]?c[x]=g[x]:ux(c,x,g[x],w);return c},gx=Ye,kx=A_,Ix=T_,Px=Vl,ox=function(c){var g=cx(c),w=dx.f;px&&g&&!g[mx]&&w(g,mx,{configurable:!0,get:function(){return this||C}})},Mx=z,Fx=s_.exports.fastKey,jx=zs.set,zx=zs.getterFor;(function(c,g,w){var x,S=-1!==c.indexOf("Map"),D=-1!==c.indexOf("Weak"),T=S?"set":"add",E=q_[c],O=E&&E.prototype,A={};if(ax&&ex(E)&&(D||O.forEach&&!$_((function(){(new E).entries().next()})))){var P=(x=g((function(g,w){lx(tx(g,P),{type:c,collection:new E}),null!=w&&Q_(w,g[T],{that:g,AS_ENTRIES:S})}))).prototype,M=hx(c);sx(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(c){var g="add"==c||"set"==c;!(c in O)||D&&"clear"==c||Z_(P,c,(function(w,x){var S=M(this||C).collection;if(!g&&D&&!ix(w))return"get"==c&&void 0;var T=S[c](0===w?0:w,x);return g?this||C:T}))})),D||rx(P,"size",{configurable:!0,get:function(){return M(this||C).collection.size}})}else x=w.getConstructor(g,c,S,T),K_.enable();nx(x,c,!1,!0),A[c]=x,U_({global:!0,forced:!0},A),D||w.setStrong(x,c,S)})("Set",(function(c){return function(){return c(this||C,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(c,g,w,x){var S=c((function(c,C){kx(c,D),jx(c,{type:g,index:vx(null),first:void 0,last:void 0,size:0}),Mx||(c.size=0),null!=C&&Ix(C,c[x],{that:c,AS_ENTRIES:w})})),D=S.prototype,T=zx(g),a=function(c,g,w){var x,C,S=T(c),D=l(c,g);return D?D.value=w:(S.last=D={index:C=Fx(g,!0),key:g,value:w,previous:x=S.last,next:void 0,removed:!1},S.first||(S.first=D),x&&(x.next=D),Mx?S.size++:c.size++,"F"!==C&&(S.index[C]=D)),c},l=function(c,g){var w,x=T(c),C=Fx(g);if("F"!==C)return x.index[C];for(w=x.first;w;w=w.next)if(w.key==g)return w};return J_(D,{clear:function(){for(var c=T(this||C),g=c.index,w=c.first;w;)w.removed=!0,w.previous&&(w.previous=w.previous.next=void 0),delete g[w.index],w=w.next;c.first=c.last=void 0,Mx?c.size=0:(this||C).size=0},delete:function(c){var g=this||C,w=T(g),x=l(g,c);if(x){var S=x.next,D=x.previous;delete w.index[x.index],x.removed=!0,D&&(D.next=S),S&&(S.previous=D),w.first==x&&(w.first=S),w.last==x&&(w.last=D),Mx?w.size--:g.size--}return!!x},forEach:function(c){for(var g,w=T(this||C),x=gx(c,arguments.length>1?arguments[1]:void 0);g=g?g.next:w.first;)for(x(g.value,g.key,this||C);g&&g.removed;)g=g.previous},has:function(c){return!!l(this||C,c)}}),J_(D,w?{get:function(c){var g=l(this||C,c);return g&&g.value},set:function(c,g){return a(this||C,0===c?0:c,g)}}:{add:function(c){return a(this||C,c=0===c?0:c,c)}}),Mx&&fx(D,"size",{get:function(){return T(this||C).size}}),S},setStrong:function(c,g,w){var x=g+" Iterator",S=zx(g),D=zx(x);Px(c,g,(function(c,g){jx(this||C,{type:x,target:c,state:S(c),kind:g,last:void 0})}),(function(){for(var c=D(this||C),g=c.kind,w=c.last;w&&w.removed;)w=w.previous;return c.target&&(c.last=w=w?w.next:c.state.first)?"keys"==g?{value:w.key,done:!1}:"values"==g?{value:w.value,done:!1}:{value:[w.key,w.value],done:!1}:(c.target=void 0,{value:void 0,done:!0})}),w?"entries":"values",!w,!0),ox(g)}});var Gx=pt.Set,Yx=gi,Xx=Us.findIndex,Ux="findIndex",qx=!0;Ux in[]&&Array(1).findIndex((function(){qx=!1})),Yx({target:"Array",proto:!0,forced:qx},{findIndex:function(c){return Xx(this||C,c,arguments.length>1?arguments[1]:void 0)}});var Kx=Lh("Array").findIndex,$x=gt,Zx=Kx,Qx=Array.prototype,yx=function(c){var g=c.findIndex;return c===Qx||$x(Qx,c)&&g===Qx.findIndex?Zx:g};function bx(c,g){var w=void 0!==Ud&&yd(c)||c["@@iterator"];if(!w){if(eu(c)||(w=function(c,g){var w;if(c){if("string"==typeof c)return wx(c,g);var x=Qd(w=Object.prototype.toString.call(c)).call(w,8,-1);"Object"===x&&c.constructor&&(x=c.constructor.name);return"Map"===x||"Set"===x?gd(c):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?wx(c,g):void 0}}(c))||g&&c&&"number"==typeof c.length){w&&(c=w);var x=0,o=function(){};return{s:o,n:function(){return x>=c.length?{done:!0}:{done:!1,value:c[x++]}},e:function(c){throw c},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C,S=!0,D=!1;return{s:function(){w=w.call(c)},n:function(){var c=w.next();return S=c.done,c},e:function(c){D=!0,C=c},f:function(){try{S||null==w.return||w.return()}finally{if(D)throw C}}}}function wx(c,g){(null==g||g>c.length)&&(g=c.length);for(var w=0,x=new Array(g);w<g;w++)x[w]=c[w];return x}var nC=.001;function _x(c){Fw(c).call(c,(function(c,g){return c.data.start-g.data.start}))}function xx(c){Fw(c).call(c,(function(c,g){return("end"in c.data?c.data.end:c.data.start)-("end"in g.data?g.data.end:g.data.start)}))}function Cx(c,g,w,x){return null===Ox(c,g.item,!1,(function(c){return c.stack&&(w||null===c.top)}),(function(c){return c.stack}),(function(c){return g.axis}),x)}function Dx(c,g,w){var x=Ox(c,g.item,!1,(function(c){return c.stack}),(function(c){return!0}),(function(c){return c.baseTop}));w.height=x-w.top+.5*g.item.vertical}function Sx(c,g,w,x){for(var C=0;C<c.length;C++)if(null==c[C].data.subgroup)c[C].top=g.item.vertical;else if(void 0!==c[C].data.subgroup&&x){var S=0;for(var D in w)w.hasOwnProperty(D)&&1==w[D].visible&&w[D].index<w[c[C].data.subgroup].index&&(S+=w[D].height,w[c[C].data.subgroup].top=S);c[C].top=S+.5*g.item.vertical}x||Tx(c,g,w)}function Tx(c,g,w){var x;Ox(Fw(x=Cm(w)).call(x,(function(c,g){return c.index>g.index?1:c.index<g.index?-1:0})),{vertical:0},!0,(function(c){return!0}),(function(c){return!0}),(function(c){return 0}));for(var C=0;C<c.length;C++)void 0!==c[C].data.subgroup&&(c[C].top=w[c[C].data.subgroup].top+.5*g.item.vertical)}function Ex(c,g,w){var x=!1,C=[];for(var S in w)w[S].hasOwnProperty("index")?C[w[S].index]=S:C.push(S);for(var D=0;D<C.length;D++)if(S=C[D],w.hasOwnProperty(S)){for(var T in x=x||w[S].stack,w[S].top=0,w)w[T].visible&&w[S].index>w[T].index&&(w[S].top+=w[T].height);for(var E=c[S],O=0;O<E.length;O++)void 0!==E[O].data.subgroup&&(E[O].top=w[E[O].data.subgroup].top+.5*g.item.vertical,w[S].stack&&(E[O].baseTop=E[O].top));x&&w[S].stack&&Dx(c[S],g,w[S])}}function Ox(c,g,w,x,S,D,T){var l=function(c){return c.start},h=function(c){return c.end};if(!w){var E=!(!c[0]||!c[0].options.rtl);l=E?function(c){return c.right}:function(c){return c.left},h=function(c){return l(c)+c.width+g.horizontal}}var O,A=[],P=[],M=null,N=0,R=bx(c);try{for(R.s();!(O=R.n()).done;){var L=O.value;x(L)?A.push(L):S(L)&&function(){var c=l(L);null!==M&&c<M-nC&&(N=0),M=c,N=Ax(P,(function(g){return l(g)-nC>c}),N),vp(P).call(P,N,0,L),N++}()}}catch(c){R.e(c)}finally{R.f()}M=null;var j=null;N=0;for(var B=0,z=0,H=0,_=function(){var c,w,x=A.shift();x.top=D(x);var E=l(x),O=h(x);null!==M&&E<M-nC&&(B=0,z=0,N=0,j=null),M=E,B=Ax(P,(function(c){return E<h(c)-nC}),B),(null===j||j<O-nC)&&(z=Ax(P,(function(c){return O<l(c)-nC}),Math.max(B,z))),null!==j&&j-nC>O&&(z=function(c,g,w,x){w||(w=0);x||(x=c.length);for(C.i=x-1;i>=w;i--)if(g(c[i]))return i;return w-1}(P,(function(c){return O+nC>=l(c)}),B,horizontalOVerlapEndIndex)+1);for(var R,L,G,V=Fw(c=gu(w=Qd(P).call(P,B,z)).call(w,(function(c){return E<h(c)-nC&&O-nC>l(c)}))).call(c,(function(c,g){return c.top-g.top})),Y=0;Y<V.length;Y++){var X=V[Y];L=X,G=g,(R=x).top-G.vertical+nC<L.top+L.height&&R.top+R.height+G.vertical-nC>L.top&&(x.top=X.top+X.height+g.vertical)}S(x)&&(N=Ax(P,(function(c){return l(c)-nC>E}),N),vp(P).call(P,N,0,x),N++);var K=x.top+x.height;if(K>H&&(H=K),T&&T())return{v:null}};A.length>0;){var G=_();if("object"===Sh(G))return G.v}return H}function Ax(c,g,w){var x;w||(w=0);var C=yx(x=Qd(c).call(c,w)).call(x,g);return-1===C?c.length:C+w}var sC=Object.freeze({__proto__:null,orderByStart:_x,orderByEnd:xx,stack:Cx,substack:Dx,nostack:Sx,stackSubgroups:Tx,stackSubgroupsWithInnerStack:Ex}),aC="__background__",cC=function(){function t(c,g,w){var x=this||C;if(bo(this||C,t),(this||C).groupId=c,(this||C).subgroups={},(this||C).subgroupStack={},(this||C).subgroupStackAll=!1,(this||C).subgroupVisibility={},(this||C).doInnerStack=!1,(this||C).shouldBailStackItems=!1,(this||C).subgroupIndex=0,(this||C).subgroupOrderer=g&&g.subgroupOrder,(this||C).itemSet=w,(this||C).isVisible=null,(this||C).stackDirty=!0,(this||C)._disposeCallbacks=[],g&&g.nestedGroups&&((this||C).nestedGroups=g.nestedGroups,0==g.showNested?(this||C).showNested=!1:(this||C).showNested=!0),g&&g.subgroupStack)if("boolean"==typeof g.subgroupStack)(this||C).doInnerStack=g.subgroupStack,(this||C).subgroupStackAll=g.subgroupStack;else for(var S in g.subgroupStack)(this||C).subgroupStack[S]=g.subgroupStack[S],(this||C).doInnerStack=(this||C).doInnerStack||g.subgroupStack[S];g&&g.heightMode?(this||C).heightMode=g.heightMode:(this||C).heightMode=w.options.groupHeightMode,(this||C).nestedInGroup=null,(this||C).dom={},(this||C).props={label:{width:0,height:0}},(this||C).className=null,(this||C).items={},(this||C).visibleItems=[],(this||C).itemsInRange=[],(this||C).orderedItems={byStart:[],byEnd:[]},(this||C).checkRangedItems=!1;var s=function(){x.checkRangedItems=!0};(this||C).itemSet.body.emitter.on("checkRangedItems",s),(this||C)._disposeCallbacks.push((function(){x.itemSet.body.emitter.off("checkRangedItems",s)})),this._create(),this.setData(g)}return So(t,[{key:"_create",value:function(){var c=document.createElement("div");(this||C).itemSet.options.groupEditable.order?c.className="vis-label draggable":c.className="vis-label",(this||C).dom.label=c;var g=document.createElement("div");g.className="vis-inner",c.appendChild(g),(this||C).dom.inner=g;var w=document.createElement("div");w.className="vis-group",w["vis-group"]=this||C,(this||C).dom.foreground=w,(this||C).dom.background=document.createElement("div"),(this||C).dom.background.className="vis-group",(this||C).dom.axis=document.createElement("div"),(this||C).dom.axis.className="vis-group",(this||C).dom.marker=document.createElement("div"),(this||C).dom.marker.style.visibility="hidden",(this||C).dom.marker.style.position="absolute",(this||C).dom.marker.innerHTML="",(this||C).dom.background.appendChild((this||C).dom.marker)}},{key:"setData",value:function(c){if(!(this||C).itemSet.groupTouchParams.isDragging){var g,w,x;if(c&&c.subgroupVisibility)for(var S in c.subgroupVisibility)(this||C).subgroupVisibility[S]=c.subgroupVisibility[S];g=(this||C).itemSet.options&&(this||C).itemSet.options.groupTemplate?(w=Gh(x=(this||C).itemSet.options.groupTemplate).call(x,this||C))(c,(this||C).dom.inner):c&&c.content;if(g instanceof Element){for(;(this||C).dom.inner.firstChild;)(this||C).dom.inner.removeChild((this||C).dom.inner.firstChild);(this||C).dom.inner.appendChild(g)}else g instanceof Object&&g.isReactComponent||(g instanceof Object?w(c,(this||C).dom.inner):(this||C).dom.inner.innerHTML=null!=g?Kb.xss(g):Kb.xss((this||C).groupId||""));(this||C).dom.label.title=c&&c.title||"",(this||C).dom.inner.firstChild?Kb.removeClassName((this||C).dom.inner,"vis-hidden"):Kb.addClassName((this||C).dom.inner,"vis-hidden"),c&&c.nestedGroups?((this||C).nestedGroups&&(this||C).nestedGroups==c.nestedGroups||((this||C).nestedGroups=c.nestedGroups),void 0===c.showNested&&void 0!==(this||C).showNested||(0==c.showNested?(this||C).showNested=!1:(this||C).showNested=!0),Kb.addClassName((this||C).dom.label,"vis-nesting-group"),(this||C).showNested?(Kb.removeClassName((this||C).dom.label,"collapsed"),Kb.addClassName((this||C).dom.label,"expanded")):(Kb.removeClassName((this||C).dom.label,"expanded"),Kb.addClassName((this||C).dom.label,"collapsed"))):(this||C).nestedGroups&&((this||C).nestedGroups=null,Kb.removeClassName((this||C).dom.label,"collapsed"),Kb.removeClassName((this||C).dom.label,"expanded"),Kb.removeClassName((this||C).dom.label,"vis-nesting-group")),c&&(c.treeLevel||c.nestedInGroup)?(Kb.addClassName((this||C).dom.label,"vis-nested-group"),c.treeLevel?Kb.addClassName((this||C).dom.label,"vis-group-level-"+c.treeLevel):Kb.addClassName((this||C).dom.label,"vis-group-level-unknown-but-gte1")):Kb.addClassName((this||C).dom.label,"vis-group-level-0");var D=c&&c.className||null;D!=(this||C).className&&((this||C).className&&(Kb.removeClassName((this||C).dom.label,(this||C).className),Kb.removeClassName((this||C).dom.foreground,(this||C).className),Kb.removeClassName((this||C).dom.background,(this||C).className),Kb.removeClassName((this||C).dom.axis,(this||C).className)),Kb.addClassName((this||C).dom.label,D),Kb.addClassName((this||C).dom.foreground,D),Kb.addClassName((this||C).dom.background,D),Kb.addClassName((this||C).dom.axis,D),(this||C).className=D),(this||C).style&&(Kb.removeCssText((this||C).dom.label,(this||C).style),(this||C).style=null),c&&c.style&&(Kb.addCssText((this||C).dom.label,c.style),(this||C).style=c.style)}}},{key:"getLabelWidth",value:function(){return(this||C).props.label.width}},{key:"_didMarkerHeightChange",value:function(){var c=(this||C).dom.marker.clientHeight;if(c!=(this||C).lastMarkerHeight){(this||C).lastMarkerHeight=c;var g={},w=0;if(hu(Kb).call(Kb,(this||C).items,(function(c,x){(c.dirty=!0,c.displayed)&&(g[x]=c.redraw(!0),w=g[x].length)})),w>0)for(var n=function(c){hu(Kb).call(Kb,g,(function(g){g[c]()}))},x=0;x<w;x++)n(x);return!0}return!1}},{key:"_calculateGroupSizeAndPosition",value:function(){var c=(this||C).dom.foreground,g=c.offsetTop,w=c.offsetLeft,x=c.offsetWidth;(this||C).top=g,(this||C).right=w,(this||C).width=x}},{key:"_shouldBailItemsRedraw",value:function(){var c=this||C,g=(this||C).itemSet.options.onTimeout,w={relativeBailingTime:(this||C).itemSet.itemsSettingTime,bailTimeMs:g&&g.timeoutMs,userBailFunction:g&&g.callback,shouldBailStackItems:(this||C).shouldBailStackItems},x=null;if(!(this||C).itemSet.initialDrawDone){if(w.shouldBailStackItems)return!0;Math.abs(rp()-new Date(w.relativeBailingTime))>w.bailTimeMs&&(w.userBailFunction&&null==(this||C).itemSet.userContinueNotBail?w.userBailFunction((function(g){c.itemSet.userContinueNotBail=g,x=!g})):x=0==c.itemSet.userContinueNotBail)}return x}},{key:"_redrawItems",value:function(c,g,w,x){var S=this||C;if(c||(this||C).stackDirty||(this||C).isVisible&&!g){var D,T,E,O,A,P,M={byEnd:gu(D=(this||C).orderedItems.byEnd).call(D,(function(c){return!c.isCluster})),byStart:gu(T=(this||C).orderedItems.byStart).call(T,(function(c){return!c.isCluster}))},N={byEnd:Od(new Gx(gu(E=Ku(O=(this||C).orderedItems.byEnd).call(O,(function(c){return c.cluster}))).call(E,(function(c){return!!c})))),byStart:Od(new Gx(gu(A=Ku(P=(this||C).orderedItems.byStart).call(P,(function(c){return c.cluster}))).call(A,(function(c){return!!c}))))},p=function(){var c,g,w,C=S._updateItemsInRange(M,gu(c=S.visibleItems).call(c,(function(c){return!c.isCluster})),x),D=S._updateClustersInRange(N,gu(g=S.visibleItems).call(g,(function(c){return c.isCluster})),x);return Fd(w=[]).call(w,Od(C),Od(D))},m=function(c){var g={},i=function(w){var x,C=gu(x=S.visibleItems).call(x,(function(c){return c.data.subgroup===w}));g[w]=c?Fw(C).call(C,(function(g,w){return c(g.data,w.data)})):C};for(var w in S.subgroups)i(w);return g};if("function"==typeof(this||C).itemSet.options.order){var R=this||C;if((this||C).doInnerStack&&(this||C).itemSet.options.stackSubgroups)Ex(m((this||C).itemSet.options.order),w,(this||C).subgroups),(this||C).visibleItems=p(),this._updateSubGroupHeights(w);else{var L,j,B,z;(this||C).visibleItems=p(),this._updateSubGroupHeights(w);var H=Fw(L=gu(j=Qd(B=(this||C).visibleItems).call(B)).call(j,(function(c){return c.isCluster||!c.isCluster&&!c.cluster}))).call(L,(function(c,g){return R.itemSet.options.order(c.data,g.data)}));(this||C).shouldBailStackItems=Cx(H,w,!0,Gh(z=(this||C)._shouldBailItemsRedraw).call(z,this||C))}}else{var G;(this||C).visibleItems=p(),this._updateSubGroupHeights(w),(this||C).itemSet.options.stack?(this||C).doInnerStack&&(this||C).itemSet.options.stackSubgroups?Ex(m(),w,(this||C).subgroups):(this||C).shouldBailStackItems=Cx((this||C).visibleItems,w,!0,Gh(G=(this||C)._shouldBailItemsRedraw).call(G,this||C)):Sx((this||C).visibleItems,w,(this||C).subgroups,(this||C).itemSet.options.stackSubgroups)}for(var V=0;V<(this||C).visibleItems.length;V++)(this||C).visibleItems[V].repositionX(),void 0!==(this||C).subgroupVisibility[(this||C).visibleItems[V].data.subgroup]&&((this||C).subgroupVisibility[(this||C).visibleItems[V].data.subgroup]||(this||C).visibleItems[V].hide());(this||C).itemSet.options.cluster&&hu(Kb).call(Kb,(this||C).items,(function(c){c.cluster&&c.displayed&&c.hide()})),(this||C).shouldBailStackItems&&(this||C).itemSet.body.emitter.emit("destroyTimeline"),(this||C).stackDirty=!1}}},{key:"_didResize",value:function(c,g){c=Kb.updateProperty(this||C,"height",g)||c;var w=(this||C).dom.inner.clientWidth,x=(this||C).dom.inner.clientHeight;return c=Kb.updateProperty((this||C).props.label,"width",w)||c,Kb.updateProperty((this||C).props.label,"height",x)||c}},{key:"_applyGroupHeight",value:function(c){(this||C).dom.background.style.height="".concat(c,"px"),(this||C).dom.foreground.style.height="".concat(c,"px"),(this||C).dom.label.style.height="".concat(c,"px")}},{key:"_updateItemsVerticalPosition",value:function(c){for(var g=0,w=(this||C).visibleItems.length;g<w;g++){var x=(this||C).visibleItems[g];x.repositionY(c),(this||C).isVisible||(this||C).groupId==aC||x.displayed&&x.hide()}}},{key:"redraw",value:function(c,g,w,x){var S,D,T,E,O,A,P,M=this||C,N=!1,R=(this||C).isVisible,L=[function(){w=M._didMarkerHeightChange.call(M)||w},Gh(S=(this||C)._updateSubGroupHeights).call(S,this||C,g),Gh(D=(this||C)._calculateGroupSizeAndPosition).call(D,this||C),function(){var w;M.isVisible=Gh(w=M._isGroupVisible).call(w,M)(c,g)},function(){var x;Gh(x=M._redrawItems).call(x,M)(w,R,g,c)},Gh(T=(this||C)._updateSubgroupsSizes).call(T,this||C),function(){var c;A=Gh(c=M._calculateHeight).call(c,M)(g)},Gh(E=(this||C)._calculateGroupSizeAndPosition).call(E,this||C),function(){var c;N=Gh(c=M._didResize).call(c,M)(N,A)},function(){var c;Gh(c=M._applyGroupHeight).call(c,M)(A)},function(){var c;Gh(c=M._updateItemsVerticalPosition).call(c,M)(g)},Gh(O=function(){return!M.isVisible&&M.height&&(N=!1),N}).call(O,this||C)];return x?L:(hu(L).call(L,(function(c){P=c()})),P)}},{key:"_updateSubGroupHeights",value:function(c){var g=this||C;if(Mc((this||C).subgroups).length>0){var w=this||C;this._resetSubgroups(),hu(Kb).call(Kb,(this||C).visibleItems,(function(x){void 0!==x.data.subgroup&&(w.subgroups[x.data.subgroup].height=Math.max(w.subgroups[x.data.subgroup].height,x.height+c.item.vertical),w.subgroups[x.data.subgroup].visible=void 0===g.subgroupVisibility[x.data.subgroup]||Boolean(g.subgroupVisibility[x.data.subgroup]))}))}}},{key:"_isGroupVisible",value:function(c,g){return(this||C).top<=c.body.domProps.centerContainer.height-c.body.domProps.scrollTop+g.axis&&(this||C).top+(this||C).height+g.axis>=-c.body.domProps.scrollTop}},{key:"_calculateHeight",value:function(c){var g,w;if((w="fixed"===(this||C).heightMode?Kb.toArray((this||C).items):(this||C).visibleItems).length>0){var x=w[0].top,S=w[0].top+w[0].height;if(hu(Kb).call(Kb,w,(function(c){x=Math.min(x,c.top),S=Math.max(S,c.top+c.height)})),x>c.axis){var D=x-c.axis;S-=D,hu(Kb).call(Kb,w,(function(c){c.top-=D}))}g=Math.ceil(S+c.item.vertical/2),"fitItems"!==(this||C).heightMode&&(g=Math.max(g,(this||C).props.label.height))}else g=(this||C).props.label.height;return g}},{key:"show",value:function(){(this||C).dom.label.parentNode||(this||C).itemSet.dom.labelSet.appendChild((this||C).dom.label),(this||C).dom.foreground.parentNode||(this||C).itemSet.dom.foreground.appendChild((this||C).dom.foreground),(this||C).dom.background.parentNode||(this||C).itemSet.dom.background.appendChild((this||C).dom.background),(this||C).dom.axis.parentNode||(this||C).itemSet.dom.axis.appendChild((this||C).dom.axis)}},{key:"hide",value:function(){var c=(this||C).dom.label;c.parentNode&&c.parentNode.removeChild(c);var g=(this||C).dom.foreground;g.parentNode&&g.parentNode.removeChild(g);var w=(this||C).dom.background;w.parentNode&&w.parentNode.removeChild(w);var x=(this||C).dom.axis;x.parentNode&&x.parentNode.removeChild(x)}},{key:"add",value:function(c){var g;if((this||C).items[c.id]=c,c.setParent(this||C),(this||C).stackDirty=!0,void 0!==c.data.subgroup&&(this._addToSubgroup(c),this.orderSubgroups()),!Zp(g=(this||C).visibleItems).call(g,c)){var w=(this||C).itemSet.body.range;this._checkIfVisible(c,(this||C).visibleItems,w)}}},{key:"_addToSubgroup",value:function(c){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.data.subgroup;null!=g&&void 0===(this||C).subgroups[g]&&((this||C).subgroups[g]={height:0,top:0,start:c.data.start,end:c.data.end||c.data.start,visible:!1,index:(this||C).subgroupIndex,items:[],stack:(this||C).subgroupStackAll||(this||C).subgroupStack[g]||!1},(this||C).subgroupIndex++),new Date(c.data.start)<new Date((this||C).subgroups[g].start)&&((this||C).subgroups[g].start=c.data.start);var w=c.data.end||c.data.start;new Date(w)>new Date((this||C).subgroups[g].end)&&((this||C).subgroups[g].end=w),(this||C).subgroups[g].items.push(c)}},{key:"_updateSubgroupsSizes",value:function(){var c=this||C;if(c.subgroups){var e=function(g){var w,x=c.subgroups[g].items[0].data.end||c.subgroups[g].items[0].data.start,C=c.subgroups[g].items[0].data.start,S=x-1;hu(w=c.subgroups[g].items).call(w,(function(c){new Date(c.data.start)<new Date(C)&&(C=c.data.start);var g=c.data.end||c.data.start;new Date(g)>new Date(S)&&(S=g)})),c.subgroups[g].start=C,c.subgroups[g].end=new Date(S-1)};for(var g in c.subgroups)e(g)}}},{key:"orderSubgroups",value:function(){if(void 0!==(this||C).subgroupOrderer){var c=[];if("string"==typeof(this||C).subgroupOrderer){for(var g in(this||C).subgroups)c.push({subgroup:g,sortField:(this||C).subgroups[g].items[0].data[(this||C).subgroupOrderer]});Fw(c).call(c,(function(c,g){return c.sortField-g.sortField}))}else if("function"==typeof(this||C).subgroupOrderer){for(var w in(this||C).subgroups)c.push((this||C).subgroups[w].items[0].data);Fw(c).call(c,(this||C).subgroupOrderer)}if(c.length>0)for(var x=0;x<c.length;x++)(this||C).subgroups[c[x].subgroup].index=x}}},{key:"_resetSubgroups",value:function(){for(var c in(this||C).subgroups)(this||C).subgroups.hasOwnProperty(c)&&((this||C).subgroups[c].visible=!1,(this||C).subgroups[c].height=0)}},{key:"remove",value:function(c){var g,w;delete(this||C).items[c.id],c.setParent(null),(this||C).stackDirty=!0;var x=zm(g=(this||C).visibleItems).call(g,c);-1!=x&&vp(w=(this||C).visibleItems).call(w,x,1),void 0!==c.data.subgroup&&(this._removeFromSubgroup(c),this.orderSubgroups())}},{key:"_removeFromSubgroup",value:function(c){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.data.subgroup;if(null!=g){var w=(this||C).subgroups[g];if(w){var x,S,D=zm(x=w.items).call(x,c);D>=0&&(vp(S=w.items).call(S,D,1),w.items.length?this._updateSubgroupsSizes():delete(this||C).subgroups[g])}}}},{key:"removeFromDataSet",value:function(c){(this||C).itemSet.removeItem(c.id)}},{key:"order",value:function(){for(var c=Kb.toArray((this||C).items),g=[],w=[],x=0;x<c.length;x++)void 0!==c[x].data.end&&w.push(c[x]),g.push(c[x]);(this||C).orderedItems={byStart:g,byEnd:w},_x((this||C).orderedItems.byStart),xx((this||C).orderedItems.byEnd)}},{key:"_updateItemsInRange",value:function(c,g,w){var x=[],S={};if(!(this||C).isVisible&&(this||C).groupId!=aC){for(var D=0;D<g.length;D++){var T=g[D];T.displayed&&T.hide()}return x}var E=(w.end-w.start)/4,O=w.start-E,A=w.end+E;if(g.length>0)for(var P=0;P<g.length;P++)this._checkIfVisibleWithReference(g[P],x,S,w);var M=Kb.binarySearchCustom(c.byStart,(function(c){return c<O?-1:c<=A?0:1}),"data","start");if(this._traceVisible(M,c.byStart,x,S,(function(c){return c.data.start<O||c.data.start>A})),1==(this||C).checkRangedItems){(this||C).checkRangedItems=!1;for(var N=0;N<c.byEnd.length;N++)this._checkIfVisibleWithReference(c.byEnd[N],x,S,w)}else{var R=Kb.binarySearchCustom(c.byEnd,(function(c){var g=c.start;return c.end<O?-1:g<=A?0:1}),"data");this._traceVisible(R,c.byEnd,x,S,(function(c){return c.data.end<O||c.data.start>A}))}for(var L={},j=0,B=0;B<x.length;B++){var z=x[B];z.displayed||(L[B]=z.redraw(!0),j=L[B].length)}if(j>0)for(var y=function(c){hu(Kb).call(Kb,L,(function(g){g[c]()}))},H=0;H<j;H++)y(H);for(var G=0;G<x.length;G++)x[G].repositionX();return x}},{key:"_traceVisible",value:function(c,g,w,x,C){if(-1!=c){for(var S=c;S>=0;S--){var D=g[S];if(C(D))break;D.isCluster&&!D.hasItems()||D.cluster||void 0===x[D.id]&&(x[D.id]=!0,w.push(D))}for(var T=c+1;T<g.length;T++){var E=g[T];if(C(E))break;E.isCluster&&!E.hasItems()||E.cluster||void 0===x[E.id]&&(x[E.id]=!0,w.push(E))}}}},{key:"_checkIfVisible",value:function(c,g,w){c.isVisible(w)?(c.displayed||c.show(),c.repositionX(),g.push(c)):c.displayed&&c.hide()}},{key:"_checkIfVisibleWithReference",value:function(c,g,w,x){c.isVisible(x)?void 0===w[c.id]&&(w[c.id]=!0,g.push(c)):c.displayed&&c.hide()}},{key:"_updateClustersInRange",value:function(c,g,w){var x=[],C={};if(g.length>0)for(var S=0;S<g.length;S++)this._checkIfVisibleWithReference(g[S],x,C,w);for(var D=0;D<c.byStart.length;D++)this._checkIfVisibleWithReference(c.byStart[D],x,C,w);for(var T=0;T<c.byEnd.length;T++)this._checkIfVisibleWithReference(c.byEnd[T],x,C,w);for(var E={},O=0,A=0;A<x.length;A++){var P=x[A];P.displayed||(E[A]=P.redraw(!0),O=E[A].length)}if(O>0)for(var M=0;M<O;M++)hu(Kb).call(Kb,E,(function(c){c[M]()}));for(var N=0;N<x.length;N++)x[N].repositionX();return x}},{key:"changeSubgroup",value:function(c,g,w){this._removeFromSubgroup(c,g),this._addToSubgroup(c,w),this.orderSubgroups()}},{key:"dispose",value:function(){var c;for(this.hide();c=(this||C)._disposeCallbacks.pop();)c()}}]),t}();function Nx(c){var g=function(){if("undefined"==typeof Reflect||!Go)return!1;if(Go.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Go(Boolean,[],(function(){}))),!0}catch(c){return!1}}();return function(){var w,x=Mh(c);if(g){var S=Mh(this||C).constructor;w=Go(x,arguments,S)}else w=x.apply(this||C,arguments);return Th(this||C,w)}}var dC=function(c){zo(i,c);var g=Nx(i);function i(c,w,x){var S;return bo(this||C,i),(S=g.call(this||C,c,w,x)).width=0,S.height=0,S.top=0,S.left=0,S}return So(i,[{key:"redraw",value:function(c,g,w){(this||C).visibleItems=this._updateItemsInRange((this||C).orderedItems,(this||C).visibleItems,c),(this||C).width=(this||C).dom.background.offsetWidth,(this||C).dom.background.style.height="0";for(var x=0,S=(this||C).visibleItems.length;x<S;x++)(this||C).visibleItems[x].repositionY(g);return!1}},{key:"show",value:function(){(this||C).dom.background.parentNode||(this||C).itemSet.dom.background.appendChild((this||C).dom.background)}}]),i}(cC);function Rx(c,g){var w=void 0!==Ud&&yd(c)||c["@@iterator"];if(!w){if(eu(c)||(w=function(c,g){var w;if(c){if("string"==typeof c)return Lx(c,g);var x=Qd(w=Object.prototype.toString.call(c)).call(w,8,-1);"Object"===x&&c.constructor&&(x=c.constructor.name);return"Map"===x||"Set"===x?gd(c):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Lx(c,g):void 0}}(c))||g&&c&&"number"==typeof c.length){w&&(c=w);var x=0,o=function(){};return{s:o,n:function(){return x>=c.length?{done:!0}:{done:!1,value:c[x++]}},e:function(c){throw c},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C,S=!0,D=!1;return{s:function(){w=w.call(c)},n:function(){var c=w.next();return S=c.done,c},e:function(c){D=!0,C=c},f:function(){try{S||null==w.return||w.return()}finally{if(D)throw C}}}}function Lx(c,g){(null==g||g>c.length)&&(g=c.length);for(var w=0,x=new Array(g);w<g;w++)x[w]=c[w];return x}var pC=function(){function t(c,g,w){var x,S=this||C;bo(this||C,t),(this||C).id=null,(this||C).parent=null,(this||C).data=c,(this||C).dom=null,(this||C).conversion=g||{},(this||C).defaultOptions={locales:qk,locale:"en"},(this||C).options=Kb.extend({},(this||C).defaultOptions,w),(this||C).options.locales=Kb.extend({},qk,(this||C).options.locales);var D=(this||C).defaultOptions.locales[(this||C).defaultOptions.locale];hu(x=Mc((this||C).options.locales)).call(x,(function(c){S.options.locales[c]=Kb.extend({},D,S.options.locales[c])})),(this||C).selected=!1,(this||C).displayed=!1,(this||C).groupShowing=!0,(this||C).selectable=w&&w.selectable||!1,(this||C).dirty=!0,(this||C).top=null,(this||C).right=null,(this||C).left=null,(this||C).width=null,(this||C).height=null,this.setSelectability(c),(this||C).editable=null,this._updateEditStatus()}return So(t,[{key:"select",value:function(){(this||C).selectable&&((this||C).selected=!0,(this||C).dirty=!0,(this||C).displayed&&this.redraw())}},{key:"unselect",value:function(){(this||C).selected=!1,(this||C).dirty=!0,(this||C).displayed&&this.redraw()}},{key:"setData",value:function(c){null!=c.group&&(this||C).data.group!=c.group&&null!=(this||C).parent&&(this||C).parent.itemSet._moveToGroup(this||C,c.group),this.setSelectability(c),(this||C).parent&&((this||C).parent.stackDirty=!0),null!=c.subgroup&&(this||C).data.subgroup!=c.subgroup&&null!=(this||C).parent&&(this||C).parent.changeSubgroup(this||C,(this||C).data.subgroup,c.subgroup),(this||C).data=c,this._updateEditStatus(),(this||C).dirty=!0,(this||C).displayed&&this.redraw()}},{key:"setSelectability",value:function(c){c&&((this||C).selectable=void 0===c.selectable||Boolean(c.selectable))}},{key:"setParent",value:function(c){(this||C).displayed?(this.hide(),(this||C).parent=c,(this||C).parent&&this.show()):(this||C).parent=c}},{key:"isVisible",value:function(c){return!1}},{key:"show",value:function(){return!1}},{key:"hide",value:function(){return!1}},{key:"redraw",value:function(){}},{key:"repositionX",value:function(){}},{key:"repositionY",value:function(){}},{key:"_repaintDragCenter",value:function(){if((this||C).selected&&(this||C).editable.updateTime&&!(this||C).dom.dragCenter){var c,g,w=this||C,x=document.createElement("div");x.className="vis-drag-center",x.dragCenterItem=this||C,(this||C).hammerDragCenter=new Tk(x),(this||C).hammerDragCenter.on("tap",(function(c){w.parent.itemSet.body.emitter.emit("click",{event:c,item:w.id})})),(this||C).hammerDragCenter.on("doubletap",(function(c){c.stopPropagation(),w.parent.itemSet._onUpdateItem(w),w.parent.itemSet.body.emitter.emit("doubleClick",{event:c,item:w.id})})),(this||C).hammerDragCenter.on("panstart",(function(c){c.stopPropagation(),w.parent.itemSet._onDragStart(c)})),(this||C).hammerDragCenter.on("panmove",Gh(c=w.parent.itemSet._onDrag).call(c,w.parent.itemSet)),(this||C).hammerDragCenter.on("panend",Gh(g=w.parent.itemSet._onDragEnd).call(g,w.parent.itemSet)),(this||C).hammerDragCenter.get("press").set({time:1e4}),(this||C).dom.box?(this||C).dom.dragLeft?(this||C).dom.box.insertBefore(x,(this||C).dom.dragLeft):(this||C).dom.box.appendChild(x):(this||C).dom.point&&(this||C).dom.point.appendChild(x),(this||C).dom.dragCenter=x}else!(this||C).selected&&(this||C).dom.dragCenter&&((this||C).dom.dragCenter.parentNode&&(this||C).dom.dragCenter.parentNode.removeChild((this||C).dom.dragCenter),(this||C).dom.dragCenter=null,(this||C).hammerDragCenter&&((this||C).hammerDragCenter.destroy(),(this||C).hammerDragCenter=null))}},{key:"_repaintDeleteButton",value:function(c){var g=((this||C).options.editable.overrideItems||null==(this||C).editable)&&(this||C).options.editable.remove||!(this||C).options.editable.overrideItems&&null!=(this||C).editable&&(this||C).editable.remove;if((this||C).selected&&g&&!(this||C).dom.deleteButton){var w=this||C,x=document.createElement("div");(this||C).options.rtl?x.className="vis-delete-rtl":x.className="vis-delete";var S=(this||C).options.locales[(this||C).options.locale];S||((this||C).warned||(console.warn("WARNING: options.locales['".concat((this||C).options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),(this||C).warned=!0),S=(this||C).options.locales.en),x.title=S.deleteSelected,(this||C).hammerDeleteButton=new Tk(x).on("tap",(function(c){c.stopPropagation(),w.parent.removeFromDataSet(w)})),c.appendChild(x),(this||C).dom.deleteButton=x}else(this||C).selected&&g||!(this||C).dom.deleteButton||((this||C).dom.deleteButton.parentNode&&(this||C).dom.deleteButton.parentNode.removeChild((this||C).dom.deleteButton),(this||C).dom.deleteButton=null,(this||C).hammerDeleteButton&&((this||C).hammerDeleteButton.destroy(),(this||C).hammerDeleteButton=null))}},{key:"_repaintOnItemUpdateTimeTooltip",value:function(c){if((this||C).options.tooltipOnItemUpdateTime){var g=((this||C).options.editable.updateTime||!0===(this||C).data.editable)&&!1!==(this||C).data.editable;if((this||C).selected&&g&&!(this||C).dom.onItemUpdateTimeTooltip){var w=document.createElement("div");w.className="vis-onUpdateTime-tooltip",c.appendChild(w),(this||C).dom.onItemUpdateTimeTooltip=w}else!(this||C).selected&&(this||C).dom.onItemUpdateTimeTooltip&&((this||C).dom.onItemUpdateTimeTooltip.parentNode&&(this||C).dom.onItemUpdateTimeTooltip.parentNode.removeChild((this||C).dom.onItemUpdateTimeTooltip),(this||C).dom.onItemUpdateTimeTooltip=null);if((this||C).dom.onItemUpdateTimeTooltip){(this||C).dom.onItemUpdateTimeTooltip.style.visibility=(this||C).parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",(this||C).dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",(this||C).dom.onItemUpdateTimeTooltip.style.left="50%";var x,S,D=(this||C).parent.itemSet.body.domProps.scrollTop;("top"==(this||C).options.orientation.item?(this||C).top:(this||C).parent.height-(this||C).top-(this||C).height)+(this||C).parent.top-50<-D?((this||C).dom.onItemUpdateTimeTooltip.style.bottom="",(this||C).dom.onItemUpdateTimeTooltip.style.top="".concat((this||C).height+2,"px")):((this||C).dom.onItemUpdateTimeTooltip.style.top="",(this||C).dom.onItemUpdateTimeTooltip.style.bottom="".concat((this||C).height+2,"px")),(this||C).options.tooltipOnItemUpdateTime&&(this||C).options.tooltipOnItemUpdateTime.template?x=Gh(S=(this||C).options.tooltipOnItemUpdateTime.template).call(S,this||C)((this||C).data):(x="start: ".concat(Tu((this||C).data.start).format("MM/DD/YYYY hh:mm")),(this||C).data.end&&(x+="<br> end: ".concat(Tu((this||C).data.end).format("MM/DD/YYYY hh:mm"))));(this||C).dom.onItemUpdateTimeTooltip.innerHTML=Kb.xss(x)}}}},{key:"_getItemData",value:function(){return(this||C).parent.itemSet.itemsData.get((this||C).id)}},{key:"_updateContents",value:function(c){var g,w,x,S,D,T,E=this._getItemData(),O=((this||C).dom.box||(this||C).dom.point).getElementsByClassName("vis-item-visible-frame")[0];(this||C).options.visibleFrameTemplate?(S=Gh(D=(this||C).options.visibleFrameTemplate).call(D,this||C),x=Kb.xss(S(E,O))):x="";if(O)if(x instanceof Object&&!(x instanceof Element))S(E,O);else if(this._contentToString((this||C).itemVisibleFrameContent)!==this._contentToString(x)){if(x instanceof Element)O.innerHTML="",O.appendChild(x);else if(null!=x)O.innerHTML=Kb.xss(x);else if("background"!=(this||C).data.type||void 0!==(this||C).data.content)throw new Error('Property "content" missing in item '.concat((this||C).id));(this||C).itemVisibleFrameContent=x}g=(this||C).options.template?(w=Gh(T=(this||C).options.template).call(T,this||C))(E,c,(this||C).data):(this||C).data.content;if(g instanceof Object&&!(g instanceof Element))w(E,c);else if(this._contentToString((this||C).content)!==this._contentToString(g)){if(g instanceof Element)c.innerHTML="",c.appendChild(g);else if(null!=g)c.innerHTML=Kb.xss(g);else if("background"!=(this||C).data.type||void 0!==(this||C).data.content)throw new Error('Property "content" missing in item '.concat((this||C).id));(this||C).content=g}}},{key:"_updateDataAttributes",value:function(c){if((this||C).options.dataAttributes&&(this||C).options.dataAttributes.length>0){var g=[];if(eu((this||C).options.dataAttributes))g=(this||C).options.dataAttributes;else{if("all"!=(this||C).options.dataAttributes)return;g=Mc((this||C).data)}var w,x=Rx(g);try{for(x.s();!(w=x.n()).done;){var S=w.value,D=(this||C).data[S];null!=D?c.setAttribute("data-".concat(S),D):c.removeAttribute("data-".concat(S))}}catch(c){x.e(c)}finally{x.f()}}}},{key:"_updateStyle",value:function(c){(this||C).style&&(Kb.removeCssText(c,(this||C).style),(this||C).style=null),(this||C).data.style&&(Kb.addCssText(c,(this||C).data.style),(this||C).style=(this||C).data.style)}},{key:"_contentToString",value:function(c){return"string"==typeof c?c:c&&"outerHTML"in c?c.outerHTML:c}},{key:"_updateEditStatus",value:function(){(this||C).options&&("boolean"==typeof(this||C).options.editable?(this||C).editable={updateTime:(this||C).options.editable,updateGroup:(this||C).options.editable,remove:(this||C).options.editable}:"object"===Sh((this||C).options.editable)&&((this||C).editable={},Kb.selectiveExtend(["updateTime","updateGroup","remove"],(this||C).editable,(this||C).options.editable))),(this||C).options&&(this||C).options.editable&&!0===(this||C).options.editable.overrideItems||(this||C).data&&("boolean"==typeof(this||C).data.editable?(this||C).editable={updateTime:(this||C).data.editable,updateGroup:(this||C).data.editable,remove:(this||C).data.editable}:"object"===Sh((this||C).data.editable)&&((this||C).editable={},Kb.selectiveExtend(["updateTime","updateGroup","remove"],(this||C).editable,(this||C).data.editable)))}},{key:"getWidthLeft",value:function(){return 0}},{key:"getWidthRight",value:function(){return 0}},{key:"getTitle",value:function(){var c;return(this||C).options.tooltip&&(this||C).options.tooltip.template?Gh(c=(this||C).options.tooltip.template).call(c,this||C)(this._getItemData(),(this||C).data):(this||C).data.title}}]),t}();function Bx(c){var g=function(){if("undefined"==typeof Reflect||!Go)return!1;if(Go.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Go(Boolean,[],(function(){}))),!0}catch(c){return!1}}();return function(){var w,x=Mh(c);if(g){var S=Mh(this||C).constructor;w=Go(x,arguments,S)}else w=x.apply(this||C,arguments);return Th(this||C,w)}}pC.prototype.stack=!0;var mC=function(c){zo(i,c);var g=Bx(i);function i(c,w,x){var S;if(bo(this||C,i),(S=g.call(this||C,c,w,x)).props={dot:{width:0,height:0},line:{width:0,height:0}},c&&null==c.start)throw new Error('Property "start" missing in item '.concat(c));return S}return So(i,[{key:"isVisible",value:function(c){if((this||C).cluster)return!1;var g,w=(this||C).data.align||(this||C).options.align,x=(this||C).width*c.getMillisecondsPerPixel();return g="right"==w?(this||C).data.start.getTime()>c.start&&(this||C).data.start.getTime()-x<c.end:"left"==w?(this||C).data.start.getTime()+x>c.start&&(this||C).data.start.getTime()<c.end:(this||C).data.start.getTime()+x/2>c.start&&(this||C).data.start.getTime()-x/2<c.end,g}},{key:"_createDomElement",value:function(){(this||C).dom||((this||C).dom={},(this||C).dom.box=document.createElement("DIV"),(this||C).dom.content=document.createElement("DIV"),(this||C).dom.content.className="vis-item-content",(this||C).dom.box.appendChild((this||C).dom.content),(this||C).dom.line=document.createElement("DIV"),(this||C).dom.line.className="vis-line",(this||C).dom.dot=document.createElement("DIV"),(this||C).dom.dot.className="vis-dot",(this||C).dom.box["vis-item"]=this||C,(this||C).dirty=!0)}},{key:"_appendDomElement",value:function(){if(!(this||C).parent)throw new Error("Cannot redraw item: no parent attached");if(!(this||C).dom.box.parentNode){var c=(this||C).parent.dom.foreground;if(!c)throw new Error("Cannot redraw item: parent has no foreground container element");c.appendChild((this||C).dom.box)}if(!(this||C).dom.line.parentNode){var g=(this||C).parent.dom.background;if(!g)throw new Error("Cannot redraw item: parent has no background container element");g.appendChild((this||C).dom.line)}if(!(this||C).dom.dot.parentNode){var w=(this||C).parent.dom.axis;if(!g)throw new Error("Cannot redraw item: parent has no axis container element");w.appendChild((this||C).dom.dot)}(this||C).displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){if((this||C).dirty){this._updateContents((this||C).dom.content),this._updateDataAttributes((this||C).dom.box),this._updateStyle((this||C).dom.box);var c=(this||C).editable.updateTime||(this||C).editable.updateGroup,g=((this||C).data.className?" "+(this||C).data.className:"")+((this||C).selected?" vis-selected":"")+(c?" vis-editable":" vis-readonly");(this||C).dom.box.className="vis-item vis-box".concat(g),(this||C).dom.line.className="vis-item vis-line".concat(g),(this||C).dom.dot.className="vis-item vis-dot".concat(g)}}},{key:"_getDomComponentsSizes",value:function(){return{previous:{right:(this||C).dom.box.style.right,left:(this||C).dom.box.style.left},dot:{height:(this||C).dom.dot.offsetHeight,width:(this||C).dom.dot.offsetWidth},line:{width:(this||C).dom.line.offsetWidth},box:{width:(this||C).dom.box.offsetWidth,height:(this||C).dom.box.offsetHeight}}}},{key:"_updateDomComponentsSizes",value:function(c){(this||C).options.rtl?(this||C).dom.box.style.right="0px":(this||C).dom.box.style.left="0px",(this||C).props.dot.height=c.dot.height,(this||C).props.dot.width=c.dot.width,(this||C).props.line.width=c.line.width,(this||C).width=c.box.width,(this||C).height=c.box.height,(this||C).options.rtl?(this||C).dom.box.style.right=c.previous.right:(this||C).dom.box.style.left=c.previous.left,(this||C).dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip((this||C).dom.box),this._repaintDragCenter(),this._repaintDeleteButton((this||C).dom.box)}},{key:"redraw",value:function(c){var g,w,x,S,D,T,E=this||C,O=[Gh(g=(this||C)._createDomElement).call(g,this||C),Gh(w=(this||C)._appendDomElement).call(w,this||C),Gh(x=(this||C)._updateDirtyDomComponents).call(x,this||C),function(){E.dirty&&(D=E._getDomComponentsSizes())},function(){var c;E.dirty&&Gh(c=E._updateDomComponentsSizes).call(c,E)(D)},Gh(S=(this||C)._repaintDomAdditionals).call(S,this||C)];return c?O:(hu(O).call(O,(function(c){T=c()})),T)}},{key:"show",value:function(c){if(!(this||C).displayed)return this.redraw(c)}},{key:"hide",value:function(){if((this||C).displayed){var c=(this||C).dom;c.box.remove?c.box.remove():c.box.parentNode&&c.box.parentNode.removeChild(c.box),c.line.remove?c.line.remove():c.line.parentNode&&c.line.parentNode.removeChild(c.line),c.dot.remove?c.dot.remove():c.dot.parentNode&&c.dot.parentNode.removeChild(c.dot),(this||C).displayed=!1}}},{key:"repositionXY",value:function(){var c=(this||C).options.rtl,e=function(c,g,w){var x,C=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==g||void 0!==w){var S=C?-1*g:g;c.style.transform=void 0!==w?void 0!==g?Fd(x="translate(".concat(S,"px, ")).call(x,w,"px)"):"translateY(".concat(w,"px)"):"translateX(".concat(S,"px)")}};e((this||C).dom.box,(this||C).boxX,(this||C).boxY,c),e((this||C).dom.dot,(this||C).dotX,(this||C).dotY,c),e((this||C).dom.line,(this||C).lineX,(this||C).lineY,c)}},{key:"repositionX",value:function(){var c=(this||C).conversion.toScreen((this||C).data.start),g=void 0===(this||C).data.align?(this||C).options.align:(this||C).data.align,w=(this||C).props.line.width,x=(this||C).props.dot.width;"right"==g?((this||C).boxX=c-(this||C).width,(this||C).lineX=c-w,(this||C).dotX=c-w/2-x/2):"left"==g?((this||C).boxX=c,(this||C).lineX=c,(this||C).dotX=c+w/2-x/2):((this||C).boxX=c-(this||C).width/2,(this||C).lineX=(this||C).options.rtl?c-w:c-w/2,(this||C).dotX=c-x/2),(this||C).options.rtl?(this||C).right=(this||C).boxX:(this||C).left=(this||C).boxX,this.repositionXY()}},{key:"repositionY",value:function(){var c=(this||C).options.orientation.item,g=(this||C).dom.line.style;if("top"==c){var w=(this||C).parent.top+(this||C).top+1;(this||C).boxY=(this||C).top||0,g.height="".concat(w,"px"),g.bottom="",g.top="0"}else{var x=(this||C).parent.itemSet.props.height-(this||C).parent.top-(this||C).parent.height+(this||C).top;(this||C).boxY=(this||C).parent.height-(this||C).top-((this||C).height||0),g.height="".concat(x,"px"),g.top="",g.bottom="0"}(this||C).dotY=-(this||C).props.dot.height/2,this.repositionXY()}},{key:"getWidthLeft",value:function(){return(this||C).width/2}},{key:"getWidthRight",value:function(){return(this||C).width/2}}]),i}(pC);function Hx(c){var g=function(){if("undefined"==typeof Reflect||!Go)return!1;if(Go.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Go(Boolean,[],(function(){}))),!0}catch(c){return!1}}();return function(){var w,x=Mh(c);if(g){var S=Mh(this||C).constructor;w=Go(x,arguments,S)}else w=x.apply(this||C,arguments);return Th(this||C,w)}}var fC=function(c){zo(i,c);var g=Hx(i);function i(c,w,x){var S;if(bo(this||C,i),(S=g.call(this||C,c,w,x)).props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},c&&null==c.start)throw new Error('Property "start" missing in item '.concat(c));return S}return So(i,[{key:"isVisible",value:function(c){if((this||C).cluster)return!1;var g=(this||C).width*c.getMillisecondsPerPixel();return(this||C).data.start.getTime()+g>c.start&&(this||C).data.start<c.end}},{key:"_createDomElement",value:function(){(this||C).dom||((this||C).dom={},(this||C).dom.point=document.createElement("div"),(this||C).dom.content=document.createElement("div"),(this||C).dom.content.className="vis-item-content",(this||C).dom.point.appendChild((this||C).dom.content),(this||C).dom.dot=document.createElement("div"),(this||C).dom.point.appendChild((this||C).dom.dot),(this||C).dom.point["vis-item"]=this||C,(this||C).dirty=!0)}},{key:"_appendDomElement",value:function(){if(!(this||C).parent)throw new Error("Cannot redraw item: no parent attached");if(!(this||C).dom.point.parentNode){var c=(this||C).parent.dom.foreground;if(!c)throw new Error("Cannot redraw item: parent has no foreground container element");c.appendChild((this||C).dom.point)}(this||C).displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){if((this||C).dirty){this._updateContents((this||C).dom.content),this._updateDataAttributes((this||C).dom.point),this._updateStyle((this||C).dom.point);var c=(this||C).editable.updateTime||(this||C).editable.updateGroup,g=((this||C).data.className?" "+(this||C).data.className:"")+((this||C).selected?" vis-selected":"")+(c?" vis-editable":" vis-readonly");(this||C).dom.point.className="vis-item vis-point".concat(g),(this||C).dom.dot.className="vis-item vis-dot".concat(g)}}},{key:"_getDomComponentsSizes",value:function(){return{dot:{width:(this||C).dom.dot.offsetWidth,height:(this||C).dom.dot.offsetHeight},content:{width:(this||C).dom.content.offsetWidth,height:(this||C).dom.content.offsetHeight},point:{width:(this||C).dom.point.offsetWidth,height:(this||C).dom.point.offsetHeight}}}},{key:"_updateDomComponentsSizes",value:function(c){(this||C).props.dot.width=c.dot.width,(this||C).props.dot.height=c.dot.height,(this||C).props.content.height=c.content.height,(this||C).options.rtl?(this||C).dom.content.style.marginRight="".concat((this||C).props.dot.width/2,"px"):(this||C).dom.content.style.marginLeft="".concat((this||C).props.dot.width/2,"px"),(this||C).width=c.point.width,(this||C).height=c.point.height,(this||C).dom.dot.style.top="".concat(((this||C).height-(this||C).props.dot.height)/2,"px");var g=(this||C).props.dot.width,w=(this||C).options.rtl?g/2:g/2*-1;(this||C).dom.dot.style.transform="translateX(".concat(w,"px"),(this||C).dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip((this||C).dom.point),this._repaintDragCenter(),this._repaintDeleteButton((this||C).dom.point)}},{key:"redraw",value:function(c){var g,w,x,S,D,T,E=this||C,O=[Gh(g=(this||C)._createDomElement).call(g,this||C),Gh(w=(this||C)._appendDomElement).call(w,this||C),Gh(x=(this||C)._updateDirtyDomComponents).call(x,this||C),function(){E.dirty&&(D=E._getDomComponentsSizes())},function(){var c;E.dirty&&Gh(c=E._updateDomComponentsSizes).call(c,E)(D)},Gh(S=(this||C)._repaintDomAdditionals).call(S,this||C)];return c?O:(hu(O).call(O,(function(c){T=c()})),T)}},{key:"repositionXY",value:function(){var c=(this||C).options.rtl,e=function(c,g,w){var x,C=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==g||void 0!==w){var S=C?-1*g:g;c.style.transform=void 0!==w?void 0!==g?Fd(x="translate(".concat(S,"px, ")).call(x,w,"px)"):"translateY(".concat(w,"px)"):"translateX(".concat(S,"px)")}};e((this||C).dom.point,(this||C).pointX,(this||C).pointY,c)}},{key:"show",value:function(c){if(!(this||C).displayed)return this.redraw(c)}},{key:"hide",value:function(){(this||C).displayed&&((this||C).dom.point.parentNode&&(this||C).dom.point.parentNode.removeChild((this||C).dom.point),(this||C).displayed=!1)}},{key:"repositionX",value:function(){var c=(this||C).conversion.toScreen((this||C).data.start);(this||C).pointX=c,(this||C).options.rtl?(this||C).right=c-(this||C).props.dot.width:(this||C).left=c-(this||C).props.dot.width,this.repositionXY()}},{key:"repositionY",value:function(){var c=(this||C).options.orientation.item;(this||C).pointY="top"==c?(this||C).top:(this||C).parent.height-(this||C).top-(this||C).height,this.repositionXY()}},{key:"getWidthLeft",value:function(){return(this||C).props.dot.width}},{key:"getWidthRight",value:function(){return(this||C).props.dot.width}}]),i}(pC);function Wx(c){var g=function(){if("undefined"==typeof Reflect||!Go)return!1;if(Go.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Go(Boolean,[],(function(){}))),!0}catch(c){return!1}}();return function(){var w,x=Mh(c);if(g){var S=Mh(this||C).constructor;w=Go(x,arguments,S)}else w=x.apply(this||C,arguments);return Th(this||C,w)}}var vC=function(c){zo(i,c);var g=Wx(i);function i(c,w,x){var S;if(bo(this||C,i),(S=g.call(this||C,c,w,x)).props={content:{width:0}},S.overflow=!1,c){if(null==c.start)throw new Error('Property "start" missing in item '.concat(c.id));if(null==c.end)throw new Error('Property "end" missing in item '.concat(c.id))}return S}return So(i,[{key:"isVisible",value:function(c){return!(this||C).cluster&&(this||C).data.start<c.end&&(this||C).data.end>c.start}},{key:"_createDomElement",value:function(){(this||C).dom||((this||C).dom={},(this||C).dom.box=document.createElement("div"),(this||C).dom.frame=document.createElement("div"),(this||C).dom.frame.className="vis-item-overflow",(this||C).dom.box.appendChild((this||C).dom.frame),(this||C).dom.visibleFrame=document.createElement("div"),(this||C).dom.visibleFrame.className="vis-item-visible-frame",(this||C).dom.box.appendChild((this||C).dom.visibleFrame),(this||C).dom.content=document.createElement("div"),(this||C).dom.content.className="vis-item-content",(this||C).dom.frame.appendChild((this||C).dom.content),(this||C).dom.box["vis-item"]=this||C,(this||C).dirty=!0)}},{key:"_appendDomElement",value:function(){if(!(this||C).parent)throw new Error("Cannot redraw item: no parent attached");if(!(this||C).dom.box.parentNode){var c=(this||C).parent.dom.foreground;if(!c)throw new Error("Cannot redraw item: parent has no foreground container element");c.appendChild((this||C).dom.box)}(this||C).displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){if((this||C).dirty){this._updateContents((this||C).dom.content),this._updateDataAttributes((this||C).dom.box),this._updateStyle((this||C).dom.box);var c=(this||C).editable.updateTime||(this||C).editable.updateGroup,g=((this||C).data.className?" "+(this||C).data.className:"")+((this||C).selected?" vis-selected":"")+(c?" vis-editable":" vis-readonly");(this||C).dom.box.className=(this||C).baseClassName+g,(this||C).dom.content.style.maxWidth="none"}}},{key:"_getDomComponentsSizes",value:function(){return(this||C).overflow="hidden"!==window.getComputedStyle((this||C).dom.frame).overflow,(this||C).whiteSpace="nowrap"!==window.getComputedStyle((this||C).dom.content).whiteSpace,{content:{width:(this||C).dom.content.offsetWidth},box:{height:(this||C).dom.box.offsetHeight}}}},{key:"_updateDomComponentsSizes",value:function(c){(this||C).props.content.width=c.content.width,(this||C).height=c.box.height,(this||C).dom.content.style.maxWidth="",(this||C).dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip((this||C).dom.box),this._repaintDeleteButton((this||C).dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}},{key:"redraw",value:function(c){var g,w,x,S,D,T,E=this||C,O=[Gh(g=(this||C)._createDomElement).call(g,this||C),Gh(w=(this||C)._appendDomElement).call(w,this||C),Gh(x=(this||C)._updateDirtyDomComponents).call(x,this||C),function(){var c;E.dirty&&(D=Gh(c=E._getDomComponentsSizes).call(c,E)())},function(){var c;E.dirty&&Gh(c=E._updateDomComponentsSizes).call(c,E)(D)},Gh(S=(this||C)._repaintDomAdditionals).call(S,this||C)];return c?O:(hu(O).call(O,(function(c){T=c()})),T)}},{key:"show",value:function(c){if(!(this||C).displayed)return this.redraw(c)}},{key:"hide",value:function(){if((this||C).displayed){var c=(this||C).dom.box;c.parentNode&&c.parentNode.removeChild(c),(this||C).displayed=!1}}},{key:"repositionX",value:function(c){var g,w,x=(this||C).parent.width,S=(this||C).conversion.toScreen((this||C).data.start),D=(this||C).conversion.toScreen((this||C).data.end),T=void 0===(this||C).data.align?(this||C).options.align:(this||C).data.align;!1===(this||C).data.limitSize||void 0!==c&&!0!==c||(S<-x&&(S=-x),D>2*x&&(D=2*x));var E=Math.max(Math.round(1e3*(D-S))/1e3,1);switch((this||C).overflow?((this||C).options.rtl?(this||C).right=S:(this||C).left=S,(this||C).width=E+(this||C).props.content.width,w=(this||C).props.content.width):((this||C).options.rtl?(this||C).right=S:(this||C).left=S,(this||C).width=E,w=Math.min(D-S,(this||C).props.content.width)),(this||C).options.rtl?(this||C).dom.box.style.transform="translateX(".concat(-1*(this||C).right,"px)"):(this||C).dom.box.style.transform="translateX(".concat((this||C).left,"px)"),(this||C).dom.box.style.width="".concat(E,"px"),(this||C).whiteSpace&&((this||C).height=(this||C).dom.box.offsetHeight),T){case"left":(this||C).dom.content.style.transform="translateX(0)";break;case"right":if((this||C).options.rtl){var O=-1*Math.max(E-w,0);(this||C).dom.content.style.transform="translateX(".concat(O,"px)")}else(this||C).dom.content.style.transform="translateX(".concat(Math.max(E-w,0),"px)");break;case"center":if((this||C).options.rtl){var A=-1*Math.max((E-w)/2,0);(this||C).dom.content.style.transform="translateX(".concat(A,"px)")}else(this||C).dom.content.style.transform="translateX(".concat(Math.max((E-w)/2,0),"px)");break;default:if(g=(this||C).overflow?D>0?Math.max(-S,0):-w:S<0?-S:0,(this||C).options.rtl){var P=-1*g;(this||C).dom.content.style.transform="translateX(".concat(P,"px)")}else(this||C).dom.content.style.transform="translateX(".concat(g,"px)")}}},{key:"repositionY",value:function(){var c=(this||C).options.orientation.item,g=(this||C).dom.box;g.style.top="".concat("top"==c?(this||C).top:(this||C).parent.height-(this||C).top-(this||C).height,"px")}},{key:"_repaintDragLeft",value:function(){if(((this||C).selected||(this||C).options.itemsAlwaysDraggable.range)&&(this||C).editable.updateTime&&!(this||C).dom.dragLeft){var c=document.createElement("div");c.className="vis-drag-left",c.dragLeftItem=this||C,(this||C).dom.box.appendChild(c),(this||C).dom.dragLeft=c}else(this||C).selected||(this||C).options.itemsAlwaysDraggable.range||!(this||C).dom.dragLeft||((this||C).dom.dragLeft.parentNode&&(this||C).dom.dragLeft.parentNode.removeChild((this||C).dom.dragLeft),(this||C).dom.dragLeft=null)}},{key:"_repaintDragRight",value:function(){if(((this||C).selected||(this||C).options.itemsAlwaysDraggable.range)&&(this||C).editable.updateTime&&!(this||C).dom.dragRight){var c=document.createElement("div");c.className="vis-drag-right",c.dragRightItem=this||C,(this||C).dom.box.appendChild(c),(this||C).dom.dragRight=c}else(this||C).selected||(this||C).options.itemsAlwaysDraggable.range||!(this||C).dom.dragRight||((this||C).dom.dragRight.parentNode&&(this||C).dom.dragRight.parentNode.removeChild((this||C).dom.dragRight),(this||C).dom.dragRight=null)}}]),i}(pC);function Vx(c){var g=function(){if("undefined"==typeof Reflect||!Go)return!1;if(Go.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Go(Boolean,[],(function(){}))),!0}catch(c){return!1}}();return function(){var w,x=Mh(c);if(g){var S=Mh(this||C).constructor;w=Go(x,arguments,S)}else w=x.apply(this||C,arguments);return Th(this||C,w)}}vC.prototype.baseClassName="vis-item vis-range";var gC=function(c){zo(i,c);var g=Vx(i);function i(c,w,x){var S;if(bo(this||C,i),(S=g.call(this||C,c,w,x)).props={content:{width:0}},S.overflow=!1,c){if(null==c.start)throw new Error('Property "start" missing in item '.concat(c.id));if(null==c.end)throw new Error('Property "end" missing in item '.concat(c.id))}return S}return So(i,[{key:"isVisible",value:function(c){return(this||C).data.start<c.end&&(this||C).data.end>c.start}},{key:"_createDomElement",value:function(){(this||C).dom||((this||C).dom={},(this||C).dom.box=document.createElement("div"),(this||C).dom.frame=document.createElement("div"),(this||C).dom.frame.className="vis-item-overflow",(this||C).dom.box.appendChild((this||C).dom.frame),(this||C).dom.content=document.createElement("div"),(this||C).dom.content.className="vis-item-content",(this||C).dom.frame.appendChild((this||C).dom.content),(this||C).dirty=!0)}},{key:"_appendDomElement",value:function(){if(!(this||C).parent)throw new Error("Cannot redraw item: no parent attached");if(!(this||C).dom.box.parentNode){var c=(this||C).parent.dom.background;if(!c)throw new Error("Cannot redraw item: parent has no background container element");c.appendChild((this||C).dom.box)}(this||C).displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){if((this||C).dirty){this._updateContents((this||C).dom.content),this._updateDataAttributes((this||C).dom.content),this._updateStyle((this||C).dom.box);var c=((this||C).data.className?" "+(this||C).data.className:"")+((this||C).selected?" vis-selected":"");(this||C).dom.box.className=(this||C).baseClassName+c}}},{key:"_getDomComponentsSizes",value:function(){return(this||C).overflow="hidden"!==window.getComputedStyle((this||C).dom.content).overflow,{content:{width:(this||C).dom.content.offsetWidth}}}},{key:"_updateDomComponentsSizes",value:function(c){(this||C).props.content.width=c.content.width,(this||C).height=0,(this||C).dirty=!1}},{key:"_repaintDomAdditionals",value:function(){}},{key:"redraw",value:function(c){var g,w,x,S,D,T,E=this||C,O=[Gh(g=(this||C)._createDomElement).call(g,this||C),Gh(w=(this||C)._appendDomElement).call(w,this||C),Gh(x=(this||C)._updateDirtyDomComponents).call(x,this||C),function(){var c;E.dirty&&(D=Gh(c=E._getDomComponentsSizes).call(c,E)())},function(){var c;E.dirty&&Gh(c=E._updateDomComponentsSizes).call(c,E)(D)},Gh(S=(this||C)._repaintDomAdditionals).call(S,this||C)];return c?O:(hu(O).call(O,(function(c){T=c()})),T)}},{key:"repositionY",value:function(c){var g,w=(this||C).options.orientation.item;if(void 0!==(this||C).data.subgroup){var x=(this||C).data.subgroup;(this||C).dom.box.style.height="".concat((this||C).parent.subgroups[x].height,"px"),(this||C).dom.box.style.top="".concat("top"==w?(this||C).parent.top+(this||C).parent.subgroups[x].top:(this||C).parent.top+(this||C).parent.height-(this||C).parent.subgroups[x].top-(this||C).parent.subgroups[x].height,"px"),(this||C).dom.box.style.bottom=""}else(this||C).parent instanceof dC?(g=Math.max((this||C).parent.height,(this||C).parent.itemSet.body.domProps.center.height,(this||C).parent.itemSet.body.domProps.centerContainer.height),(this||C).dom.box.style.bottom="bottom"==w?"0":"",(this||C).dom.box.style.top="top"==w?"0":""):(g=(this||C).parent.height,(this||C).dom.box.style.top="".concat((this||C).parent.top,"px"),(this||C).dom.box.style.bottom="");(this||C).dom.box.style.height="".concat(g,"px")}}]),i}(pC);gC.prototype.baseClassName="vis-item vis-background",gC.prototype.stack=!1,gC.prototype.show=vC.prototype.show,gC.prototype.hide=vC.prototype.hide,gC.prototype.repositionX=vC.prototype.repositionX;var yC=function(){function t(c,g){bo(this||C,t),(this||C).container=c,(this||C).overflowMethod=g||"cap",(this||C).x=0,(this||C).y=0,(this||C).padding=5,(this||C).hidden=!1,(this||C).frame=document.createElement("div"),(this||C).frame.className="vis-tooltip",(this||C).container.appendChild((this||C).frame)}return So(t,[{key:"setPosition",value:function(c,g){(this||C).x=Xm(c),(this||C).y=Xm(g)}},{key:"setText",value:function(c){c instanceof Element?((this||C).frame.innerHTML="",(this||C).frame.appendChild(c)):(this||C).frame.innerHTML=Kb.xss(c)}},{key:"show",value:function(c){if(void 0===c&&(c=!0),!0===c){var g=(this||C).frame.clientHeight,w=(this||C).frame.clientWidth,x=(this||C).frame.parentNode.clientHeight,S=(this||C).frame.parentNode.clientWidth,D=0,T=0;if("flip"==(this||C).overflowMethod||"none"==(this||C).overflowMethod){var E=!1,O=!0;"flip"==(this||C).overflowMethod&&((this||C).y-g<(this||C).padding&&(O=!1),(this||C).x+w>S-(this||C).padding&&(E=!0)),D=E?(this||C).x-w:(this||C).x,T=O?(this||C).y-g:(this||C).y}else(T=(this||C).y-g)+g+(this||C).padding>x&&(T=x-g-(this||C).padding),T<(this||C).padding&&(T=(this||C).padding),(D=(this||C).x)+w+(this||C).padding>S&&(D=S-w-(this||C).padding),D<(this||C).padding&&(D=(this||C).padding);(this||C).frame.style.left=D+"px",(this||C).frame.style.top=T+"px",(this||C).frame.style.visibility="visible",(this||C).hidden=!1}else this.hide()}},{key:"hide",value:function(){(this||C).hidden=!0,(this||C).frame.style.left="0",(this||C).frame.style.top="0",(this||C).frame.style.visibility="hidden"}},{key:"destroy",value:function(){(this||C).frame.parentNode.removeChild((this||C).frame)}}]),t}(),bC=Us.every;gi({target:"Array",proto:!0,forced:!Jh("every")},{every:function(c){return bC(this||C,c,arguments.length>1?arguments[1]:void 0)}});var wC=Lh("Array").every,kC=gt,_C=wC,xC=Array.prototype,Jx=function(c){var g=c.every;return c===xC||kC(xC,c)&&g===xC.every?_C:g};function tC(c,g){var w=void 0!==Ud&&yd(c)||c["@@iterator"];if(!w){if(eu(c)||(w=function(c,g){var w;if(c){if("string"==typeof c)return eC(c,g);var x=Qd(w=Object.prototype.toString.call(c)).call(w,8,-1);"Object"===x&&c.constructor&&(x=c.constructor.name);return"Map"===x||"Set"===x?gd(c):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?eC(c,g):void 0}}(c))||g&&c&&"number"==typeof c.length){w&&(c=w);var x=0,o=function(){};return{s:o,n:function(){return x>=c.length?{done:!0}:{done:!1,value:c[x++]}},e:function(c){throw c},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C,S=!0,D=!1;return{s:function(){w=w.call(c)},n:function(){var c=w.next();return S=c.done,c},e:function(c){D=!0,C=c},f:function(){try{S||null==w.return||w.return()}finally{if(D)throw C}}}}function eC(c,g){(null==g||g>c.length)&&(g=c.length);for(var w=0,x=new Array(g);w<g;w++)x[w]=c[w];return x}function iC(c){var g=function(){if("undefined"==typeof Reflect||!Go)return!1;if(Go.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Go(Boolean,[],(function(){}))),!0}catch(c){return!1}}();return function(){var w,x=Mh(c);if(g){var S=Mh(this||C).constructor;w=Go(x,arguments,S)}else w=x.apply(this||C,arguments);return Th(this||C,w)}}var CC=function(c){zo(i,c);var g=iC(i);function i(c,w,x){var S;bo(this||C,i);var D=Kp({},{fitOnDoubleClick:!0},x,{editable:!1});if((S=g.call(this||C,c,w,D)).props={content:{width:0,height:0}},!c||null==c.uiItems)throw new Error('Property "uiItems" missing in item '+c.id);return S.id=_b(),S.group=c.group,S._setupRange(),S.emitter=S.data.eventEmitter,S.range=S.data.range,S.attached=!1,S.isCluster=!0,S.data.isCluster=!0,S}return So(i,[{key:"hasItems",value:function(){return(this||C).data.uiItems&&(this||C).data.uiItems.length&&(this||C).attached}},{key:"setUiItems",value:function(c){this.detach(),(this||C).data.uiItems=c,this._setupRange(),this.attach()}},{key:"isVisible",value:function(c){var g=(this||C).data.end?(this||C).data.end-(this||C).data.start:0,w=(this||C).width*c.getMillisecondsPerPixel(),x=Math.max((this||C).data.start.getTime()+g,(this||C).data.start.getTime()+w);return(this||C).data.start<c.end&&x>c.start&&this.hasItems()}},{key:"getData",value:function(){return{isCluster:!0,id:(this||C).id,items:(this||C).data.items||[],data:(this||C).data}}},{key:"redraw",value:function(c){var g,w,x,S,D,T,E,O,A=[Gh(g=(this||C)._createDomElement).call(g,this||C),Gh(w=(this||C)._appendDomElement).call(w,this||C),Gh(x=(this||C)._updateDirtyDomComponents).call(x,this||C),Gh(S=function(){(this||C).dirty&&(E=this._getDomComponentsSizes())}).call(S,this||C),Gh(D=function(){var c;(this||C).dirty&&Gh(c=(this||C)._updateDomComponentsSizes).call(c,this||C)(E)}).call(D,this||C),Gh(T=(this||C)._repaintDomAdditionals).call(T,this||C)];return c?A:(hu(A).call(A,(function(c){O=c()})),O)}},{key:"show",value:function(){(this||C).displayed||this.redraw()}},{key:"hide",value:function(){if((this||C).displayed){var c=(this||C).dom;c.box.parentNode&&c.box.parentNode.removeChild(c.box),(this||C).options.showStipes&&(c.line.parentNode&&c.line.parentNode.removeChild(c.line),c.dot.parentNode&&c.dot.parentNode.removeChild(c.dot)),(this||C).displayed=!1}}},{key:"repositionX",value:function(){var c=(this||C).conversion.toScreen((this||C).data.start),g=(this||C).data.end?(this||C).conversion.toScreen((this||C).data.end):0;if(g)this.repositionXWithRanges(c,g);else{var w=void 0===(this||C).data.align?(this||C).options.align:(this||C).data.align;this.repositionXWithoutRanges(c,w)}(this||C).options.showStipes&&((this||C).dom.line.style.display=this._isStipeVisible()?"block":"none",(this||C).dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(c,g))}},{key:"repositionStype",value:function(c,g){(this||C).dom.line.style.display="block",(this||C).dom.dot.style.display="block";var w=(this||C).dom.line.offsetWidth,x=(this||C).dom.dot.offsetWidth;if(g){var S=w+c+(g-c)/2,D=S-x/2,T=(this||C).options.rtl?-1*S:S,E=(this||C).options.rtl?-1*D:D;(this||C).dom.line.style.transform="translateX(".concat(T,"px)"),(this||C).dom.dot.style.transform="translateX(".concat(E,"px)")}else{var O=(this||C).options.rtl?-1*c:c,A=(this||C).options.rtl?-1*(c-x/2):c-x/2;(this||C).dom.line.style.transform="translateX(".concat(O,"px)"),(this||C).dom.dot.style.transform="translateX(".concat(A,"px)")}}},{key:"repositionXWithoutRanges",value:function(c,g){"right"==g?(this||C).options.rtl?((this||C).right=c-(this||C).width,(this||C).dom.box.style.right=(this||C).right+"px"):((this||C).left=c-(this||C).width,(this||C).dom.box.style.left=(this||C).left+"px"):"left"==g?(this||C).options.rtl?((this||C).right=c,(this||C).dom.box.style.right=(this||C).right+"px"):((this||C).left=c,(this||C).dom.box.style.left=(this||C).left+"px"):(this||C).options.rtl?((this||C).right=c-(this||C).width/2,(this||C).dom.box.style.right=(this||C).right+"px"):((this||C).left=c-(this||C).width/2,(this||C).dom.box.style.left=(this||C).left+"px")}},{key:"repositionXWithRanges",value:function(c,g){var w=Math.round(Math.max(g-c+.5,1));(this||C).options.rtl?(this||C).right=c:(this||C).left=c,(this||C).width=Math.max(w,(this||C).minWidth||0),(this||C).options.rtl?(this||C).dom.box.style.right=(this||C).right+"px":(this||C).dom.box.style.left=(this||C).left+"px",(this||C).dom.box.style.width=w+"px"}},{key:"repositionY",value:function(){var c=(this||C).options.orientation.item,g=(this||C).dom.box;if(g.style.top="top"==c?((this||C).top||0)+"px":((this||C).parent.height-(this||C).top-(this||C).height||0)+"px",(this||C).options.showStipes){if("top"==c)(this||C).dom.line.style.top="0",(this||C).dom.line.style.height=(this||C).parent.top+(this||C).top+1+"px",(this||C).dom.line.style.bottom="";else{var w=(this||C).parent.itemSet.props.height,x=w-(this||C).parent.top-(this||C).parent.height+(this||C).top;(this||C).dom.line.style.top=w-x+"px",(this||C).dom.line.style.bottom="0"}(this||C).dom.dot.style.top=-(this||C).dom.dot.offsetHeight/2+"px"}}},{key:"getWidthLeft",value:function(){return(this||C).width/2}},{key:"getWidthRight",value:function(){return(this||C).width/2}},{key:"move",value:function(){this.repositionX(),this.repositionY()}},{key:"attach",value:function(){var c,g,w=tC((this||C).data.uiItems);try{for(w.s();!(g=w.n()).done;)g.value.cluster=this||C}catch(c){w.e(c)}finally{w.f()}(this||C).data.items=Ku(c=(this||C).data.uiItems).call(c,(function(c){return c.data})),(this||C).attached=!0,(this||C).dirty=!0}},{key:"detach",value:function(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.hasItems()){var g,w=tC((this||C).data.uiItems);try{for(w.s();!(g=w.n()).done;){var x=g.value;delete x.cluster}}catch(c){w.e(c)}finally{w.f()}(this||C).attached=!1,c&&(this||C).group&&((this||C).group.remove(this||C),(this||C).group=null),(this||C).data.items=[],(this||C).dirty=!0}}},{key:"_onDoubleClick",value:function(){this._fit()}},{key:"_setupRange",value:function(){var c,g,w,x=Ku(c=(this||C).data.uiItems).call(c,(function(c){return{start:c.data.start.valueOf(),end:c.data.end?c.data.end.valueOf():c.data.start.valueOf()}}));(this||C).data.min=Math.min.apply(Math,Od(Ku(x).call(x,(function(c){return Math.min(c.start,c.end||c.start)})))),(this||C).data.max=Math.max.apply(Math,Od(Ku(x).call(x,(function(c){return Math.max(c.start,c.end||c.start)}))));var S=Ku(g=(this||C).data.uiItems).call(g,(function(c){return c.center})),D=cc(S).call(S,(function(c,g){return c+g}),0)/(this||C).data.uiItems.length;rk(w=(this||C).data.uiItems).call(w,(function(c){return c.data.end}))?((this||C).data.start=new Date((this||C).data.min),(this||C).data.end=new Date((this||C).data.max)):((this||C).data.start=new Date(D),(this||C).data.end=null)}},{key:"_getUiItems",value:function(){var c,g=this||C;return(this||C).data.uiItems&&(this||C).data.uiItems.length?gu(c=(this||C).data.uiItems).call(c,(function(c){return c.cluster===g})):[]}},{key:"_createDomElement",value:function(){if(!(this||C).dom){var c;((this||C).dom={},(this||C).dom.box=document.createElement("DIV"),(this||C).dom.content=document.createElement("DIV"),(this||C).dom.content.className="vis-item-content",(this||C).dom.box.appendChild((this||C).dom.content),(this||C).options.showStipes&&((this||C).dom.line=document.createElement("DIV"),(this||C).dom.line.className="vis-cluster-line",(this||C).dom.line.style.display="none",(this||C).dom.dot=document.createElement("DIV"),(this||C).dom.dot.className="vis-cluster-dot",(this||C).dom.dot.style.display="none"),(this||C).options.fitOnDoubleClick)&&((this||C).dom.box.ondblclick=Gh(c=i.prototype._onDoubleClick).call(c,this||C));(this||C).dom.box["vis-item"]=this||C,(this||C).dirty=!0}}},{key:"_appendDomElement",value:function(){if(!(this||C).parent)throw new Error("Cannot redraw item: no parent attached");if(!(this||C).dom.box.parentNode){var c=(this||C).parent.dom.foreground;if(!c)throw new Error("Cannot redraw item: parent has no foreground container element");c.appendChild((this||C).dom.box)}var g=(this||C).parent.dom.background;if((this||C).options.showStipes){if(!(this||C).dom.line.parentNode){if(!g)throw new Error("Cannot redraw item: parent has no background container element");g.appendChild((this||C).dom.line)}if(!(this||C).dom.dot.parentNode){var w=(this||C).parent.dom.axis;if(!g)throw new Error("Cannot redraw item: parent has no axis container element");w.appendChild((this||C).dom.dot)}}(this||C).displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){if((this||C).dirty){this._updateContents((this||C).dom.content),this._updateDataAttributes((this||C).dom.box),this._updateStyle((this||C).dom.box);var c=(this||C).baseClassName+" "+((this||C).data.className?" "+(this||C).data.className:"")+((this||C).selected?" vis-selected":"")+" vis-readonly";(this||C).dom.box.className="vis-item "+c,(this||C).options.showStipes&&((this||C).dom.line.className="vis-item vis-cluster-line "+((this||C).selected?" vis-selected":""),(this||C).dom.dot.className="vis-item vis-cluster-dot "+((this||C).selected?" vis-selected":"")),(this||C).data.end&&((this||C).dom.content.style.maxWidth="none")}}},{key:"_getDomComponentsSizes",value:function(){var c={previous:{right:(this||C).dom.box.style.right,left:(this||C).dom.box.style.left},box:{width:(this||C).dom.box.offsetWidth,height:(this||C).dom.box.offsetHeight}};return(this||C).options.showStipes&&(c.dot={height:(this||C).dom.dot.offsetHeight,width:(this||C).dom.dot.offsetWidth},c.line={width:(this||C).dom.line.offsetWidth}),c}},{key:"_updateDomComponentsSizes",value:function(c){(this||C).options.rtl?(this||C).dom.box.style.right="0px":(this||C).dom.box.style.left="0px",(this||C).data.end?(this||C).minWidth=c.box.width:(this||C).width=c.box.width,(this||C).height=c.box.height,(this||C).options.rtl?(this||C).dom.box.style.right=c.previous.right:(this||C).dom.box.style.left=c.previous.left,(this||C).dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip((this||C).dom.box)}},{key:"_isStipeVisible",value:function(){return(this||C).minWidth>=(this||C).width||!(this||C).data.end}},{key:"_getFitRange",value:function(){var c=.05*((this||C).data.max-(this||C).data.min)/2;return{fitStart:(this||C).data.min-c,fitEnd:(this||C).data.max+c}}},{key:"_fit",value:function(){if((this||C).emitter){var c=this._getFitRange(),g=c.fitStart,w=c.fitEnd,x={start:new Date(g),end:new Date(w),animation:!0};(this||C).emitter.emit("fit",x)}}},{key:"_getItemData",value:function(){return(this||C).data}}]),i}(pC);function oC(c,g){var w=void 0!==Ud&&yd(c)||c["@@iterator"];if(!w){if(eu(c)||(w=function(c,g){var w;if(c){if("string"==typeof c)return rC(c,g);var x=Qd(w=Object.prototype.toString.call(c)).call(w,8,-1);"Object"===x&&c.constructor&&(x=c.constructor.name);return"Map"===x||"Set"===x?gd(c):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?rC(c,g):void 0}}(c))||g&&c&&"number"==typeof c.length){w&&(c=w);var x=0,o=function(){};return{s:o,n:function(){return x>=c.length?{done:!0}:{done:!1,value:c[x++]}},e:function(c){throw c},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C,S=!0,D=!1;return{s:function(){w=w.call(c)},n:function(){var c=w.next();return S=c.done,c},e:function(c){D=!0,C=c},f:function(){try{S||null==w.return||w.return()}finally{if(D)throw C}}}}function rC(c,g){(null==g||g>c.length)&&(g=c.length);for(var w=0,x=new Array(g);w<g;w++)x[w]=c[w];return x}CC.prototype.baseClassName="vis-item vis-range vis-cluster";var SC="__ungrouped__",DC=function(){function t(c){bo(this||C,t),(this||C).itemSet=c,(this||C).groups={},(this||C).cache={},(this||C).cache[-1]=[]}return So(t,[{key:"createClusterItem",value:function(c,g,w){return new CC(c,g,w)}},{key:"setItems",value:function(c,g){(this||C).items=c||[],(this||C).dataChanged=!0,(this||C).applyOnChangedLevel=!1,g&&g.applyOnChangedLevel&&((this||C).applyOnChangedLevel=g.applyOnChangedLevel)}},{key:"updateData",value:function(){(this||C).dataChanged=!0,(this||C).applyOnChangedLevel=!1}},{key:"getClusters",value:function(c,g,w){var x="boolean"==typeof w?{}:w,S=x.maxItems,D=x.clusterCriteria;D||(D=function(){return!0}),S=S||1;var T=-1,E=0;if(g>0){if(g>=1)return[];T=Math.abs(Math.round(Math.log(100/g)/Math.log(2))),E=Math.abs(Math.pow(2,T))}if((this||C).dataChanged){var O=T!=(this||C).cacheLevel;(!(this||C).applyOnChangedLevel||O)&&(this._dropLevelsCache(),this._filterData())}(this||C).cacheLevel=T;var A=(this||C).cache[T];if(!A){for(var P in A=[],(this||C).groups)if((this||C).groups.hasOwnProperty(P))for(var M=(this||C).groups[P],N=M.length,R=0;R<N;){for(var L=M[R],j=1,B=R-1;B>=0&&L.center-M[B].center<E/2;)!M[B].cluster&&D(L.data,M[B].data)&&j++,B--;for(var z=R+1;z<M.length&&M[z].center-L.center<E/2;)D(L.data,M[z].data)&&j++,z++;for(var H=A.length-1;H>=0&&L.center-A[H].center<E;)L.group==A[H].group&&D(L.data,A[H].data)&&j++,H--;if(j>S){for(var G=j-S+1,V=[],Y=R;V.length<G&&Y<M.length;)D(M[R].data,M[Y].data)&&V.push(M[Y]),Y++;var X=(this||C).itemSet.getGroupId(L.data),K=(this||C).itemSet.groups[X]||(this||C).itemSet.groups[SC],$=this._getClusterForItems(V,K,c,w);A.push($),R+=G}else delete L.cluster,R+=1}(this||C).cache[T]=A}return A}},{key:"_filterData",value:function(){var c={};(this||C).groups=c;for(var g=0,w=Cm((this||C).items);g<w.length;g++){var x=w[g],S=x.parent?x.parent.groupId:"",D=c[S];D||(D=[],c[S]=D),D.push(x),x.data.start&&(x.data.end?x.center=(x.data.start.valueOf()+x.data.end.valueOf())/2:x.center=x.data.start.valueOf())}for(var T in c){var E;c.hasOwnProperty(T)&&Fw(E=c[T]).call(E,(function(c,g){return c.center-g.center}))}(this||C).dataChanged=!1}},{key:"_getClusterForItems",value:function(c,g,w,x){var S,D,T=Ku(S=w||[]).call(S,(function(c){var g;return{cluster:c,itemsIds:new Gx(Ku(g=c.data.uiItems).call(g,(function(c){return c.id})))}}));if(T.length){var E,O=oC(T);try{var h=function(){var g=E.value;if(g.itemsIds.size===c.length&&Jx(c).call(c,(function(c){return g.itemsIds.has(c.id)})))return D=g.cluster,"break"};for(O.s();!(E=O.n()).done;)if("break"===h())break}catch(c){O.e(c)}finally{O.f()}}if(D)return D.setUiItems(c),D.group!==g&&(D.group&&D.group.remove(D),g&&(g.add(D),D.group=g)),D;var A=x.titleTemplate||"",P={toScreen:(this||C).itemSet.body.util.toScreen,toTime:(this||C).itemSet.body.util.toTime},M=A.replace(/{count}/,c.length),N='<div title="'+M+'">'+c.length+"</div>",R=Kp({},x,(this||C).itemSet.options),L={content:N,title:M,group:g,uiItems:c,eventEmitter:(this||C).itemSet.body.emitter,range:(this||C).itemSet.body.range};return D=this.createClusterItem(L,P,R),g&&(g.add(D),D.group=g),D.attach(),D}},{key:"_dropLevelsCache",value:function(){(this||C).cache={},(this||C).cacheLevel=-1,(this||C).cache[(this||C).cacheLevel]=[]}}]),t}();function lC(c,g){var w=void 0!==Ud&&yd(c)||c["@@iterator"];if(!w){if(eu(c)||(w=function(c,g){var w;if(c){if("string"==typeof c)return hC(c,g);var x=Qd(w=Object.prototype.toString.call(c)).call(w,8,-1);"Object"===x&&c.constructor&&(x=c.constructor.name);return"Map"===x||"Set"===x?gd(c):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?hC(c,g):void 0}}(c))||g&&c&&"number"==typeof c.length){w&&(c=w);var x=0,o=function(){};return{s:o,n:function(){return x>=c.length?{done:!0}:{done:!1,value:c[x++]}},e:function(c){throw c},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C,S=!0,D=!1;return{s:function(){w=w.call(c)},n:function(){var c=w.next();return S=c.done,c},e:function(c){D=!0,C=c},f:function(){try{S||null==w.return||w.return()}finally{if(D)throw C}}}}function hC(c,g){(null==g||g>c.length)&&(g=c.length);for(var w=0,x=new Array(g);w<g;w++)x[w]=c[w];return x}function uC(c){var g=function(){if("undefined"==typeof Reflect||!Go)return!1;if(Go.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Go(Boolean,[],(function(){}))),!0}catch(c){return!1}}();return function(){var w,x=Mh(c);if(g){var S=Mh(this||C).constructor;w=Go(x,arguments,S)}else w=x.apply(this||C,arguments);return Th(this||C,w)}}var TC="__ungrouped__",EC="__background__",OC=function(c){zo(i,c);var g=uC(i);function i(c,w){var x;bo(this||C,i),(x=g.call(this||C)).body=c,x.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(c,g,w){var x=g.order;g.order=c.order,c.order=x},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:Ek.snap,onDropObjectOnItem:function(c,g,w){w(g)},onAdd:function(c,g){g(c)},onUpdate:function(c,g){g(c)},onMove:function(c,g){g(c)},onRemove:function(c,g){g(c)},onMoving:function(c,g){g(c)},onAddGroup:function(c,g){g(c)},onMoveGroup:function(c,g){g(c)},onRemoveGroup:function(c,g){g(c)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},x.options=Kb.extend({},x.defaultOptions),x.options.rtl=w.rtl,x.options.onTimeout=w.onTimeout,x.conversion={toScreen:c.util.toScreen,toTime:c.util.toTime},x.dom={},x.props={},x.hammer=null;var S=To(x);return x.itemsData=null,x.groupsData=null,x.itemsSettingTime=null,x.initialItemSetDrawn=!1,x.userContinueNotBail=null,x.sequentialSelection=!1,x.itemListeners={add:function(c,g,w){S._onAdd(g.items),S.options.cluster&&S.clusterGenerator.setItems(S.items,{applyOnChangedLevel:!1}),S.redraw()},update:function(c,g,w){S._onUpdate(g.items),S.options.cluster&&S.clusterGenerator.setItems(S.items,{applyOnChangedLevel:!1}),S.redraw()},remove:function(c,g,w){S._onRemove(g.items),S.options.cluster&&S.clusterGenerator.setItems(S.items,{applyOnChangedLevel:!1}),S.redraw()}},x.groupListeners={add:function(c,g,w){if(S._onAddGroups(g.items),S.groupsData&&S.groupsData.length>0){var x,C=S.groupsData.getDataSet();hu(x=C.get()).call(x,(function(c){if(c.nestedGroups){var g;0!=c.showNested&&(c.showNested=!0);var x=[];hu(g=c.nestedGroups).call(g,(function(g){var w=C.get(g);w&&(w.nestedInGroup=c.id,0==c.showNested&&(w.visible=!1),x=Fd(x).call(x,w))})),C.update(x,w)}}))}},update:function(c,g,w){S._onUpdateGroups(g.items)},remove:function(c,g,w){S._onRemoveGroups(g.items)}},x.items={},x.groups={},x.groupIds=[],x.selection=[],x.popup=null,x.popupTimer=null,x.touchParams={},x.groupTouchParams={group:null,isDragging:!1},x._create(),x.setOptions(w),x.clusters=[],x}return So(i,[{key:"_create",value:function(){var c,g,w,x,S,D,T,E,O,A,P,M,N,R,L,j=this||C,B=document.createElement("div");B.className="vis-itemset",B["vis-itemset"]=this||C,(this||C).dom.frame=B;var z=document.createElement("div");z.className="vis-background",B.appendChild(z),(this||C).dom.background=z;var H=document.createElement("div");H.className="vis-foreground",B.appendChild(H),(this||C).dom.foreground=H;var G=document.createElement("div");G.className="vis-axis",(this||C).dom.axis=G;var V=document.createElement("div");V.className="vis-labelset",(this||C).dom.labelSet=V,this._updateUngrouped();var Y=new dC(EC,null,this||C);Y.show(),(this||C).groups[EC]=Y,(this||C).hammer=new Tk((this||C).body.dom.centerContainer),(this||C).hammer.on("hammer.input",(function(c){c.isFirst&&j._onTouch(c)})),(this||C).hammer.on("panstart",Gh(c=(this||C)._onDragStart).call(c,this||C)),(this||C).hammer.on("panmove",Gh(g=(this||C)._onDrag).call(g,this||C)),(this||C).hammer.on("panend",Gh(w=(this||C)._onDragEnd).call(w,this||C)),(this||C).hammer.get("pan").set({threshold:5,direction:Tk.ALL}),(this||C).hammer.get("press").set({time:1e4}),(this||C).hammer.on("tap",Gh(x=(this||C)._onSelectItem).call(x,this||C)),(this||C).hammer.on("press",Gh(S=(this||C)._onMultiSelectItem).call(S,this||C)),(this||C).hammer.get("press").set({time:1e4}),(this||C).hammer.on("doubletap",Gh(D=(this||C)._onAddItem).call(D,this||C)),(this||C).options.rtl?(this||C).groupHammer=new Tk((this||C).body.dom.rightContainer):(this||C).groupHammer=new Tk((this||C).body.dom.leftContainer),(this||C).groupHammer.on("tap",Gh(T=(this||C)._onGroupClick).call(T,this||C)),(this||C).groupHammer.on("panstart",Gh(E=(this||C)._onGroupDragStart).call(E,this||C)),(this||C).groupHammer.on("panmove",Gh(O=(this||C)._onGroupDrag).call(O,this||C)),(this||C).groupHammer.on("panend",Gh(A=(this||C)._onGroupDragEnd).call(A,this||C)),(this||C).groupHammer.get("pan").set({threshold:5,direction:Tk.DIRECTION_VERTICAL}),(this||C).body.dom.centerContainer.addEventListener("mouseover",Gh(P=(this||C)._onMouseOver).call(P,this||C)),(this||C).body.dom.centerContainer.addEventListener("mouseout",Gh(M=(this||C)._onMouseOut).call(M,this||C)),(this||C).body.dom.centerContainer.addEventListener("mousemove",Gh(N=(this||C)._onMouseMove).call(N,this||C)),(this||C).body.dom.centerContainer.addEventListener("contextmenu",Gh(R=(this||C)._onDragEnd).call(R,this||C)),(this||C).body.dom.centerContainer.addEventListener("mousewheel",Gh(L=(this||C)._onMouseWheel).call(L,this||C)),this.show()}},{key:"setOptions",value:function(c){var g=this||C;if(c){var w,x;Kb.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"],(this||C).options,c),"itemsAlwaysDraggable"in c&&("boolean"==typeof c.itemsAlwaysDraggable?((this||C).options.itemsAlwaysDraggable.item=c.itemsAlwaysDraggable,(this||C).options.itemsAlwaysDraggable.range=!1):"object"===Sh(c.itemsAlwaysDraggable)&&(Kb.selectiveExtend(["item","range"],(this||C).options.itemsAlwaysDraggable,c.itemsAlwaysDraggable),(this||C).options.itemsAlwaysDraggable.item||((this||C).options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in c&&"boolean"==typeof c.sequentialSelection&&((this||C).options.sequentialSelection=c.sequentialSelection),"orientation"in c&&("string"==typeof c.orientation?(this||C).options.orientation.item="top"===c.orientation?"top":"bottom":"object"===Sh(c.orientation)&&"item"in c.orientation&&((this||C).options.orientation.item=c.orientation.item)),"margin"in c&&("number"==typeof c.margin?((this||C).options.margin.axis=c.margin,(this||C).options.margin.item.horizontal=c.margin,(this||C).options.margin.item.vertical=c.margin):"object"===Sh(c.margin)&&(Kb.selectiveExtend(["axis"],(this||C).options.margin,c.margin),"item"in c.margin&&("number"==typeof c.margin.item?((this||C).options.margin.item.horizontal=c.margin.item,(this||C).options.margin.item.vertical=c.margin.item):"object"===Sh(c.margin.item)&&Kb.selectiveExtend(["horizontal","vertical"],(this||C).options.margin.item,c.margin.item)))),hu(w=["locale","locales"]).call(w,(function(w){w in c&&(g.options[w]=c[w])})),"editable"in c&&("boolean"==typeof c.editable?((this||C).options.editable.updateTime=c.editable,(this||C).options.editable.updateGroup=c.editable,(this||C).options.editable.add=c.editable,(this||C).options.editable.remove=c.editable,(this||C).options.editable.overrideItems=!1):"object"===Sh(c.editable)&&Kb.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],(this||C).options.editable,c.editable)),"groupEditable"in c&&("boolean"==typeof c.groupEditable?((this||C).options.groupEditable.order=c.groupEditable,(this||C).options.groupEditable.add=c.groupEditable,(this||C).options.groupEditable.remove=c.groupEditable):"object"===Sh(c.groupEditable)&&Kb.selectiveExtend(["order","add","remove"],(this||C).options.groupEditable,c.groupEditable));hu(x=["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"]).call(x,(function(w){var x=c[w];if(x){var C;if("function"!=typeof x)throw new Error(Fd(C="option ".concat(w," must be a function ")).call(C,w,"(item, callback)"));g.options[w]=x}})),c.cluster?(Kp((this||C).options,{cluster:c.cluster}),(this||C).clusterGenerator||((this||C).clusterGenerator=new DC(this||C)),(this||C).clusterGenerator.setItems((this||C).items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):(this||C).clusterGenerator?(this._detachAllClusters(),(this||C).clusters=[],(this||C).clusterGenerator=null,(this||C).options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty()}}},{key:"markDirty",value:function(c){(this||C).groupIds=[],c&&(c.refreshItems&&hu(Kb).call(Kb,(this||C).items,(function(c){c.dirty=!0,c.displayed&&c.redraw()})),c.restackGroups&&hu(Kb).call(Kb,(this||C).groups,(function(c,g){g!==EC&&(c.stackDirty=!0)})))}},{key:"destroy",value:function(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),(this||C).hammer&&(this||C).hammer.destroy(),(this||C).groupHammer&&(this||C).groupHammer.destroy(),(this||C).hammer=null,(this||C).body=null,(this||C).conversion=null}},{key:"hide",value:function(){(this||C).dom.frame.parentNode&&(this||C).dom.frame.parentNode.removeChild((this||C).dom.frame),(this||C).dom.axis.parentNode&&(this||C).dom.axis.parentNode.removeChild((this||C).dom.axis),(this||C).dom.labelSet.parentNode&&(this||C).dom.labelSet.parentNode.removeChild((this||C).dom.labelSet)}},{key:"show",value:function(){(this||C).dom.frame.parentNode||(this||C).body.dom.center.appendChild((this||C).dom.frame),(this||C).dom.axis.parentNode||(this||C).body.dom.backgroundVertical.appendChild((this||C).dom.axis),(this||C).dom.labelSet.parentNode||((this||C).options.rtl?(this||C).body.dom.right.appendChild((this||C).dom.labelSet):(this||C).body.dom.left.appendChild((this||C).dom.labelSet))}},{key:"setPopupTimer",value:function(c){if(this.clearPopupTimer(),c){var g=(this||C).options.tooltip.delay||"number"==typeof(this||C).options.tooltip.delay?(this||C).options.tooltip.delay:500;(this||C).popupTimer=fu((function(){c.show()}),g)}}},{key:"clearPopupTimer",value:function(){null!=(this||C).popupTimer&&(clearTimeout((this||C).popupTimer),(this||C).popupTimer=null)}},{key:"setSelection",value:function(c){var g;null==c&&(c=[]),eu(c)||(c=[c]);var w,x=lC(gu(g=(this||C).selection).call(g,(function(g){return-1===zm(c).call(c,g)})));try{for(x.s();!(w=x.n()).done;){var S=w.value,D=this.getItemById(S);D&&D.unselect()}}catch(c){x.e(c)}finally{x.f()}(this||C).selection=Od(c);var T,E=lC(c);try{for(E.s();!(T=E.n()).done;){var O=T.value,A=this.getItemById(O);A&&A.select()}}catch(c){E.e(c)}finally{E.f()}}},{key:"getSelection",value:function(){var c;return Fd(c=(this||C).selection).call(c,[])}},{key:"getVisibleItems",value:function(){var c,g,w=(this||C).body.range.getRange();(this||C).options.rtl?(c=(this||C).body.util.toScreen(w.start),g=(this||C).body.util.toScreen(w.end)):(g=(this||C).body.util.toScreen(w.start),c=(this||C).body.util.toScreen(w.end));var x=[];for(var S in(this||C).groups)if((this||C).groups.hasOwnProperty(S)){var D,T=(this||C).groups[S],E=lC(T.isVisible?T.visibleItems:[]);try{for(E.s();!(D=E.n()).done;){var O=D.value;(this||C).options.rtl?O.right<g&&O.right+O.width>c&&x.push(O.id):O.left<c&&O.left+O.width>g&&x.push(O.id)}}catch(c){E.e(c)}finally{E.f()}}return x}},{key:"getItemsAtCurrentTime",value:function(c){var g,w;(this||C).options.rtl?(g=(this||C).body.util.toScreen(c),w=(this||C).body.util.toScreen(c)):(w=(this||C).body.util.toScreen(c),g=(this||C).body.util.toScreen(c));var x=[];for(var S in(this||C).groups)if((this||C).groups.hasOwnProperty(S)){var D,T=(this||C).groups[S],E=lC(T.isVisible?T.visibleItems:[]);try{for(E.s();!(D=E.n()).done;){var O=D.value;(this||C).options.rtl?O.right<w&&O.right+O.width>g&&x.push(O.id):O.left<g&&O.left+O.width>w&&x.push(O.id)}}catch(c){E.e(c)}finally{E.f()}}return x}},{key:"getVisibleGroups",value:function(){var c=[];for(var g in(this||C).groups)(this||C).groups.hasOwnProperty(g)&&(this||C).groups[g].isVisible&&c.push(g);return c}},{key:"getItemById",value:function(c){var g;return(this||C).items[c]||Wk(g=(this||C).clusters).call(g,(function(g){return g.id===c}))}},{key:"_deselect",value:function(c){for(var g=(this||C).selection,w=0,x=g.length;w<x;w++)if(g[w]==c){vp(g).call(g,w,1);break}}},{key:"redraw",value:function(){var c=this||C,g=(this||C).options.margin,w=(this||C).body.range,x=Kb.option.asSize,S=(this||C).options,D=S.orientation.item,T=!1,E=(this||C).dom.frame;(this||C).props.top=(this||C).body.domProps.top.height+(this||C).body.domProps.border.top,(this||C).options.rtl?(this||C).props.right=(this||C).body.domProps.right.width+(this||C).body.domProps.border.right:(this||C).props.left=(this||C).body.domProps.left.width+(this||C).body.domProps.border.left,E.className="vis-itemset",(this||C).options.cluster&&this._clusterItems(),T=this._orderGroups()||T;var O=w.end-w.start,A=O!=(this||C).lastVisibleInterval||(this||C).props.width!=(this||C).props.lastWidth,P=w.start!=(this||C).lastRangeStart,M=S.stack!=(this||C).lastStack,N=S.stackSubgroups!=(this||C).lastStackSubgroups,R=A||P||M||N;(this||C).lastVisibleInterval=O,(this||C).lastRangeStart=w.start,(this||C).lastStack=S.stack,(this||C).lastStackSubgroups=S.stackSubgroups,(this||C).props.lastWidth=(this||C).props.width;var L=this._firstGroup(),j={item:g.item,axis:g.axis},B={item:g.item,axis:g.item.vertical/2},z=0,H=g.axis+g.item.vertical;(this||C).groups[EC].redraw(w,B,R);var G={},V=0;return hu(Kb).call(Kb,(this||C).groups,(function(c,g){if(g!==EC){var x=c==L?j:B;G[g]=c.redraw(w,x,R,!0),V=G[g].length}})),V>0&&function(){for(var g={},i=function(c){hu(Kb).call(Kb,G,(function(w,x){g[x]=w[c]()}))},w=0;w<V;w++)i(w);hu(Kb).call(Kb,c.groups,(function(c,w){if(w!==EC){var x=g[w];T=x||T,z+=c.height}})),z=Math.max(z,H)}(),z=Math.max(z,H),E.style.height=x(z),(this||C).props.width=E.offsetWidth,(this||C).props.height=z,(this||C).dom.axis.style.top=x("top"==D?(this||C).body.domProps.top.height+(this||C).body.domProps.border.top:(this||C).body.domProps.top.height+(this||C).body.domProps.centerContainer.height),(this||C).options.rtl?(this||C).dom.axis.style.right="0":(this||C).dom.axis.style.left="0",(this||C).hammer.get("press").set({time:(this||C).options.longSelectPressTime}),(this||C).initialItemSetDrawn=!0,T=this._isResized()||T}},{key:"_firstGroup",value:function(){var c="top"==(this||C).options.orientation.item?0:(this||C).groupIds.length-1,g=(this||C).groupIds[c];return(this||C).groups[g]||(this||C).groups[TC]||null}},{key:"_updateUngrouped",value:function(){var c,g,w=(this||C).groups[TC];if((this||C).groupsData){if(w)for(g in w.dispose(),delete(this||C).groups[TC],(this||C).items)if((this||C).items.hasOwnProperty(g)){(c=(this||C).items[g]).parent&&c.parent.remove(c);var x=this.getGroupId(c.data),S=(this||C).groups[x];S&&S.add(c)||c.hide()}}else if(!w){for(g in w=new cC(null,null,this||C),(this||C).groups[TC]=w,(this||C).items)(this||C).items.hasOwnProperty(g)&&(c=(this||C).items[g],w.add(c));w.show()}}},{key:"getLabelSet",value:function(){return(this||C).dom.labelSet}},{key:"setItems",value:function(c){(this||C).itemsSettingTime=new Date;var g,w=this||C,x=(this||C).itemsData;if(c){if(!Db(c))throw new TypeError("Data must implement the interface of DataSet or DataView");(this||C).itemsData=Ob(c)}else(this||C).itemsData=null;if(x&&(hu(Kb).call(Kb,(this||C).itemListeners,(function(c,g){x.off(g,c)})),x.dispose(),g=x.getIds(),this._onRemove(g)),(this||C).itemsData){var S=(this||C).id;hu(Kb).call(Kb,(this||C).itemListeners,(function(c,g){w.itemsData.on(g,c,S)})),g=(this||C).itemsData.getIds(),this._onAdd(g),this._updateUngrouped()}(this||C).body.emitter.emit("_change",{queue:!0})}},{key:"getItems",value:function(){return null!=(this||C).itemsData?(this||C).itemsData.rawDS:null}},{key:"setGroups",value:function(c){var g,w=this||C;if((this||C).groupsData&&(hu(Kb).call(Kb,(this||C).groupListeners,(function(c,g){w.groupsData.off(g,c)})),g=(this||C).groupsData.getIds(),(this||C).groupsData=null,this._onRemoveGroups(g)),c){if(!Db(c))throw new TypeError("Data must implement the interface of DataSet or DataView");(this||C).groupsData=c}else(this||C).groupsData=null;if((this||C).groupsData){var x,S=(this||C).groupsData.getDataSet();hu(x=S.get()).call(x,(function(c){var g;c.nestedGroups&&hu(g=c.nestedGroups).call(g,(function(g){var w=S.get(g);w.nestedInGroup=c.id,0==c.showNested&&(w.visible=!1),S.update(w)}))}));var D=(this||C).id;hu(Kb).call(Kb,(this||C).groupListeners,(function(c,g){w.groupsData.on(g,c,D)})),g=(this||C).groupsData.getIds(),this._onAddGroups(g)}this._updateUngrouped(),this._order(),(this||C).options.cluster&&((this||C).clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),(this||C).body.emitter.emit("_change",{queue:!0})}},{key:"getGroups",value:function(){return(this||C).groupsData}},{key:"removeItem",value:function(c){var g=this||C,w=(this||C).itemsData.get(c);w&&(this||C).options.onRemove(w,(function(w){w&&g.itemsData.remove(c)}))}},{key:"_getType",value:function(c){return c.type||(this||C).options.type||(c.end?"range":"box")}},{key:"getGroupId",value:function(c){return"background"==this._getType(c)&&null==c.group?EC:(this||C).groupsData?c.group:TC}},{key:"_onUpdate",value:function(c){var g=this||C,w=this||C;hu(c).call(c,(function(c){var x,C=w.itemsData.get(c),S=w.items[c],D=C?w._getType(C):null,T=i.types[D];if(S&&(T&&S instanceof T?w._updateItem(S,C):(x=S.selected,w._removeItem(S),S=null)),!S&&C){if(!T)throw new TypeError('Unknown item type "'.concat(D,'"'));(S=new T(C,w.conversion,w.options)).id=c,w._addItem(S),x&&(g.selection.push(c),S.select())}})),this._order(),(this||C).options.cluster&&((this||C).clusterGenerator.setItems((this||C).items,{applyOnChangedLevel:!1}),this._clusterItems()),(this||C).body.emitter.emit("_change",{queue:!0})}},{key:"_onRemove",value:function(c){var g=0,w=this||C;hu(c).call(c,(function(c){var x=w.items[c];x&&(g++,w._removeItem(x))})),g&&(this._order(),(this||C).body.emitter.emit("_change",{queue:!0}))}},{key:"_order",value:function(){hu(Kb).call(Kb,(this||C).groups,(function(c){c.order()}))}},{key:"_onUpdateGroups",value:function(c){this._onAddGroups(c)}},{key:"_onAddGroups",value:function(c){var g=this||C;hu(c).call(c,(function(c){var w=g.groupsData.get(c),x=g.groups[c];if(x)x.setData(w);else{if(c==TC||c==EC)throw new Error("Illegal group id. ".concat(c," is a reserved id."));var C=mf(g.options);for(var S in Kb.extend(C,{height:null}),x=new cC(c,w,g),g.groups[c]=x,g.items)if(g.items.hasOwnProperty(S)){var D=g.items[S];D.data.group==c&&x.add(D)}x.order(),x.show()}})),(this||C).body.emitter.emit("_change",{queue:!0})}},{key:"_onRemoveGroups",value:function(c){var g=this||C;hu(c).call(c,(function(c){var w=g.groups[c];w&&(w.dispose(),delete g.groups[c])})),(this||C).options.cluster&&((this||C).clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!(this||C).options.cluster}),(this||C).body.emitter.emit("_change",{queue:!0})}},{key:"_orderGroups",value:function(){if((this||C).groupsData){var c=(this||C).groupsData.getIds({order:(this||C).options.groupOrder});c=this._orderNestedGroups(c);var g=!Kb.equalArray(c,(this||C).groupIds);if(g){var w=(this||C).groups;hu(c).call(c,(function(c){w[c].hide()})),hu(c).call(c,(function(c){w[c].show()})),(this||C).groupIds=c}return g}return!1}},{key:"_orderNestedGroups",value:function(c){var g=this||C;return function t(c,g){var w=[];return hu(g).call(g,(function(g){if(w.push(g),c.groupsData.get(g).nestedGroups){var x,C=Ku(x=c.groupsData.get({filter:function(c){return c.nestedInGroup==g},order:c.options.groupOrder})).call(x,(function(c){return c.id}));w=Fd(w).call(w,t(c,C))}})),w}(this||C,gu(c).call(c,(function(c){return!g.groupsData.get(c).nestedInGroup})))}},{key:"_addItem",value:function(c){(this||C).items[c.id]=c;var g=this.getGroupId(c.data),w=(this||C).groups[g];w?w&&w.data&&w.data.showNested&&(c.groupShowing=!0):c.groupShowing=!1,w&&w.add(c)}},{key:"_updateItem",value:function(c,g){c.setData(g);var w=this.getGroupId(c.data),x=(this||C).groups[w];x?x&&x.data&&x.data.showNested&&(c.groupShowing=!0):c.groupShowing=!1}},{key:"_removeItem",value:function(c){var g,w;c.hide(),delete(this||C).items[c.id];var x=zm(g=(this||C).selection).call(g,c.id);-1!=x&&vp(w=(this||C).selection).call(w,x,1),c.parent&&c.parent.remove(c),null!=(this||C).popup&&(this||C).popup.hide()}},{key:"_constructByEndArray",value:function(c){for(var g=[],w=0;w<c.length;w++)c[w]instanceof vC&&g.push(c[w]);return g}},{key:"_onTouch",value:function(c){(this||C).touchParams.item=this.itemFromTarget(c),(this||C).touchParams.dragLeftItem=c.target.dragLeftItem||!1,(this||C).touchParams.dragRightItem=c.target.dragRightItem||!1,(this||C).touchParams.itemProps=null}},{key:"_getGroupIndex",value:function(c){for(var g=0;g<(this||C).groupIds.length;g++)if(c==(this||C).groupIds[g])return g}},{key:"_onDragStart",value:function(c){var g=this||C;if(!(this||C).touchParams.itemIsDragging){var w,x=(this||C).touchParams.item||null,S=this||C;if(x&&(x.selected||(this||C).options.itemsAlwaysDraggable.item)){if((this||C).options.editable.overrideItems&&!(this||C).options.editable.updateTime&&!(this||C).options.editable.updateGroup)return;if(null!=x.editable&&!x.editable.updateTime&&!x.editable.updateGroup&&!(this||C).options.editable.overrideItems)return;var D=(this||C).touchParams.dragLeftItem,T=(this||C).touchParams.dragRightItem;if((this||C).touchParams.itemIsDragging=!0,(this||C).touchParams.selectedItem=x,D)w={item:D,initialX:c.center.x,dragLeft:!0,data:this._cloneItemData(x.data)},(this||C).touchParams.itemProps=[w];else if(T)w={item:T,initialX:c.center.x,dragRight:!0,data:this._cloneItemData(x.data)},(this||C).touchParams.itemProps=[w];else if((this||C).options.editable.add&&(c.srcEvent.ctrlKey||c.srcEvent.metaKey))this._onDragStartAddItem(c);else{(this||C).groupIds.length<1&&this.redraw();var E=this._getGroupIndex(x.data.group),O=(this||C).options.itemsAlwaysDraggable.item&&!x.selected?[x.id]:this.getSelection();(this||C).touchParams.itemProps=Ku(O).call(O,(function(w){var x=S.items[w],C=S._getGroupIndex(x.data.group);return{item:x,initialX:c.center.x,groupOffset:E-C,data:g._cloneItemData(x.data)}}))}c.stopPropagation()}else(this||C).options.editable.add&&(c.srcEvent.ctrlKey||c.srcEvent.metaKey)&&this._onDragStartAddItem(c)}}},{key:"_onDragStartAddItem",value:function(c){var g=(this||C).options.snap||null,w=(this||C).dom.frame.getBoundingClientRect(),x=(this||C).options.rtl?w.right-c.center.x+10:c.center.x-w.left-10,S=(this||C).body.util.toTime(x),D=(this||C).body.util.getScale(),T=(this||C).body.util.getStep(),E=g?g(S,D,T):S,O={type:"range",start:E,end:E,content:"new item"},A=_b();O[(this||C).itemsData.idProp]=A;var P=this.groupFromTarget(c);P&&(O.group=P.groupId);var M=new vC(O,(this||C).conversion,(this||C).options);M.id=A,M.data=this._cloneItemData(O),this._addItem(M),(this||C).touchParams.selectedItem=M;var N={item:M,initialX:c.center.x,data:M.data};(this||C).options.rtl?N.dragLeft=!0:N.dragRight=!0,(this||C).touchParams.itemProps=[N],c.stopPropagation()}},{key:"_onDrag",value:function(c){var g=this||C;if(null!=(this||C).popup&&(this||C).options.showTooltips&&!(this||C).popup.hidden){var w=(this||C).body.dom.centerContainer,x=w.getBoundingClientRect();(this||C).popup.setPosition(c.center.x-x.left+w.offsetLeft,c.center.y-x.top+w.offsetTop),(this||C).popup.show()}if((this||C).touchParams.itemProps){var S;c.stopPropagation();var D=this||C,T=(this||C).options.snap||null,E=(this||C).body.dom.root.offsetLeft,O=(this||C).options.rtl?E+(this||C).body.domProps.right.width:E+(this||C).body.domProps.left.width,A=(this||C).body.util.getScale(),P=(this||C).body.util.getStep(),M=(this||C).touchParams.selectedItem,N=((this||C).options.editable.overrideItems||null==M.editable)&&(this||C).options.editable.updateGroup||!(this||C).options.editable.overrideItems&&null!=M.editable&&M.editable.updateGroup,R=null;if(N&&M&&null!=M.data.group){var L=D.groupFromTarget(c);L&&(R=this._getGroupIndex(L.groupId))}hu(S=(this||C).touchParams.itemProps).call(S,(function(w){var x,C,S,E,L,j=D.body.util.toTime(c.center.x-O),B=D.body.util.toTime(w.initialX-O);x=g.options.rtl?-(j-B):j-B;var z=g._cloneItemData(w.item.data);if(null==w.item.editable||w.item.editable.updateTime||w.item.editable.updateGroup||D.options.editable.overrideItems){if((g.options.editable.overrideItems||null==M.editable)&&g.options.editable.updateTime||!g.options.editable.overrideItems&&null!=M.editable&&M.editable.updateTime)if(w.dragLeft)g.options.rtl?null!=z.end&&(S=Kb.convert(w.data.end,"Date"),L=new Date(S.valueOf()+x),z.end=T?T(L,A,P):L):null!=z.start&&(C=Kb.convert(w.data.start,"Date"),E=new Date(C.valueOf()+x),z.start=T?T(E,A,P):E);else if(w.dragRight)g.options.rtl?null!=z.start&&(C=Kb.convert(w.data.start,"Date"),E=new Date(C.valueOf()+x),z.start=T?T(E,A,P):E):null!=z.end&&(S=Kb.convert(w.data.end,"Date"),L=new Date(S.valueOf()+x),z.end=T?T(L,A,P):L);else if(null!=z.start)if(C=Kb.convert(w.data.start,"Date").valueOf(),E=new Date(C+x),null!=z.end){var H=(S=Kb.convert(w.data.end,"Date")).valueOf()-C.valueOf();z.start=T?T(E,A,P):E,z.end=new Date(z.start.valueOf()+H)}else z.start=T?T(E,A,P):E;if(N&&!w.dragLeft&&!w.dragRight&&null!=R&&null!=z.group){var G=R-w.groupOffset;G=Math.max(0,G),G=Math.min(D.groupIds.length-1,G),z.group=D.groupIds[G]}z=g._cloneItemData(z),D.options.onMoving(z,(function(c){c&&w.item.setData(g._cloneItemData(c,"Date"))}))}})),(this||C).body.emitter.emit("_change")}}},{key:"_moveToGroup",value:function(c,g){var w=(this||C).groups[g];if(w&&w.groupId!=c.data.group){var x=c.parent;x.remove(c),x.order(),c.data.group=w.groupId,w.add(c),w.order()}}},{key:"_onDragEnd",value:function(c){var g=this||C;if((this||C).touchParams.itemIsDragging=!1,(this||C).touchParams.itemProps){c.stopPropagation();var w=this||C,x=(this||C).touchParams.itemProps;(this||C).touchParams.itemProps=null,hu(x).call(x,(function(c){var x=c.item.id;if(null!=w.itemsData.get(x)){var C=g._cloneItemData(c.item.data);w.options.onMove(C,(function(C){C?(C[g.itemsData.idProp]=x,g.itemsData.update(C)):(c.item.setData(c.data),w.body.emitter.emit("_change"))}))}else w.options.onAdd(c.item.data,(function(g){w._removeItem(c.item),g&&w.itemsData.add(g),w.body.emitter.emit("_change")}))}))}}},{key:"_onGroupClick",value:function(c){var g=this||C,w=this.groupFromTarget(c);fu((function(){g.toggleGroupShowNested(w)}),1)}},{key:"toggleGroupShowNested",value:function(c){var g,w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(c&&c.nestedGroups){var x=(this||C).groupsData.getDataSet();c.showNested=null!=w?!!w:!c.showNested;var S=x.get(c.groupId);S.showNested=c.showNested;for(var D=c.nestedGroups,T=D;T.length>0;){var E=T;T=[];for(var O=0;O<E.length;O++){var A=x.get(E[O]);A.nestedGroups&&(T=Fd(T).call(T,A.nestedGroups))}T.length>0&&(D=Fd(D).call(D,T))}var P=Ku(g=x.get(D)).call(g,(function(c){return null==c.visible&&(c.visible=!0),c.visible=!!S.showNested,c}));x.update(Fd(P).call(P,S)),S.showNested?(Kb.removeClassName(c.dom.label,"collapsed"),Kb.addClassName(c.dom.label,"expanded")):(Kb.removeClassName(c.dom.label,"expanded"),Kb.addClassName(c.dom.label,"collapsed"))}}},{key:"toggleGroupDragClassName",value:function(c){c.dom.label.classList.toggle("vis-group-is-dragging"),c.dom.foreground.classList.toggle("vis-group-is-dragging")}},{key:"_onGroupDragStart",value:function(c){(this||C).groupTouchParams.isDragging||(this||C).options.groupEditable.order&&((this||C).groupTouchParams.group=this.groupFromTarget(c),(this||C).groupTouchParams.group&&(c.stopPropagation(),(this||C).groupTouchParams.isDragging=!0,this.toggleGroupDragClassName((this||C).groupTouchParams.group),(this||C).groupTouchParams.originalOrder=(this||C).groupsData.getIds({order:(this||C).options.groupOrder})))}},{key:"_onGroupDrag",value:function(c){if((this||C).options.groupEditable.order&&(this||C).groupTouchParams.group){c.stopPropagation();var g=(this||C).groupsData.getDataSet(),w=this.groupFromTarget(c);if(w&&w.height!=(this||C).groupTouchParams.group.height){var x=w.top<(this||C).groupTouchParams.group.top,S=c.center?c.center.y:c.clientY,D=w.dom.foreground.getBoundingClientRect(),T=(this||C).groupTouchParams.group.height;if(x){if(D.top+T<S)return}else{var E=w.height;if(D.top+E-T>S)return}}if(w&&w!=(this||C).groupTouchParams.group){var O=g.get(w.groupId),A=g.get((this||C).groupTouchParams.group.groupId);A&&O&&((this||C).options.groupOrderSwap(A,O,g),g.update(A),g.update(O));var P=g.getIds({order:(this||C).options.groupOrder});if(!Kb.equalArray(P,(this||C).groupTouchParams.originalOrder))for(var M=(this||C).groupTouchParams.originalOrder,N=(this||C).groupTouchParams.group.groupId,R=Math.min(M.length,P.length),L=0,j=0,B=0;L<R;){for(;L+j<R&&L+B<R&&P[L+j]==M[L+B];)L++;if(L+j>=R)break;if(P[L+j]==N)j=1;else if(M[L+B]==N)B=1;else{var z=zm(P).call(P,M[L+B]),H=g.get(P[L+j]),G=g.get(M[L+B]);(this||C).options.groupOrderSwap(H,G,g),g.update(H),g.update(G);var V=P[L+j];P[L+j]=M[L+B],P[z]=V,L++}}}}}},{key:"_onGroupDragEnd",value:function(c){if((this||C).groupTouchParams.isDragging=!1,(this||C).options.groupEditable.order&&(this||C).groupTouchParams.group){c.stopPropagation();var g=this||C,w=g.groupTouchParams.group.groupId,x=g.groupsData.getDataSet(),S=Kb.extend({},x.get(w));g.options.onMoveGroup(S,(function(c){if(c)c[x._idProp]=w,x.update(c);else{var C=x.getIds({order:g.options.groupOrder});if(!Kb.equalArray(C,g.groupTouchParams.originalOrder))for(var S=g.groupTouchParams.originalOrder,D=Math.min(S.length,C.length),T=0;T<D;){for(;T<D&&C[T]==S[T];)T++;if(T>=D)break;var E=zm(C).call(C,S[T]),O=x.get(C[T]),A=x.get(S[T]);g.options.groupOrderSwap(O,A,x),x.update(O),x.update(A);var P=C[T];C[T]=S[T],C[E]=P,T++}}})),g.body.emitter.emit("groupDragged",{groupId:w}),this.toggleGroupDragClassName((this||C).groupTouchParams.group),(this||C).groupTouchParams.group=null}}},{key:"_onSelectItem",value:function(c){if((this||C).options.selectable){var g=c.srcEvent&&(c.srcEvent.ctrlKey||c.srcEvent.metaKey),w=c.srcEvent&&c.srcEvent.shiftKey;if(g||w)this._onMultiSelectItem(c);else{var x=this.getSelection(),S=this.itemFromTarget(c),D=S&&S.selectable?[S.id]:[];this.setSelection(D);var T=this.getSelection();(T.length>0||x.length>0)&&(this||C).body.emitter.emit("select",{items:T,event:c})}}}},{key:"_onMouseOver",value:function(c){var g=this.itemFromTarget(c);if(g&&g!==this.itemFromRelatedTarget(c)){var w=g.getTitle();if((this||C).options.showTooltips&&w){null==(this||C).popup&&((this||C).popup=new yC((this||C).body.dom.root,(this||C).options.tooltip.overflowMethod||"flip")),(this||C).popup.setText(w);var x=(this||C).body.dom.centerContainer,S=x.getBoundingClientRect();(this||C).popup.setPosition(c.clientX-S.left+x.offsetLeft,c.clientY-S.top+x.offsetTop),this.setPopupTimer((this||C).popup)}else this.clearPopupTimer(),null!=(this||C).popup&&(this||C).popup.hide();(this||C).body.emitter.emit("itemover",{item:g.id,event:c})}}},{key:"_onMouseOut",value:function(c){var g=this.itemFromTarget(c);g&&g!==this.itemFromRelatedTarget(c)&&(this.clearPopupTimer(),null!=(this||C).popup&&(this||C).popup.hide(),(this||C).body.emitter.emit("itemout",{item:g.id,event:c}))}},{key:"_onMouseMove",value:function(c){if(this.itemFromTarget(c)&&(null!=(this||C).popupTimer&&this.setPopupTimer((this||C).popup),(this||C).options.showTooltips&&(this||C).options.tooltip.followMouse&&(this||C).popup&&!(this||C).popup.hidden)){var g=(this||C).body.dom.centerContainer,w=g.getBoundingClientRect();(this||C).popup.setPosition(c.clientX-w.left+g.offsetLeft,c.clientY-w.top+g.offsetTop),(this||C).popup.show()}}},{key:"_onMouseWheel",value:function(c){(this||C).touchParams.itemIsDragging&&this._onDragEnd(c)}},{key:"_onUpdateItem",value:function(c){if((this||C).options.selectable&&((this||C).options.editable.updateTime||(this||C).options.editable.updateGroup)){var g=this||C;if(c){var w=g.itemsData.get(c.id);(this||C).options.onUpdate(w,(function(c){c&&g.itemsData.update(c)}))}}}},{key:"_onDropObjectOnItem",value:function(c){var g=this.itemFromTarget(c),w=JSON.parse(c.dataTransfer.getData("text"));(this||C).options.onDropObjectOnItem(w,g)}},{key:"_onAddItem",value:function(c){if((this||C).options.selectable&&(this||C).options.editable.add){var g,w,x=this||C,S=(this||C).options.snap||null,D=(this||C).dom.frame.getBoundingClientRect(),T=(this||C).options.rtl?D.right-c.center.x:c.center.x-D.left,E=(this||C).body.util.toTime(T),O=(this||C).body.util.getScale(),A=(this||C).body.util.getStep();"drop"==c.type?((w=JSON.parse(c.dataTransfer.getData("text"))).content=w.content?w.content:"new item",w.start=w.start?w.start:S?S(E,O,A):E,w.type=w.type||"box",w[(this||C).itemsData.idProp]=w.id||_b(),"range"!=w.type||w.end||(g=(this||C).body.util.toTime(T+(this||C).props.width/5),w.end=S?S(g,O,A):g)):((w={start:S?S(E,O,A):E,content:"new item"})[(this||C).itemsData.idProp]=_b(),"range"===(this||C).options.type&&(g=(this||C).body.util.toTime(T+(this||C).props.width/5),w.end=S?S(g,O,A):g));var P=this.groupFromTarget(c);P&&(w.group=P.groupId),w=this._cloneItemData(w),(this||C).options.onAdd(w,(function(g){g&&(x.itemsData.add(g),"drop"==c.type&&x.setSelection([g.id]))}))}}},{key:"_onMultiSelectItem",value:function(c){var g=this||C;if((this||C).options.selectable){var w=this.itemFromTarget(c);if(w){var x=(this||C).options.multiselect?this.getSelection():[];if((c.srcEvent&&c.srcEvent.shiftKey||(this||C).options.sequentialSelection)&&(this||C).options.multiselect){var S=(this||C).itemsData.get(w.id).group,D=void 0;(this||C).options.multiselectPerGroup&&x.length>0&&(D=(this||C).itemsData.get(x[0]).group),(this||C).options.multiselectPerGroup&&null!=D&&D!=S||x.push(w.id);var T=i._getItemRange((this||C).itemsData.get(x));if(!(this||C).options.multiselectPerGroup||D==S)for(var E in x=[],(this||C).items)if((this||C).items.hasOwnProperty(E)){var O=(this||C).items[E],A=O.data.start,P=void 0!==O.data.end?O.data.end:A;!(A>=T.min&&P<=T.max)||(this||C).options.multiselectPerGroup&&D!=(this||C).itemsData.get(O.id).group||O instanceof gC||x.push(O.id)}}else{var M=zm(x).call(x,w.id);-1==M?x.push(w.id):vp(x).call(x,M,1)}var N=gu(x).call(x,(function(c){return g.getItemById(c).selectable}));this.setSelection(N),(this||C).body.emitter.emit("select",{items:this.getSelection(),event:c})}}}},{key:"itemFromElement",value:function(c){for(var g=c;g;){if(g.hasOwnProperty("vis-item"))return g["vis-item"];g=g.parentNode}return null}},{key:"itemFromTarget",value:function(c){return this.itemFromElement(c.target)}},{key:"itemFromRelatedTarget",value:function(c){return this.itemFromElement(c.relatedTarget)}},{key:"groupFromTarget",value:function(c){var g=c.center?c.center.y:c.clientY,w=(this||C).groupIds;w.length<=0&&(this||C).groupsData&&(w=(this||C).groupsData.getIds({order:(this||C).options.groupOrder}));for(var x=0;x<w.length;x++){var S=w[x],D=(this||C).groups[S],T=D.dom.foreground,E=T.getBoundingClientRect();if(g>=E.top&&g<E.top+T.offsetHeight)return D;if("top"===(this||C).options.orientation.item){if(x===(this||C).groupIds.length-1&&g>E.top)return D}else if(0===x&&g<E.top+T.offset)return D}return null}},{key:"_cloneItemData",value:function(c,g){var w=Kb.extend({},c);return g||(g=(this||C).itemsData.type),null!=w.start&&(w.start=Kb.convert(w.start,g&&g.start||"Date")),null!=w.end&&(w.end=Kb.convert(w.end,g&&g.end||"Date")),w}},{key:"_clusterItems",value:function(){if((this||C).options.cluster){var c=(this||C).body.range.conversion((this||C).body.domProps.center.width).scale,g=(this||C).clusterGenerator.getClusters((this||C).clusters,c,(this||C).options.cluster);if((this||C).clusters!=g){if(this._detachAllClusters(),g){var w,x=lC(g);try{for(x.s();!(w=x.n()).done;)w.value.attach()}catch(c){x.e(c)}finally{x.f()}(this||C).clusters=g}this._updateClusters(g)}}}},{key:"_detachAllClusters",value:function(){if((this||C).options.cluster&&(this||C).clusters&&(this||C).clusters.length){var c,g=lC((this||C).clusters);try{for(g.s();!(c=g.n()).done;)c.value.detach()}catch(c){g.e(c)}finally{g.f()}}}},{key:"_updateClusters",value:function(c){if((this||C).clusters&&(this||C).clusters.length){var g,w,x=new Gx(Ku(c).call(c,(function(c){return c.id}))),S=!1,D=lC(gu(g=(this||C).clusters).call(g,(function(c){return!x.has(c.id)})));try{for(D.s();!(w=D.n()).done;){var T,E,O=w.value,A=zm(T=(this||C).selection).call(T,O.id);-1!==A&&(O.unselect(),vp(E=(this||C).selection).call(E,A,1),S=!0)}}catch(c){D.e(c)}finally{D.f()}if(S){var P=this.getSelection();(this||C).body.emitter.emit("select",{items:P,event:event})}}(this||C).clusters=c||[]}}],[{key:"_getItemRange",value:function(c){var g=null,w=null;return hu(c).call(c,(function(c){(null==w||c.start<w)&&(w=c.start),null!=c.end?(null==g||c.end>g)&&(g=c.end):(null==g||c.start>g)&&(g=c.start)})),{min:w,max:g}}},{key:"itemSetFromTarget",value:function(c){for(var g=c.target;g;){if(g.hasOwnProperty("vis-itemset"))return g["vis-itemset"];g=g.parentNode}return null}}]),i}(uw);OC.types={background:gC,box:mC,range:vC,point:fC},OC.prototype._onAdd=OC.prototype._onUpdate;var IC,HC=!1,VC="background: #FFeeee; color: #dd0000",QC=function(){function t(){bo(this||C,t)}return So(t,null,[{key:"validate",value:function(c,g,w){HC=!1,IC=g;var x=g;return void 0!==w&&(x=g[w]),t.parse(c,x,[]),HC}},{key:"parse",value:function(c,g,w){for(var x in c)c.hasOwnProperty(x)&&t.check(x,c,g,w)}},{key:"check",value:function(c,g,w,x){if(void 0!==w[c]||void 0!==w.__any__){var C=c,S=!0;void 0===w[c]&&void 0!==w.__any__&&(C="__any__",S="object"===t.getType(g[c]));var D=w[C];S&&void 0!==D.__type__&&(D=D.__type__),t.checkFields(c,g,w,C,D,x)}else t.getSuggestion(c,w,x)}},{key:"checkFields",value:function(c,g,w,x,C,S){var a=function(g){console.log("%c"+g+t.printLocation(S,c),VC)},D=t.getType(g[c]),T=C[D];void 0!==T?"array"===t.getType(T)&&-1===zm(T).call(T,g[c])?(a('Invalid option detected in "'+c+'". Allowed values are:'+t.print(T)+' not "'+g[c]+'". '),HC=!0):"object"===D&&"__any__"!==x&&(S=Kb.copyAndExtendArray(S,c),t.parse(g[c],w[x],S)):void 0===C.any&&(a('Invalid type received for "'+c+'". Expected: '+t.print(Mc(C))+". Received ["+D+'] "'+g[c]+'"'),HC=!0)}},{key:"getType",value:function(c){var g=Sh(c);return"object"===g?null===c?"null":c instanceof Boolean?"boolean":c instanceof Number?"number":c instanceof String?"string":eu(c)?"array":c instanceof Date?"date":void 0!==c.nodeType?"dom":!0===c._isAMomentObject?"moment":"object":"number"===g?"number":"boolean"===g?"boolean":"string"===g?"string":void 0===g?"undefined":g}},{key:"getSuggestion",value:function(c,g,w){var x,C=t.findInOptions(c,g,w,!1),S=t.findInOptions(c,IC,[],!0);x=void 0!==C.indexMatch?" in "+t.printLocation(C.path,c,"")+'Perhaps it was incomplete? Did you mean: "'+C.indexMatch+'"?\n\n':S.distance<=4&&C.distance>S.distance?" in "+t.printLocation(C.path,c,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(S.path,S.closestMatch,""):C.distance<=8?'. Did you mean "'+C.closestMatch+'"?'+t.printLocation(C.path,c):". Did you mean one of these: "+t.print(Mc(g))+t.printLocation(w,c),console.log('%cUnknown option detected: "'+c+'"'+x,VC),HC=!0}},{key:"findInOptions",value:function(c,g,w){var x=arguments.length>3&&void 0!==arguments[3]&&arguments[3],C=1e9,S="",D=[],T=c.toLowerCase(),E=void 0;for(var O in g){var A=void 0;if(void 0!==g[O].__type__&&!0===x){var P=t.findInOptions(c,g[O],Kb.copyAndExtendArray(w,O));C>P.distance&&(S=P.closestMatch,D=P.path,C=P.distance,E=P.indexMatch)}else{var M;-1!==zm(M=O.toLowerCase()).call(M,T)&&(E=O),C>(A=t.levenshteinDistance(c,O))&&(S=O,D=Kb.copyArray(w),C=A)}}return{closestMatch:S,path:D,distance:C,indexMatch:E}}},{key:"printLocation",value:function(c,g){for(var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",x="\n\n"+w+"options = {\n",C=0;C<c.length;C++){for(var S=0;S<C+1;S++)x+="  ";x+=c[C]+": {\n"}for(var D=0;D<c.length+1;D++)x+="  ";x+=g+"\n";for(var T=0;T<c.length+1;T++){for(var E=0;E<c.length-T;E++)x+="  ";x+="}\n"}return x+"\n\n"}},{key:"print",value:function(c){return gf(c).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(c,g){if(0===c.length)return g.length;if(0===g.length)return c.length;var w,x,C=[];for(w=0;w<=g.length;w++)C[w]=[w];for(x=0;x<=c.length;x++)C[0][x]=x;for(w=1;w<=g.length;w++)for(x=1;x<=c.length;x++)g.charAt(w-1)==c.charAt(x-1)?C[w][x]=C[w-1][x-1]:C[w][x]=Math.min(C[w-1][x-1]+1,Math.min(C[w][x-1]+1,C[w-1][x]+1));return C[g.length][c.length]}}]),t}(),tS="string",eS="boolean",iS="number",nS="array",oS="date",rS="object",sS="moment",aS={configure:{enabled:{boolean:eS},filter:{boolean:eS,function:"function"},container:{dom:"dom"},__type__:{object:rS,boolean:eS,function:"function"}},align:{string:tS},alignCurrentTime:{string:tS,undefined:"undefined"},rtl:{boolean:eS,undefined:"undefined"},rollingMode:{follow:{boolean:eS},offset:{number:iS,undefined:"undefined"},__type__:{object:rS}},onTimeout:{timeoutMs:{number:iS},callback:{function:"function"},__type__:{object:rS}},verticalScroll:{boolean:eS,undefined:"undefined"},horizontalScroll:{boolean:eS,undefined:"undefined"},autoResize:{boolean:eS},throttleRedraw:{number:iS},clickToUse:{boolean:eS},dataAttributes:{string:tS,array:nS},editable:{add:{boolean:eS,undefined:"undefined"},remove:{boolean:eS,undefined:"undefined"},updateGroup:{boolean:eS,undefined:"undefined"},updateTime:{boolean:eS,undefined:"undefined"},overrideItems:{boolean:eS,undefined:"undefined"},__type__:{boolean:eS,object:rS}},end:{number:iS,date:oS,string:tS,moment:sS},format:{minorLabels:{millisecond:{string:tS,undefined:"undefined"},second:{string:tS,undefined:"undefined"},minute:{string:tS,undefined:"undefined"},hour:{string:tS,undefined:"undefined"},weekday:{string:tS,undefined:"undefined"},day:{string:tS,undefined:"undefined"},week:{string:tS,undefined:"undefined"},month:{string:tS,undefined:"undefined"},year:{string:tS,undefined:"undefined"},__type__:{object:rS,function:"function"}},majorLabels:{millisecond:{string:tS,undefined:"undefined"},second:{string:tS,undefined:"undefined"},minute:{string:tS,undefined:"undefined"},hour:{string:tS,undefined:"undefined"},weekday:{string:tS,undefined:"undefined"},day:{string:tS,undefined:"undefined"},week:{string:tS,undefined:"undefined"},month:{string:tS,undefined:"undefined"},year:{string:tS,undefined:"undefined"},__type__:{object:rS,function:"function"}},__type__:{object:rS}},moment:{function:"function"},groupHeightMode:{string:tS},groupOrder:{string:tS,function:"function"},groupEditable:{add:{boolean:eS,undefined:"undefined"},remove:{boolean:eS,undefined:"undefined"},order:{boolean:eS,undefined:"undefined"},__type__:{boolean:eS,object:rS}},groupOrderSwap:{function:"function"},height:{string:tS,number:iS},hiddenDates:{start:{date:oS,number:iS,string:tS,moment:sS},end:{date:oS,number:iS,string:tS,moment:sS},repeat:{string:tS},__type__:{object:rS,array:nS}},itemsAlwaysDraggable:{item:{boolean:eS,undefined:"undefined"},range:{boolean:eS,undefined:"undefined"},__type__:{boolean:eS,object:rS}},limitSize:{boolean:eS},locale:{string:tS},locales:{__any__:{any:"any"},__type__:{object:rS}},longSelectPressTime:{number:iS},margin:{axis:{number:iS},item:{horizontal:{number:iS,undefined:"undefined"},vertical:{number:iS,undefined:"undefined"},__type__:{object:rS,number:iS}},__type__:{object:rS,number:iS}},max:{date:oS,number:iS,string:tS,moment:sS},maxHeight:{number:iS,string:tS},maxMinorChars:{number:iS},min:{date:oS,number:iS,string:tS,moment:sS},minHeight:{number:iS,string:tS},moveable:{boolean:eS},multiselect:{boolean:eS},multiselectPerGroup:{boolean:eS},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:tS,undefined:"undefined"},item:{string:tS,undefined:"undefined"},__type__:{string:tS,object:rS}},selectable:{boolean:eS},sequentialSelection:{boolean:eS},showCurrentTime:{boolean:eS},showMajorLabels:{boolean:eS},showMinorLabels:{boolean:eS},showWeekScale:{boolean:eS},stack:{boolean:eS},stackSubgroups:{boolean:eS},cluster:{maxItems:{number:iS,undefined:"undefined"},titleTemplate:{string:tS,undefined:"undefined"},clusterCriteria:{function:"function",undefined:"undefined"},showStipes:{boolean:eS,undefined:"undefined"},fitOnDoubleClick:{boolean:eS,undefined:"undefined"},__type__:{boolean:eS,object:rS}},snap:{function:"function",null:"null"},start:{date:oS,number:iS,string:tS,moment:sS},template:{function:"function"},loadingScreenTemplate:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:tS,function:"function"},showTooltips:{boolean:eS},tooltip:{followMouse:{boolean:eS},overflowMethod:{string:["cap","flip","none"]},delay:{number:iS},template:{function:"function"},__type__:{object:rS}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:eS,object:rS}},timeAxis:{scale:{string:tS,undefined:"undefined"},step:{number:iS,undefined:"undefined"},__type__:{object:rS}},type:{string:tS},width:{string:tS,number:iS},preferZoom:{boolean:eS},zoomable:{boolean:eS},zoomKey:{string:["ctrlKey","altKey","shiftKey","metaKey",""]},zoomFriction:{number:iS},zoomMax:{number:iS},zoomMin:{number:iS},xss:{disabled:{boolean:eS},filterOptions:{__any__:{any:"any"},__type__:{object:rS}},__type__:{object:rS}},__type__:{object:rS}},lS={global:{align:["center","left","right"],alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupHeightMode:["auto","fixed","fitItems"],groupsDraggable:!1,height:"",locale:"",longSelectPressTime:251,margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},preferZoom:!1,selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,cluster:!1,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:[500,0,99999,100]},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","shiftKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],xss:{disabled:!1}}},hS={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},uS=function(){function t(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;bo(this||C,t),(this||C).pixelRatio=c,(this||C).generated=!1,(this||C).centerCoordinates={x:144.5,y:144.5},(this||C).r=289*.49,(this||C).color={r:255,g:255,b:255,a:1},(this||C).hueCircle=void 0,(this||C).initialColor={r:255,g:255,b:255,a:1},(this||C).previousColor=void 0,(this||C).applied=!1,(this||C).updateCallback=function(){},(this||C).closeCallback=function(){},this._create()}return So(t,[{key:"insertTo",value:function(c){void 0!==(this||C).hammer&&((this||C).hammer.destroy(),(this||C).hammer=void 0),(this||C).container=c,(this||C).container.appendChild((this||C).frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(c){if("function"!=typeof c)throw new Error("Function attempted to set as colorPicker update callback is not a function.");(this||C).updateCallback=c}},{key:"setCloseCallback",value:function(c){if("function"!=typeof c)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");(this||C).closeCallback=c}},{key:"_isColorString",value:function(c){if("string"==typeof c)return hS[c]}},{key:"setColor",value:function(c){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==c){var w,x=this._isColorString(c);if(void 0!==x&&(c=x),!0===Kb.isString(c)){if(!0===Kb.isValidRGB(c)){var C=c.substr(4).substr(0,c.length-5).split(",");w={r:C[0],g:C[1],b:C[2],a:1}}else if(!0===Kb.isValidRGBA(c)){var S=c.substr(5).substr(0,c.length-6).split(",");w={r:S[0],g:S[1],b:S[2],a:S[3]}}else if(!0===Kb.isValidHex(c)){var D=Kb.hexToRGB(c);w={r:D.r,g:D.g,b:D.b,a:1}}}else if(c instanceof Object&&void 0!==c.r&&void 0!==c.g&&void 0!==c.b){var T=void 0!==c.a?c.a:"1.0";w={r:c.r,g:c.g,b:c.b,a:T}}if(void 0===w)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+gf(c));this._setColor(w,g)}}},{key:"show",value:function(){void 0!==(this||C).closeCallback&&(this.closeCallback(),(this||C).closeCallback=void 0),(this||C).applied=!1,(this||C).frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var c=this||C,g=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===g&&((this||C).previousColor=Kb.extend({},(this||C).color)),!0===(this||C).applied&&this.updateCallback((this||C).initialColor),(this||C).frame.style.display="none",fu((function(){void 0!==c.closeCallback&&(c.closeCallback(),c.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback((this||C).color),(this||C).applied=!1,this._hide()}},{key:"_apply",value:function(){(this||C).applied=!0,this.updateCallback((this||C).color),this._updatePicker((this||C).color)}},{key:"_loadLast",value:function(){void 0!==(this||C).previousColor?this.setColor((this||C).previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(c){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===g&&((this||C).initialColor=Kb.extend({},c)),(this||C).color=c;var w=Kb.RGBToHSV(c.r,c.g,c.b),x=2*Math.PI,S=(this||C).r*w.s,D=(this||C).centerCoordinates.x+S*Math.sin(x*w.h),T=(this||C).centerCoordinates.y+S*Math.cos(x*w.h);(this||C).colorPickerSelector.style.left=D-.5*(this||C).colorPickerSelector.clientWidth+"px",(this||C).colorPickerSelector.style.top=T-.5*(this||C).colorPickerSelector.clientHeight+"px",this._updatePicker(c)}},{key:"_setOpacity",value:function(c){(this||C).color.a=c/100,this._updatePicker((this||C).color)}},{key:"_setBrightness",value:function(c){var g=Kb.RGBToHSV((this||C).color.r,(this||C).color.g,(this||C).color.b);g.v=c/100;var w=Kb.HSVToRGB(g.h,g.s,g.v);w.a=(this||C).color.a,(this||C).color=w,this._updatePicker()}},{key:"_updatePicker",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(this||C).color,g=Kb.RGBToHSV(c.r,c.g,c.b),w=(this||C).colorPickerCanvas.getContext("2d");void 0===(this||C).pixelRation&&((this||C).pixelRatio=(window.devicePixelRatio||1)/(w.webkitBackingStorePixelRatio||w.mozBackingStorePixelRatio||w.msBackingStorePixelRatio||w.oBackingStorePixelRatio||w.backingStorePixelRatio||1)),w.setTransform((this||C).pixelRatio,0,0,(this||C).pixelRatio,0,0);var x=(this||C).colorPickerCanvas.clientWidth,S=(this||C).colorPickerCanvas.clientHeight;w.clearRect(0,0,x,S),w.putImageData((this||C).hueCircle,0,0),w.fillStyle="rgba(0,0,0,"+(1-g.v)+")",w.circle((this||C).centerCoordinates.x,(this||C).centerCoordinates.y,(this||C).r),Df(w).call(w),(this||C).brightnessRange.value=100*g.v,(this||C).opacityRange.value=100*c.a,(this||C).initialColorDiv.style.backgroundColor="rgba("+(this||C).initialColor.r+","+(this||C).initialColor.g+","+(this||C).initialColor.b+","+(this||C).initialColor.a+")",(this||C).newColorDiv.style.backgroundColor="rgba("+(this||C).color.r+","+(this||C).color.g+","+(this||C).color.b+","+(this||C).color.a+")"}},{key:"_setSize",value:function(){(this||C).colorPickerCanvas.style.width="100%",(this||C).colorPickerCanvas.style.height="100%",(this||C).colorPickerCanvas.width=289*(this||C).pixelRatio,(this||C).colorPickerCanvas.height=289*(this||C).pixelRatio}},{key:"_create",value:function(){var c,g,w,x;if((this||C).frame=document.createElement("div"),(this||C).frame.className="vis-color-picker",(this||C).colorPickerDiv=document.createElement("div"),(this||C).colorPickerSelector=document.createElement("div"),(this||C).colorPickerSelector.className="vis-selector",(this||C).colorPickerDiv.appendChild((this||C).colorPickerSelector),(this||C).colorPickerCanvas=document.createElement("canvas"),(this||C).colorPickerDiv.appendChild((this||C).colorPickerCanvas),(this||C).colorPickerCanvas.getContext){var S=(this||C).colorPickerCanvas.getContext("2d");(this||C).pixelRatio=(window.devicePixelRatio||1)/(S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1),(this||C).colorPickerCanvas.getContext("2d").setTransform((this||C).pixelRatio,0,0,(this||C).pixelRatio,0,0)}else{var D=document.createElement("DIV");D.style.color="red",D.style.fontWeight="bold",D.style.padding="10px",D.innerHTML="Error: your browser does not support HTML canvas",(this||C).colorPickerCanvas.appendChild(D)}(this||C).colorPickerDiv.className="vis-color",(this||C).opacityDiv=document.createElement("div"),(this||C).opacityDiv.className="vis-opacity",(this||C).brightnessDiv=document.createElement("div"),(this||C).brightnessDiv.className="vis-brightness",(this||C).arrowDiv=document.createElement("div"),(this||C).arrowDiv.className="vis-arrow",(this||C).opacityRange=document.createElement("input");try{(this||C).opacityRange.type="range",(this||C).opacityRange.min="0",(this||C).opacityRange.max="100"}catch(c){}(this||C).opacityRange.value="100",(this||C).opacityRange.className="vis-range",(this||C).brightnessRange=document.createElement("input");try{(this||C).brightnessRange.type="range",(this||C).brightnessRange.min="0",(this||C).brightnessRange.max="100"}catch(c){}(this||C).brightnessRange.value="100",(this||C).brightnessRange.className="vis-range",(this||C).opacityDiv.appendChild((this||C).opacityRange),(this||C).brightnessDiv.appendChild((this||C).brightnessRange);var T=this||C;(this||C).opacityRange.onchange=function(){T._setOpacity((this||C).value)},(this||C).opacityRange.oninput=function(){T._setOpacity((this||C).value)},(this||C).brightnessRange.onchange=function(){T._setBrightness((this||C).value)},(this||C).brightnessRange.oninput=function(){T._setBrightness((this||C).value)},(this||C).brightnessLabel=document.createElement("div"),(this||C).brightnessLabel.className="vis-label vis-brightness",(this||C).brightnessLabel.innerHTML="brightness:",(this||C).opacityLabel=document.createElement("div"),(this||C).opacityLabel.className="vis-label vis-opacity",(this||C).opacityLabel.innerHTML="opacity:",(this||C).newColorDiv=document.createElement("div"),(this||C).newColorDiv.className="vis-new-color",(this||C).newColorDiv.innerHTML="new",(this||C).initialColorDiv=document.createElement("div"),(this||C).initialColorDiv.className="vis-initial-color",(this||C).initialColorDiv.innerHTML="initial",(this||C).cancelButton=document.createElement("div"),(this||C).cancelButton.className="vis-button vis-cancel",(this||C).cancelButton.innerHTML="cancel",(this||C).cancelButton.onclick=Gh(c=(this||C)._hide).call(c,this||C,!1),(this||C).applyButton=document.createElement("div"),(this||C).applyButton.className="vis-button vis-apply",(this||C).applyButton.innerHTML="apply",(this||C).applyButton.onclick=Gh(g=(this||C)._apply).call(g,this||C),(this||C).saveButton=document.createElement("div"),(this||C).saveButton.className="vis-button vis-save",(this||C).saveButton.innerHTML="save",(this||C).saveButton.onclick=Gh(w=(this||C)._save).call(w,this||C),(this||C).loadButton=document.createElement("div"),(this||C).loadButton.className="vis-button vis-load",(this||C).loadButton.innerHTML="load last",(this||C).loadButton.onclick=Gh(x=(this||C)._loadLast).call(x,this||C),(this||C).frame.appendChild((this||C).colorPickerDiv),(this||C).frame.appendChild((this||C).arrowDiv),(this||C).frame.appendChild((this||C).brightnessLabel),(this||C).frame.appendChild((this||C).brightnessDiv),(this||C).frame.appendChild((this||C).opacityLabel),(this||C).frame.appendChild((this||C).opacityDiv),(this||C).frame.appendChild((this||C).newColorDiv),(this||C).frame.appendChild((this||C).initialColorDiv),(this||C).frame.appendChild((this||C).cancelButton),(this||C).frame.appendChild((this||C).applyButton),(this||C).frame.appendChild((this||C).saveButton),(this||C).frame.appendChild((this||C).loadButton)}},{key:"_bindHammer",value:function(){var c=this||C;(this||C).drag={},(this||C).pinch={},(this||C).hammer=new Tk((this||C).colorPickerCanvas),(this||C).hammer.get("pinch").set({enable:!0}),hk((this||C).hammer,(function(g){c._moveSelector(g)})),(this||C).hammer.on("tap",(function(g){c._moveSelector(g)})),(this||C).hammer.on("panstart",(function(g){c._moveSelector(g)})),(this||C).hammer.on("panmove",(function(g){c._moveSelector(g)})),(this||C).hammer.on("panend",(function(g){c._moveSelector(g)}))}},{key:"_generateHueCircle",value:function(){if(!1===(this||C).generated){var c=(this||C).colorPickerCanvas.getContext("2d");void 0===(this||C).pixelRation&&((this||C).pixelRatio=(window.devicePixelRatio||1)/(c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1)),c.setTransform((this||C).pixelRatio,0,0,(this||C).pixelRatio,0,0);var g,w,x,S,D=(this||C).colorPickerCanvas.clientWidth,T=(this||C).colorPickerCanvas.clientHeight;c.clearRect(0,0,D,T),(this||C).centerCoordinates={x:.5*D,y:.5*T},(this||C).r=.49*D;var E,O=2*Math.PI/360,A=1/(this||C).r;for(x=0;x<360;x++)for(S=0;S<(this||C).r;S++)g=(this||C).centerCoordinates.x+S*Math.sin(O*x),w=(this||C).centerCoordinates.y+S*Math.cos(O*x),E=Kb.HSVToRGB(.002777777777777778*x,S*A,1),c.fillStyle="rgb("+E.r+","+E.g+","+E.b+")",c.fillRect(g-.5,w-.5,2,2);c.strokeStyle="rgba(0,0,0,1)",c.circle((this||C).centerCoordinates.x,(this||C).centerCoordinates.y,(this||C).r),c.stroke(),(this||C).hueCircle=c.getImageData(0,0,D,T)}(this||C).generated=!0}},{key:"_moveSelector",value:function(c){var g=(this||C).colorPickerDiv.getBoundingClientRect(),w=c.center.x-g.left,x=c.center.y-g.top,S=.5*(this||C).colorPickerDiv.clientHeight,D=.5*(this||C).colorPickerDiv.clientWidth,T=w-D,E=x-S,O=Math.atan2(T,E),A=.98*Math.min(Math.sqrt(T*T+E*E),D),P=Math.cos(O)*A+S,M=Math.sin(O)*A+D;(this||C).colorPickerSelector.style.top=P-.5*(this||C).colorPickerSelector.clientHeight+"px",(this||C).colorPickerSelector.style.left=M-.5*(this||C).colorPickerSelector.clientWidth+"px";var N=O/(2*Math.PI);N=N<0?N+1:N;var R=A/(this||C).r,L=Kb.RGBToHSV((this||C).color.r,(this||C).color.g,(this||C).color.b);L.h=N,L.s=R;var j=Kb.HSVToRGB(L.h,L.s,L.v);j.a=(this||C).color.a,(this||C).color=j,(this||C).initialColorDiv.style.backgroundColor="rgba("+(this||C).initialColor.r+","+(this||C).initialColor.g+","+(this||C).initialColor.b+","+(this||C).initialColor.a+")",(this||C).newColorDiv.style.backgroundColor="rgba("+(this||C).color.r+","+(this||C).color.g+","+(this||C).color.b+","+(this||C).color.a+")"}}]),t}(),cS=function(){function t(c,g,w){var x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;bo(this||C,t),(this||C).parent=c,(this||C).changedOptions=[],(this||C).container=g,(this||C).allowCreation=!1,(this||C).options={},(this||C).initialized=!1,(this||C).popupCounter=0,(this||C).defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Kb.extend((this||C).options,(this||C).defaultOptions),(this||C).configureOptions=w,(this||C).moduleOptions={},(this||C).domElements=[],(this||C).popupDiv={},(this||C).popupLimit=5,(this||C).popupHistory={},(this||C).colorPicker=new uS(x),(this||C).wrapper=void 0}return So(t,[{key:"setOptions",value:function(c){if(void 0!==c){(this||C).popupHistory={},this._removePopup();var g=!0;if("string"==typeof c)(this||C).options.filter=c;else if(eu(c))(this||C).options.filter=c.join();else if("object"===Sh(c)){if(null==c)throw new TypeError("options cannot be null");void 0!==c.container&&((this||C).options.container=c.container),void 0!==gu(c)&&((this||C).options.filter=gu(c)),void 0!==c.showButton&&((this||C).options.showButton=c.showButton),void 0!==c.enabled&&(g=c.enabled)}else"boolean"==typeof c?((this||C).options.filter=!0,g=c):"function"==typeof c&&((this||C).options.filter=c,g=!0);!1===gu((this||C).options)&&(g=!1),(this||C).options.enabled=g}this._clean()}},{key:"setModuleOptions",value:function(c){(this||C).moduleOptions=c,!0===(this||C).options.enabled&&(this._clean(),void 0!==(this||C).options.container&&((this||C).container=(this||C).options.container),this._create())}},{key:"_create",value:function(){this._clean(),(this||C).changedOptions=[];var c=gu((this||C).options),g=0,w=!1;for(var x in(this||C).configureOptions)(this||C).configureOptions.hasOwnProperty(x)&&((this||C).allowCreation=!1,w=!1,"function"==typeof c?w=(w=c(x,[]))||this._handleObject((this||C).configureOptions[x],[x],!0):!0!==c&&-1===zm(c).call(c,x)||(w=!0),!1!==w&&((this||C).allowCreation=!0,g>0&&this._makeItem([]),this._makeHeader(x),this._handleObject((this||C).configureOptions[x],[x])),g++);this._makeButton(),this._push()}},{key:"_push",value:function(){(this||C).wrapper=document.createElement("div"),(this||C).wrapper.className="vis-configuration-wrapper",(this||C).container.appendChild((this||C).wrapper);for(var c=0;c<(this||C).domElements.length;c++)(this||C).wrapper.appendChild((this||C).domElements[c]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var c=0;c<(this||C).domElements.length;c++)(this||C).wrapper.removeChild((this||C).domElements[c]);void 0!==(this||C).wrapper&&((this||C).container.removeChild((this||C).wrapper),(this||C).wrapper=void 0),(this||C).domElements=[],this._removePopup()}},{key:"_getValue",value:function(c){for(var g=(this||C).moduleOptions,w=0;w<c.length;w++){if(void 0===g[c[w]]){g=void 0;break}g=g[c[w]]}return g}},{key:"_makeItem",value:function(c){if(!0===(this||C).allowCreation){var g=document.createElement("div");g.className="vis-configuration vis-config-item vis-config-s"+c.length;for(var w=arguments.length,x=new Array(w>1?w-1:0),S=1;S<w;S++)x[S-1]=arguments[S];return hu(x).call(x,(function(c){g.appendChild(c)})),(this||C).domElements.push(g),(this||C).domElements.length}return 0}},{key:"_makeHeader",value:function(c){var g=document.createElement("div");g.className="vis-configuration vis-config-header",g.innerHTML=Kb.xss(c),this._makeItem([],g)}},{key:"_makeLabel",value:function(c,g){var w=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=document.createElement("div");return x.className="vis-configuration vis-config-label vis-config-s"+g.length,x.innerHTML=!0===w?Kb.xss("<i><b>"+c+":</b></i>"):Kb.xss(c+":"),x}},{key:"_makeDropdown",value:function(c,g,w){var x=document.createElement("select");x.className="vis-configuration vis-config-select";var S=0;void 0!==g&&-1!==zm(c).call(c,g)&&(S=zm(c).call(c,g));for(var D=0;D<c.length;D++){var T=document.createElement("option");T.value=c[D],D===S&&(T.selected="selected"),T.innerHTML=c[D],x.appendChild(T)}var E=this||C;x.onchange=function(){E._update((this||C).value,w)};var O=this._makeLabel(w[w.length-1],w);this._makeItem(w,O,x)}},{key:"_makeRange",value:function(c,g,w){var x=c[0],S=c[1],D=c[2],T=c[3],E=document.createElement("input");E.className="vis-configuration vis-config-range";try{E.type="range",E.min=S,E.max=D}catch(c){}E.step=T;var O="",A=0;if(void 0!==g){var P=1.2;g<0&&g*P<S?(E.min=Math.ceil(g*P),A=E.min,O="range increased"):g/P<S&&(E.min=Math.ceil(g/P),A=E.min,O="range increased"),g*P>D&&1!==D&&(E.max=Math.ceil(g*P),A=E.max,O="range increased"),E.value=g}else E.value=x;var M=document.createElement("input");M.className="vis-configuration vis-config-rangeinput",M.value=Number(E.value);var N=this||C;E.onchange=function(){M.value=(this||C).value,N._update(Number((this||C).value),w)},E.oninput=function(){M.value=(this||C).value};var R=this._makeLabel(w[w.length-1],w),L=this._makeItem(w,R,E,M);""!==O&&(this||C).popupHistory[L]!==A&&((this||C).popupHistory[L]=A,this._setupPopup(O,L))}},{key:"_makeButton",value:function(){var c=this||C;if(!0===(this||C).options.showButton){var g=document.createElement("div");g.className="vis-configuration vis-config-button",g.innerHTML="generate options",g.onclick=function(){c._printOptions()},g.onmouseover=function(){g.className="vis-configuration vis-config-button hover"},g.onmouseout=function(){g.className="vis-configuration vis-config-button"},(this||C).optionsContainer=document.createElement("div"),(this||C).optionsContainer.className="vis-configuration vis-config-option-container",(this||C).domElements.push((this||C).optionsContainer),(this||C).domElements.push(g)}}},{key:"_setupPopup",value:function(c,g){var w=this||C;if(!0===(this||C).initialized&&!0===(this||C).allowCreation&&(this||C).popupCounter<(this||C).popupLimit){var x=document.createElement("div");x.id="vis-configuration-popup",x.className="vis-configuration-popup",x.innerHTML=Kb.xss(c),x.onclick=function(){w._removePopup()},(this||C).popupCounter+=1,(this||C).popupDiv={html:x,index:g}}}},{key:"_removePopup",value:function(){void 0!==(this||C).popupDiv.html&&((this||C).popupDiv.html.parentNode.removeChild((this||C).popupDiv.html),clearTimeout((this||C).popupDiv.hideTimeout),clearTimeout((this||C).popupDiv.deleteTimeout),(this||C).popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var c=this||C;if(void 0!==(this||C).popupDiv.html){var g=(this||C).domElements[(this||C).popupDiv.index].getBoundingClientRect();(this||C).popupDiv.html.style.left=g.left+"px",(this||C).popupDiv.html.style.top=g.top-30+"px",document.body.appendChild((this||C).popupDiv.html),(this||C).popupDiv.hideTimeout=fu((function(){c.popupDiv.html.style.opacity=0}),1500),(this||C).popupDiv.deleteTimeout=fu((function(){c._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(c,g,w){var x=document.createElement("input");x.type="checkbox",x.className="vis-configuration vis-config-checkbox",x.checked=c,void 0!==g&&(x.checked=g,g!==c&&("object"===Sh(c)?g!==c.enabled&&(this||C).changedOptions.push({path:w,value:g}):(this||C).changedOptions.push({path:w,value:g})));var S=this||C;x.onchange=function(){S._update((this||C).checked,w)};var D=this._makeLabel(w[w.length-1],w);this._makeItem(w,D,x)}},{key:"_makeTextInput",value:function(c,g,w){var x=document.createElement("input");x.type="text",x.className="vis-configuration vis-config-text",x.value=g,g!==c&&(this||C).changedOptions.push({path:w,value:g});var S=this||C;x.onchange=function(){S._update((this||C).value,w)};var D=this._makeLabel(w[w.length-1],w);this._makeItem(w,D,x)}},{key:"_makeColorField",value:function(c,g,w){var x=this||C,S=c[1],D=document.createElement("div");"none"!==(g=void 0===g?S:g)?(D.className="vis-configuration vis-config-colorBlock",D.style.backgroundColor=g):D.className="vis-configuration vis-config-colorBlock none",g=void 0===g?S:g,D.onclick=function(){x._showColorPicker(g,D,w)};var T=this._makeLabel(w[w.length-1],w);this._makeItem(w,T,D)}},{key:"_showColorPicker",value:function(c,g,w){var x=this||C;g.onclick=function(){},(this||C).colorPicker.insertTo(g),(this||C).colorPicker.show(),(this||C).colorPicker.setColor(c),(this||C).colorPicker.setUpdateCallback((function(c){var C="rgba("+c.r+","+c.g+","+c.b+","+c.a+")";g.style.backgroundColor=C,x._update(C,w)})),(this||C).colorPicker.setCloseCallback((function(){g.onclick=function(){x._showColorPicker(c,g,w)}}))}},{key:"_handleObject",value:function(c){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],w=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=!1,S=gu((this||C).options),D=!1;for(var T in c)if(c.hasOwnProperty(T)){x=!0;var E=c[T],O=Kb.copyAndExtendArray(g,T);if("function"==typeof S&&!1===(x=S(T,g))&&!eu(E)&&"string"!=typeof E&&"boolean"!=typeof E&&E instanceof Object&&((this||C).allowCreation=!1,x=this._handleObject(E,O,!0),(this||C).allowCreation=!1===w),!1!==x){D=!0;var A=this._getValue(O);if(eu(E))this._handleArray(E,A,O);else if("string"==typeof E)this._makeTextInput(E,A,O);else if("boolean"==typeof E)this._makeCheckbox(E,A,O);else if(E instanceof Object){var P=!0;if(-1!==zm(g).call(g,"physics")&&(this||C).moduleOptions.physics.solver!==T&&(P=!1),!0===P)if(void 0!==E.enabled){var M=Kb.copyAndExtendArray(O,"enabled"),N=this._getValue(M);if(!0===N){var R=this._makeLabel(T,O,!0);this._makeItem(O,R),D=this._handleObject(E,O)||D}else this._makeCheckbox(E,N,O)}else{var L=this._makeLabel(T,O,!0);this._makeItem(O,L),D=this._handleObject(E,O)||D}}else console.error("dont know how to handle",E,T,O)}}return D}},{key:"_handleArray",value:function(c,g,w){"string"==typeof c[0]&&"color"===c[0]?(this._makeColorField(c,g,w),c[1]!==g&&(this||C).changedOptions.push({path:w,value:g})):"string"==typeof c[0]?(this._makeDropdown(c,g,w),c[0]!==g&&(this||C).changedOptions.push({path:w,value:g})):"number"==typeof c[0]&&(this._makeRange(c,g,w),c[0]!==g&&(this||C).changedOptions.push({path:w,value:Number(g)}))}},{key:"_update",value:function(c,g){var w=this._constructOptions(c,g);(this||C).parent.body&&(this||C).parent.body.emitter&&(this||C).parent.body.emitter.emit&&(this||C).parent.body.emitter.emit("configChange",w),(this||C).initialized=!0,(this||C).parent.setOptions(w)}},{key:"_constructOptions",value:function(c,g){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},x=w;c="false"!==(c="true"===c||c)&&c;for(var C=0;C<g.length;C++)"global"!==g[C]&&(void 0===x[g[C]]&&(x[g[C]]={}),C!==g.length-1?x=x[g[C]]:x[g[C]]=c);return w}},{key:"_printOptions",value:function(){var c=this.getOptions();(this||C).optionsContainer.innerHTML="<pre>var options = "+gf(c,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var c={},g=0;g<(this||C).changedOptions.length;g++)this._constructOptions((this||C).changedOptions[g].value,(this||C).changedOptions[g].path,c);return c}}]),t}();function AC(c){var g=function(){if("undefined"==typeof Reflect||!Go)return!1;if(Go.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Go(Boolean,[],(function(){}))),!0}catch(c){return!1}}();return function(){var w,x=Mh(c);if(g){var S=Mh(this||C).constructor;w=Go(x,arguments,S)}else w=x.apply(this||C,arguments);return Th(this||C,w)}}var dS=function(c){zo(i,c);var g=AC(i);function i(c,w,x,S){var D,T,E,O,A,P,M,N;if(bo(this||C,i),(N=g.call(this||C)).initTime=new Date,N.itemsDone=!1,!(To(N)instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!eu(x)&&!Db(x)&&x instanceof Object){var R=S;S=x,x=R}S&&S.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var L=To(N);if(N.defaultOptions={autoResize:!0,longSelectPressTime:251,orientation:{axis:"bottom",item:"bottom"},moment:Tu},N.options=Kb.deepExtend({},N.defaultOptions),S&&Kb.setupXSSProtection(S.xss),N._create(c),!S||S&&void 0===S.rtl){var j;N.dom.root.style.visibility="hidden";for(var B=N.dom.root;!j&&B;)j=window.getComputedStyle(B,null).direction,B=B.parentElement;N.options.rtl=j&&"rtl"==j.toLowerCase()}else N.options.rtl=S.rtl;S&&(S.rollingMode&&(N.options.rollingMode=S.rollingMode),S.onInitialDrawComplete&&(N.options.onInitialDrawComplete=S.onInitialDrawComplete),S.onTimeout&&(N.options.onTimeout=S.onTimeout),S.loadingScreenTemplate&&(N.options.loadingScreenTemplate=S.loadingScreenTemplate));var z=document.createElement("div");if(N.options.loadingScreenTemplate){var H,G=Gh(H=N.options.loadingScreenTemplate).call(H,To(N)),V=G(N.dom.loadingScreen);V instanceof Object&&!(V instanceof Element)?G(z):V instanceof Element?(z.innerHTML="",z.appendChild(V)):null!=V&&(z.innerHTML=Kb.xss(V))}function _(c,g){L.hasListeners(c)&&L.emit(c,L.getEventProperties(g))}return N.dom.loadingScreen.appendChild(z),N.components=[],N.body={dom:N.dom,domProps:N.props,emitter:{on:Gh(D=N.on).call(D,To(N)),off:Gh(T=N.off).call(T,To(N)),emit:Gh(E=N.emit).call(E,To(N))},hiddenDates:[],util:{getScale:function(){return L.timeAxis.step.scale},getStep:function(){return L.timeAxis.step.step},toScreen:Gh(O=L._toScreen).call(O,L),toGlobalScreen:Gh(A=L._toGlobalScreen).call(A,L),toTime:Gh(P=L._toTime).call(P,L),toGlobalTime:Gh(M=L._toGlobalTime).call(M,L)}},N.range=new yk(N.body,N.options),N.components.push(N.range),N.body.range=N.range,N.timeAxis=new Ok(N.body,N.options),N.timeAxis2=null,N.components.push(N.timeAxis),N.currentTime=new Jk(N.body,N.options),N.components.push(N.currentTime),N.itemSet=new OC(N.body,N.options),N.components.push(N.itemSet),N.itemsData=null,N.groupsData=null,N.dom.root.onclick=function(c){_("click",c)},N.dom.root.ondblclick=function(c){_("doubleClick",c)},N.dom.root.oncontextmenu=function(c){_("contextmenu",c)},N.dom.root.onmouseover=function(c){_("mouseOver",c)},window.PointerEvent?(N.dom.root.onpointerdown=function(c){_("mouseDown",c)},N.dom.root.onpointermove=function(c){_("mouseMove",c)},N.dom.root.onpointerup=function(c){_("mouseUp",c)}):(N.dom.root.onmousemove=function(c){_("mouseMove",c)},N.dom.root.onmousedown=function(c){_("mouseDown",c)},N.dom.root.onmouseup=function(c){_("mouseUp",c)}),N.initialFitDone=!1,N.on("changed",(function(){if(null!=L.itemsData){if(!L.initialFitDone&&!L.options.rollingMode)if(L.initialFitDone=!0,null!=L.options.start||null!=L.options.end){if(null==L.options.start||null==L.options.end)var c=L.getItemRange();var g=null!=L.options.start?L.options.start:c.min,w=null!=L.options.end?L.options.end:c.max;L.setWindow(g,w,{animation:!1})}else L.fit({animation:!1});L.initialDrawDone||!L.initialRangeChangeDone&&(L.options.start||L.options.end)&&!L.options.rollingMode||(L.initialDrawDone=!0,L.itemSet.initialDrawDone=!0,L.dom.root.style.visibility="visible",L.dom.loadingScreen.parentNode.removeChild(L.dom.loadingScreen),L.options.onInitialDrawComplete&&fu((function(){return L.options.onInitialDrawComplete()}),0))}})),N.on("destroyTimeline",(function(){L.destroy()})),S&&N.setOptions(S),N.body.emitter.on("fit",(function(c){N._onFit(c),N.redraw()})),x&&N.setGroups(x),w&&N.setItems(w),N._redraw(),N}return So(i,[{key:"_createConfigurator",value:function(){return new cS(this||C,(this||C).dom.container,lS)}},{key:"redraw",value:function(){(this||C).itemSet&&(this||C).itemSet.markDirty({refreshItems:!0}),this._redraw()}},{key:"setOptions",value:function(c){if(!0===QC.validate(c,aS)&&console.log("%cErrors have been found in the supplied options object.",VC),$k.prototype.setOptions.call(this||C,c),"type"in c&&c.type!==(this||C).options.type){(this||C).options.type=c.type;var g=(this||C).itemsData;if(g){var w=this.getSelection();this.setItems(null),this.setItems(g.rawDS),this.setSelection(w)}}}},{key:"setItems",value:function(c){var g;(this||C).itemsDone=!1,g=c?Db(c)?Ob(c):Ob(new w.DataSet(c)):null,(this||C).itemsData&&(this||C).itemsData.dispose(),(this||C).itemsData=g,(this||C).itemSet&&(this||C).itemSet.setItems(null!=g?g.rawDS:null)}},{key:"setGroups",value:function(c){var g;c?(eu(c)&&(c=new w.DataSet(c)),g=new w.DataView(c,{filter:function(c){return!1!==c.visible}})):g=null,null!=(this||C).groupsData&&"function"==typeof(this||C).groupsData.setData&&(this||C).groupsData.setData(null),(this||C).groupsData=g,(this||C).itemSet.setGroups(g)}},{key:"setData",value:function(c){c&&c.groups&&this.setGroups(c.groups),c&&c.items&&this.setItems(c.items)}},{key:"setSelection",value:function(c,g){(this||C).itemSet&&(this||C).itemSet.setSelection(c),g&&g.focus&&this.focus(c,g)}},{key:"getSelection",value:function(){return(this||C).itemSet&&(this||C).itemSet.getSelection()||[]}},{key:"focus",value:function(c,g){if((this||C).itemsData&&null!=c){var w=eu(c)?c:[c],x=(this||C).itemsData.get(w),S=null,D=null;if(hu(x).call(x,(function(c){var g=c.start.valueOf(),w="end"in c?c.end.valueOf():c.start.valueOf();(null===S||g<S)&&(S=g),(null===D||w>D)&&(D=w)})),null!==S&&null!==D){var T=this||C,E=(this||C).itemSet.items[w[0]],O=-1*this._getScrollTop(),A=null,u=function(){var c=NC(T,E);c.shouldScroll&&c.itemTop!=A.itemTop&&(T._setScrollTop(-c.scrollOffset),T._redraw())},P=!g||void 0===g.zoom||g.zoom,M=(S+D)/2,N=P?1.1*(D-S):Math.max((this||C).range.end-(this||C).range.start,1.1*(D-S)),R=!g||void 0===g.animation||g.animation;R||(A={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),(this||C).range.setRange(M-N/2,M+N/2,{animation:R},(function(){u(),fu(u,100)}),(function(c,g,w){var x=NC(T,E);if(!1!==x&&(A||(A=x),A.itemTop!=x.itemTop||A.shouldScroll)){A.itemTop!=x.itemTop&&x.shouldScroll&&(A=x,O=-1*T._getScrollTop());var C=O,S=A.scrollOffset,D=w?S:C+(S-C)*c;T._setScrollTop(-D),g||T._redraw()}}))}}}},{key:"fit",value:function(c,g){var w,x=!c||void 0===c.animation||c.animation;1===(this||C).itemsData.length&&void 0===(this||C).itemsData.get()[0].end?(w=this.getDataRange(),this.moveTo(w.min.valueOf(),{animation:x},g)):(w=this.getItemRange(),(this||C).range.setRange(w.min,w.max,{animation:x},g))}},{key:"getItemRange",value:function(){var c=this||C,g=this.getDataRange(),w=null!==g.min?g.min.valueOf():null,x=null!==g.max?g.max.valueOf():null,S=null,D=null;if(null!=w&&null!=x){var T=x-w;T<=0&&(T=10);var E=T/(this||C).props.center.width,O={},A=0;if(hu(Kb).call(Kb,(this||C).itemSet.items,(function(c,g){c.groupShowing&&(O[g]=c.redraw(!0),A=O[g].length)})),A>0)for(var u=function(c){hu(Kb).call(Kb,O,(function(g){g[c]()}))},P=0;P<A;P++)u(P);if(hu(Kb).call(Kb,(this||C).itemSet.items,(function(g){var C,T,O=PC(g),A=MC(g);c.options.rtl?(C=O-(g.getWidthRight()+10)*E,T=A+(g.getWidthLeft()+10)*E):(C=O-(g.getWidthLeft()+10)*E,T=A+(g.getWidthRight()+10)*E),C<w&&(w=C,S=g),T>x&&(x=T,D=g)})),S&&D){var M=S.getWidthLeft()+10,N=D.getWidthRight()+10,R=(this||C).props.center.width-M-N;R>0&&((this||C).options.rtl?(w=PC(S)-N*T/R,x=MC(D)+M*T/R):(w=PC(S)-M*T/R,x=MC(D)+N*T/R))}}return{min:null!=w?new Date(w):null,max:null!=x?new Date(x):null}}},{key:"getDataRange",value:function(){var c,g=null,w=null;(this||C).itemsData&&hu(c=(this||C).itemsData).call(c,(function(c){var x=Kb.convert(c.start,"Date").valueOf(),C=Kb.convert(null!=c.end?c.end:c.start,"Date").valueOf();(null===g||x<g)&&(g=x),(null===w||C>w)&&(w=C)}));return{min:null!=g?new Date(g):null,max:null!=w?new Date(w):null}}},{key:"getEventProperties",value:function(c){var g=c.center?c.center.x:c.clientX,w=c.center?c.center.y:c.clientY,x=(this||C).dom.centerContainer.getBoundingClientRect(),S=(this||C).options.rtl?x.right-g:g-x.left,D=w-x.top,T=(this||C).itemSet.itemFromTarget(c),E=(this||C).itemSet.groupFromTarget(c),O=Kk.customTimeFromTarget(c),A=(this||C).itemSet.options.snap||null,P=(this||C).body.util.getScale(),M=(this||C).body.util.getStep(),N=this._toTime(S),R=A?A(N,P,M):N,L=Kb.getTarget(c),j=null;return null!=T?j="item":null!=O?j="custom-time":Kb.hasParent(L,(this||C).timeAxis.dom.foreground)||(this||C).timeAxis2&&Kb.hasParent(L,(this||C).timeAxis2.dom.foreground)?j="axis":Kb.hasParent(L,(this||C).itemSet.dom.labelSet)?j="group-label":Kb.hasParent(L,(this||C).currentTime.bar)?j="current-time":Kb.hasParent(L,(this||C).dom.center)&&(j="background"),{event:c,item:T?T.id:null,isCluster:!!T&&!!T.isCluster,items:T?T.items||[]:null,group:E?E.groupId:null,customTime:O?O.options.id:null,what:j,pageX:c.srcEvent?c.srcEvent.pageX:c.pageX,pageY:c.srcEvent?c.srcEvent.pageY:c.pageY,x:S,y:D,time:N,snappedTime:R}}},{key:"toggleRollingMode",value:function(){(this||C).range.rolling?(this||C).range.stopRolling():(null==(this||C).options.rollingMode&&this.setOptions((this||C).options),(this||C).range.startRolling())}},{key:"_redraw",value:function(){$k.prototype._redraw.call(this||C)}},{key:"_onFit",value:function(c){var g=c.start,w=c.end,x=c.animation;w?(this||C).range.setRange(g,w,{animation:x}):this.moveTo(g.valueOf(),{animation:x})}}]),i}($k);function PC(c){return Kb.convert(c.data.start,"Date").valueOf()}function MC(c){var g=null!=c.data.end?c.data.end:c.data.start;return Kb.convert(g,"Date").valueOf()}function NC(c,g){if(!g.parent)return!1;var w=c.options.rtl?c.props.rightContainer.height:c.props.leftContainer.height,x=c.props.center.height,C=g.parent,S=C.top,D=!0,T=c.timeAxis.options.orientation.axis,l=function(){return"bottom"==T?C.height-g.top-g.height:g.top},E=-1*c._getScrollTop(),O=S+l(),A=g.height;return O<E?S+w<=S+l()+A&&(S+=l()-c.itemSet.options.margin.item.vertical):O+A>E+w?S+=l()+A-w+c.itemSet.options.margin.item.vertical:D=!1,{shouldScroll:D,scrollOffset:S=Math.min(S,x-w),itemTop:O}}function FC(c){for(var g in c)c.hasOwnProperty(g)&&(c[g].redundant=c[g].used,c[g].used=[])}function RC(c){for(var g in c)if(c.hasOwnProperty(g)&&c[g].redundant){for(var w=0;w<c[g].redundant.length;w++)c[g].redundant[w].parentNode.removeChild(c[g].redundant[w]);c[g].redundant=[]}}function LC(c,g,w){var x;return g.hasOwnProperty(c)?g[c].redundant.length>0?(x=g[c].redundant[0],g[c].redundant.shift()):(x=document.createElementNS("http://www.w3.org/2000/svg",c),w.appendChild(x)):(x=document.createElementNS("http://www.w3.org/2000/svg",c),g[c]={used:[],redundant:[]},w.appendChild(x)),g[c].used.push(x),x}function jC(c,g,w,x){var C;return g.hasOwnProperty(c)?g[c].redundant.length>0?(C=g[c].redundant[0],g[c].redundant.shift()):(C=document.createElement(c),void 0!==x?w.insertBefore(C,x):w.appendChild(C)):(C=document.createElement(c),g[c]={used:[],redundant:[]},void 0!==x?w.insertBefore(C,x):w.appendChild(C)),g[c].used.push(C),C}function BC(c,g,w,x,C,S){var D;if("circle"==w.style?((D=LC("circle",x,C)).setAttributeNS(null,"cx",c),D.setAttributeNS(null,"cy",g),D.setAttributeNS(null,"r",.5*w.size)):((D=LC("rect",x,C)).setAttributeNS(null,"x",c-.5*w.size),D.setAttributeNS(null,"y",g-.5*w.size),D.setAttributeNS(null,"width",w.size),D.setAttributeNS(null,"height",w.size)),void 0!==w.styles&&D.setAttributeNS(null,"style",w.styles),D.setAttributeNS(null,"class",w.className+" vis-point"),S){var T=LC("text",x,C);S.xOffset&&(c+=S.xOffset),S.yOffset&&(g+=S.yOffset),S.content&&(T.textContent=S.content),S.className&&T.setAttributeNS(null,"class",S.className+" vis-label"),T.setAttributeNS(null,"x",c),T.setAttributeNS(null,"y",g)}return D}function zC(c,g,w,x,C,S,D,T){if(0!=x){x<0&&(g-=x*=-1);var E=LC("rect",S,D);E.setAttributeNS(null,"x",c-.5*w),E.setAttributeNS(null,"y",g),E.setAttributeNS(null,"width",w),E.setAttributeNS(null,"height",x),E.setAttributeNS(null,"class",C),T&&E.setAttributeNS(null,"style",T)}}var pS=function(){function t(c,g,w,x,S,D){var T=arguments.length>6&&void 0!==arguments[6]&&arguments[6],E=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(bo(this||C,t),(this||C).majorSteps=[1,2,5,10],(this||C).minorSteps=[.25,.5,1,2],(this||C).customLines=null,(this||C).containerHeight=S,(this||C).majorCharHeight=D,(this||C)._start=c,(this||C)._end=g,(this||C).scale=1,(this||C).minorStepIdx=-1,(this||C).magnitudefactor=1,this.determineScale(),(this||C).zeroAlign=T,(this||C).autoScaleStart=w,(this||C).autoScaleEnd=x,(this||C).formattingFunction=E,w||x){var O=this||C,u=function(c){var g=c-c%(O.magnitudefactor*O.minorSteps[O.minorStepIdx]);return c%(O.magnitudefactor*O.minorSteps[O.minorStepIdx])>O.magnitudefactor*O.minorSteps[O.minorStepIdx]*.5?g+O.magnitudefactor*O.minorSteps[O.minorStepIdx]:g};w&&((this||C)._start-=2*(this||C).magnitudefactor*(this||C).minorSteps[(this||C).minorStepIdx],(this||C)._start=u((this||C)._start)),x&&((this||C)._end+=(this||C).magnitudefactor*(this||C).minorSteps[(this||C).minorStepIdx],(this||C)._end=u((this||C)._end)),this.determineScale()}}return So(t,[{key:"setCharHeight",value:function(c){(this||C).majorCharHeight=c}},{key:"setHeight",value:function(c){(this||C).containerHeight=c}},{key:"determineScale",value:function(){var c=(this||C)._end-(this||C)._start;(this||C).scale=(this||C).containerHeight/c;var g=(this||C).majorCharHeight/(this||C).scale,w=c>0?Math.round(Math.log(c)/Math.LN10):0;(this||C).minorStepIdx=-1,(this||C).magnitudefactor=Math.pow(10,w);var x=0;w<0&&(x=w);for(var S=!1,D=x;Math.abs(D)<=Math.abs(w);D++){(this||C).magnitudefactor=Math.pow(10,D);for(var T=0;T<(this||C).minorSteps.length;T++)if((this||C).magnitudefactor*(this||C).minorSteps[T]>=g){S=!0,(this||C).minorStepIdx=T;break}if(!0===S)break}}},{key:"is_major",value:function(c){return c%((this||C).magnitudefactor*(this||C).majorSteps[(this||C).minorStepIdx])==0}},{key:"getStep",value:function(){return(this||C).magnitudefactor*(this||C).minorSteps[(this||C).minorStepIdx]}},{key:"getFirstMajor",value:function(){var c=(this||C).magnitudefactor*(this||C).majorSteps[(this||C).minorStepIdx];return this.convertValue((this||C)._start+(c-(this||C)._start%c)%c)}},{key:"formatValue",value:function(c){var g=c.toPrecision(5);return"function"==typeof(this||C).formattingFunction&&(g=this.formattingFunction(c)),"number"==typeof g?"".concat(g):"string"==typeof g?g:c.toPrecision(5)}},{key:"getLines",value:function(){for(var c=[],g=this.getStep(),w=(g-(this||C)._start%g)%g,x=(this||C)._start+w;(this||C)._end-x>1e-5;x+=g)x!=(this||C)._start&&c.push({major:this.is_major(x),y:this.convertValue(x),val:this.formatValue(x)});return c}},{key:"followScale",value:function(c){var g=(this||C).minorStepIdx,w=(this||C)._start,x=(this||C)._end,S=this||C,r=function(){S.magnitudefactor*=2},s=function(){S.magnitudefactor/=2};c.minorStepIdx<=1&&(this||C).minorStepIdx<=1||c.minorStepIdx>1&&(this||C).minorStepIdx>1||(c.minorStepIdx<(this||C).minorStepIdx?((this||C).minorStepIdx=1,2==g||r(),r()):((this||C).minorStepIdx=2,1==g||s(),s()));for(var D=c.convertValue(0),T=c.getStep()*c.scale,E=!1,O=0;!E&&O++<5;){(this||C).scale=T/((this||C).minorSteps[(this||C).minorStepIdx]*(this||C).magnitudefactor);var A=(this||C).containerHeight/(this||C).scale;(this||C)._start=w,(this||C)._end=(this||C)._start+A;var P=(this||C)._end*(this||C).scale,M=(this||C).magnitudefactor*(this||C).majorSteps[(this||C).minorStepIdx],N=this.getFirstMajor()-c.getFirstMajor();if((this||C).zeroAlign){var R=D-P;(this||C)._end+=R/(this||C).scale,(this||C)._start=(this||C)._end-A}else(this||C).autoScaleStart?((this||C)._start-=N/(this||C).scale,(this||C)._end=(this||C)._start+A):((this||C)._start+=M-N/(this||C).scale,(this||C)._end=(this||C)._start+A);if(!(this||C).autoScaleEnd&&(this||C)._end>x+1e-5)s(),E=!1;else{if(!(this||C).autoScaleStart&&(this||C)._start<w-1e-5){if(!((this||C).zeroAlign&&w>=0)){s(),E=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}(this||C).autoScaleStart&&(this||C).autoScaleEnd&&A<x-w?(r(),E=!1):E=!0}}}},{key:"convertValue",value:function(c){return(this||C).containerHeight-(c-(this||C)._start)*(this||C).scale}},{key:"screenToValue",value:function(c){return((this||C).containerHeight-c)/(this||C).scale+(this||C)._start}}]),t}();function GC(c,g){var w=void 0!==Ud&&yd(c)||c["@@iterator"];if(!w){if(eu(c)||(w=function(c,g){var w;if(c){if("string"==typeof c)return WC(c,g);var x=Qd(w=Object.prototype.toString.call(c)).call(w,8,-1);"Object"===x&&c.constructor&&(x=c.constructor.name);return"Map"===x||"Set"===x?gd(c):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?WC(c,g):void 0}}(c))||g&&c&&"number"==typeof c.length){w&&(c=w);var x=0,o=function(){};return{s:o,n:function(){return x>=c.length?{done:!0}:{done:!1,value:c[x++]}},e:function(c){throw c},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C,S=!0,D=!1;return{s:function(){w=w.call(c)},n:function(){var c=w.next();return S=c.done,c},e:function(c){D=!0,C=c},f:function(){try{S||null==w.return||w.return()}finally{if(D)throw C}}}}function WC(c,g){(null==g||g>c.length)&&(g=c.length);for(var w=0,x=new Array(g);w<g;w++)x[w]=c[w];return x}function YC(c){var g=function(){if("undefined"==typeof Reflect||!Go)return!1;if(Go.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Go(Boolean,[],(function(){}))),!0}catch(c){return!1}}();return function(){var w,x=Mh(c);if(g){var S=Mh(this||C).constructor;w=Go(x,arguments,S)}else w=x.apply(this||C,arguments);return Th(this||C,w)}}var mS=function(c){zo(i,c);var g=YC(i);function i(c,w,x,S){var D;bo(this||C,i),(D=g.call(this||C)).id=_b(),D.body=c,D.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(c){return"".concat(hw(c.toPrecision(3)))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(c){return"".concat(hw(c.toPrecision(3)))},title:{text:void 0,style:void 0}}},D.linegraphOptions=S,D.linegraphSVG=x,D.props={},D.DOMelements={lines:{},labels:{},title:{}},D.dom={},D.scale=void 0,D.range={start:0,end:0},D.options=Kb.extend({},D.defaultOptions),D.conversionFactor=1,D.setOptions(w),D.width=Number("".concat(D.options.width).replace("px","")),D.minWidth=D.width,D.height=D.linegraphSVG.getBoundingClientRect().height,D.hidden=!1,D.stepPixels=25,D.zeroCrossing=-1,D.amountOfSteps=-1,D.lineOffset=0,D.master=!0,D.masterAxis=null,D.svgElements={},D.iconsRemoved=!1,D.groups={},D.amountOfGroups=0,D._create(),null==D.scale&&D._redrawLabels(),D.framework={svg:D.svg,svgElements:D.svgElements,options:D.options,groups:D.groups};var T=To(D);return D.body.emitter.on("verticalDrag",(function(){T.dom.lineContainer.style.top="".concat(T.body.domProps.scrollTop,"px")})),D}return So(i,[{key:"addGroup",value:function(c,g){(this||C).groups.hasOwnProperty(c)||((this||C).groups[c]=g),(this||C).amountOfGroups+=1}},{key:"updateGroup",value:function(c,g){(this||C).groups.hasOwnProperty(c)||((this||C).amountOfGroups+=1),(this||C).groups[c]=g}},{key:"removeGroup",value:function(c){(this||C).groups.hasOwnProperty(c)&&(delete(this||C).groups[c],(this||C).amountOfGroups-=1)}},{key:"setOptions",value:function(c){if(c){var g=!1;(this||C).options.orientation!=c.orientation&&void 0!==c.orientation&&(g=!0);Kb.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],(this||C).options,c),(this||C).minWidth=Number("".concat((this||C).options.width).replace("px","")),!0===g&&(this||C).dom.frame&&(this.hide(),this.show())}}},{key:"_create",value:function(){(this||C).dom.frame=document.createElement("div"),(this||C).dom.frame.style.width=(this||C).options.width,(this||C).dom.frame.style.height=(this||C).height,(this||C).dom.lineContainer=document.createElement("div"),(this||C).dom.lineContainer.style.width="100%",(this||C).dom.lineContainer.style.height=(this||C).height,(this||C).dom.lineContainer.style.position="relative",(this||C).dom.lineContainer.style.visibility="visible",(this||C).dom.lineContainer.style.display="block",(this||C).svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),(this||C).svg.style.position="absolute",(this||C).svg.style.top="0px",(this||C).svg.style.height="100%",(this||C).svg.style.width="100%",(this||C).svg.style.display="block",(this||C).dom.frame.appendChild((this||C).svg)}},{key:"_redrawGroupIcons",value:function(){var c;FC((this||C).svgElements);var g=(this||C).options.iconWidth,w=11.5;c="left"===(this||C).options.orientation?4:(this||C).width-g-4;var x=Mc((this||C).groups);Fw(x).call(x,(function(c,g){return c<g?-1:1}));var S,D=GC(x);try{for(D.s();!(S=D.n()).done;){var T=S.value;!0!==(this||C).groups[T].visible||void 0!==(this||C).linegraphOptions.visibility[T]&&!0!==(this||C).linegraphOptions.visibility[T]||((this||C).groups[T].getLegend(g,15,(this||C).framework,c,w),w+=19)}}catch(c){D.e(c)}finally{D.f()}RC((this||C).svgElements),(this||C).iconsRemoved=!1}},{key:"_cleanupIcons",value:function(){!1===(this||C).iconsRemoved&&(FC((this||C).svgElements),RC((this||C).svgElements),(this||C).iconsRemoved=!0)}},{key:"show",value:function(){(this||C).hidden=!1,(this||C).dom.frame.parentNode||("left"===(this||C).options.orientation?(this||C).body.dom.left.appendChild((this||C).dom.frame):(this||C).body.dom.right.appendChild((this||C).dom.frame)),(this||C).dom.lineContainer.parentNode||(this||C).body.dom.backgroundHorizontal.appendChild((this||C).dom.lineContainer),(this||C).dom.lineContainer.style.display="block"}},{key:"hide",value:function(){(this||C).hidden=!0,(this||C).dom.frame.parentNode&&(this||C).dom.frame.parentNode.removeChild((this||C).dom.frame),(this||C).dom.lineContainer.style.display="none"}},{key:"setRange",value:function(c,g){(this||C).range.start=c,(this||C).range.end=g}},{key:"redraw",value:function(){var c=!1,g=0;for(var w in(this||C).dom.lineContainer.style.top="".concat((this||C).body.domProps.scrollTop,"px"),(this||C).groups)(this||C).groups.hasOwnProperty(w)&&(!0!==(this||C).groups[w].visible||void 0!==(this||C).linegraphOptions.visibility[w]&&!0!==(this||C).linegraphOptions.visibility[w]||g++);if(0===(this||C).amountOfGroups||0===g)this.hide();else{this.show(),(this||C).height=Number((this||C).linegraphSVG.style.height.replace("px","")),(this||C).dom.lineContainer.style.height="".concat((this||C).height,"px"),(this||C).width=!0===(this||C).options.visible?Number("".concat((this||C).options.width).replace("px","")):0;var x=(this||C).props,S=(this||C).dom.frame;S.className="vis-data-axis",this._calculateCharSize();var D=(this||C).options.orientation,T=(this||C).options.showMinorLabels,E=(this||C).options.showMajorLabels,O=(this||C).body.dom.backgroundHorizontal.offsetWidth;x.minorLabelHeight=T?x.minorCharHeight:0,x.majorLabelHeight=E?x.majorCharHeight:0,x.minorLineWidth=O-(this||C).lineOffset-(this||C).width+2*(this||C).options.minorLinesOffset,x.minorLineHeight=1,x.majorLineWidth=O-(this||C).lineOffset-(this||C).width+2*(this||C).options.majorLinesOffset,x.majorLineHeight=1,"left"===D?(S.style.top="0",S.style.left="0",S.style.bottom="",S.style.width="".concat((this||C).width,"px"),S.style.height="".concat((this||C).height,"px"),(this||C).props.width=(this||C).body.domProps.left.width,(this||C).props.height=(this||C).body.domProps.left.height):(S.style.top="",S.style.bottom="0",S.style.left="0",S.style.width="".concat((this||C).width,"px"),S.style.height="".concat((this||C).height,"px"),(this||C).props.width=(this||C).body.domProps.right.width,(this||C).props.height=(this||C).body.domProps.right.height),c=this._redrawLabels(),c=this._isResized()||c,!0===(this||C).options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(D)}return c}},{key:"_redrawLabels",value:function(){var c=this||C,g=!1;FC((this||C).DOMelements.lines),FC((this||C).DOMelements.labels);var w=(this||C).options.orientation,x=null!=(this||C).options[w].range?(this||C).options[w].range:{},S=!0;null!=x.max&&((this||C).range.end=x.max,S=!1);var D=!0;null!=x.min&&((this||C).range.start=x.min,D=!1),(this||C).scale=new pS((this||C).range.start,(this||C).range.end,D,S,(this||C).dom.frame.offsetHeight,(this||C).props.majorCharHeight,(this||C).options.alignZeros,(this||C).options[w].format),!1===(this||C).master&&null!=(this||C).masterAxis?((this||C).scale.followScale((this||C).masterAxis.scale),(this||C).dom.lineContainer.style.display="none"):(this||C).dom.lineContainer.style.display="block",(this||C).maxLabelSize=0;var T=(this||C).scale.getLines();hu(T).call(T,(function(g){var x=g.y,C=g.major;c.options.showMinorLabels&&!1===C&&c._redrawLabel(x-2,g.val,w,"vis-y-axis vis-minor",c.props.minorCharHeight),C&&x>=0&&c._redrawLabel(x-2,g.val,w,"vis-y-axis vis-major",c.props.majorCharHeight),!0===c.master&&(C?c._redrawLine(x,w,"vis-grid vis-horizontal vis-major",c.options.majorLinesOffset,c.props.majorLineWidth):c._redrawLine(x,w,"vis-grid vis-horizontal vis-minor",c.options.minorLinesOffset,c.props.minorLineWidth))}));var E=0;void 0!==(this||C).options[w].title&&void 0!==(this||C).options[w].title.text&&(E=(this||C).props.titleCharHeight);var O=!0===(this||C).options.icons?Math.max((this||C).options.iconWidth,E)+(this||C).options.labelOffsetX+15:E+(this||C).options.labelOffsetX+15;return(this||C).maxLabelSize>(this||C).width-O&&!0===(this||C).options.visible?((this||C).width=(this||C).maxLabelSize+O,(this||C).options.width="".concat((this||C).width,"px"),RC((this||C).DOMelements.lines),RC((this||C).DOMelements.labels),this.redraw(),g=!0):(this||C).maxLabelSize<(this||C).width-O&&!0===(this||C).options.visible&&(this||C).width>(this||C).minWidth?((this||C).width=Math.max((this||C).minWidth,(this||C).maxLabelSize+O),(this||C).options.width="".concat((this||C).width,"px"),RC((this||C).DOMelements.lines),RC((this||C).DOMelements.labels),this.redraw(),g=!0):(RC((this||C).DOMelements.lines),RC((this||C).DOMelements.labels),g=!1),g}},{key:"convertValue",value:function(c){return(this||C).scale.convertValue(c)}},{key:"screenToValue",value:function(c){return(this||C).scale.screenToValue(c)}},{key:"_redrawLabel",value:function(c,g,w,x,S){var D=jC("div",(this||C).DOMelements.labels,(this||C).dom.frame);D.className=x,D.innerHTML=Kb.xss(g),"left"===w?(D.style.left="-".concat((this||C).options.labelOffsetX,"px"),D.style.textAlign="right"):(D.style.right="-".concat((this||C).options.labelOffsetX,"px"),D.style.textAlign="left"),D.style.top="".concat(c-.5*S+(this||C).options.labelOffsetY,"px"),g+="";var T=Math.max((this||C).props.majorCharWidth,(this||C).props.minorCharWidth);(this||C).maxLabelSize<g.length*T&&((this||C).maxLabelSize=g.length*T)}},{key:"_redrawLine",value:function(c,g,w,x,S){if(!0===(this||C).master){var D=jC("div",(this||C).DOMelements.lines,(this||C).dom.lineContainer);D.className=w,D.innerHTML="","left"===g?D.style.left="".concat((this||C).width-x,"px"):D.style.right="".concat((this||C).width-x,"px"),D.style.width="".concat(S,"px"),D.style.top="".concat(c,"px")}}},{key:"_redrawTitle",value:function(c){if(FC((this||C).DOMelements.title),void 0!==(this||C).options[c].title&&void 0!==(this||C).options[c].title.text){var g=jC("div",(this||C).DOMelements.title,(this||C).dom.frame);g.className="vis-y-axis vis-title vis-".concat(c),g.innerHTML=Kb.xss((this||C).options[c].title.text),void 0!==(this||C).options[c].title.style&&Kb.addCssText(g,(this||C).options[c].title.style),"left"===c?g.style.left="".concat((this||C).props.titleCharHeight,"px"):g.style.right="".concat((this||C).props.titleCharHeight,"px"),g.style.width="".concat((this||C).height,"px")}RC((this||C).DOMelements.title)}},{key:"_calculateCharSize",value:function(){if(!("minorCharHeight"in(this||C).props)){var c=document.createTextNode("0"),g=document.createElement("div");g.className="vis-y-axis vis-minor vis-measure",g.appendChild(c),(this||C).dom.frame.appendChild(g),(this||C).props.minorCharHeight=g.clientHeight,(this||C).props.minorCharWidth=g.clientWidth,(this||C).dom.frame.removeChild(g)}if(!("majorCharHeight"in(this||C).props)){var w=document.createTextNode("0"),x=document.createElement("div");x.className="vis-y-axis vis-major vis-measure",x.appendChild(w),(this||C).dom.frame.appendChild(x),(this||C).props.majorCharHeight=x.clientHeight,(this||C).props.majorCharWidth=x.clientWidth,(this||C).dom.frame.removeChild(x)}if(!("titleCharHeight"in(this||C).props)){var S=document.createTextNode("0"),D=document.createElement("div");D.className="vis-y-axis vis-title vis-measure",D.appendChild(S),(this||C).dom.frame.appendChild(D),(this||C).props.titleCharHeight=D.clientHeight,(this||C).props.titleCharWidth=D.clientWidth,(this||C).dom.frame.removeChild(D)}}}]),i}(uw);function UC(c,g){}function XC(c,g){return{style:(g=void 0===g?{}:g).style||c.options.drawPoints.style,styles:g.styles||c.options.drawPoints.styles,size:g.size||c.options.drawPoints.size,className:g.className||c.className}}function qC(c,g){}function KC(c,g){}function $C(c,g,w,x){(this||C).id=g;(this||C).options=Kb.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],w),(this||C).usingDefaultStyle=void 0===c.className,(this||C).groupsUsingDefaultStyles=x,(this||C).zeroPosition=0,this.update(c),1==(this||C).usingDefaultStyle&&((this||C).groupsUsingDefaultStyles[0]+=1),(this||C).itemsData=[],(this||C).visible=void 0===c.visible||c.visible}function ZC(c,g,w,x){(this||C).body=c,(this||C).defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},(this||C).side=w,(this||C).options=Kb.extend({},(this||C).defaultOptions),(this||C).linegraphOptions=x,(this||C).svgElements={},(this||C).dom={},(this||C).groups={},(this||C).amountOfGroups=0,this._create(),(this||C).framework={svg:(this||C).svg,svgElements:(this||C).svgElements,options:(this||C).options,groups:(this||C).groups},this.setOptions(g)}UC.draw=function(c,g,w,x){x=x||0;for(var C=function(c,g){var w=void 0;c.options&&c.options.drawPoints&&c.options.drawPoints.onRender&&"function"==typeof c.options.drawPoints.onRender&&(w=c.options.drawPoints.onRender);g.group.options&&g.group.options.drawPoints&&g.group.options.drawPoints.onRender&&"function"==typeof g.group.options.drawPoints.onRender&&(w=g.group.options.drawPoints.onRender);return w}(w,g),S=0;S<c.length;S++)if(C){var D=C(c[S],g);!0!==D&&"object"!==Sh(D)||BC(c[S].screen_x+x,c[S].screen_y,XC(g,D),w.svgElements,w.svg,c[S].label)}else BC(c[S].screen_x+x,c[S].screen_y,XC(g),w.svgElements,w.svg,c[S].label)},UC.drawIcon=function(c,g,w,x,C,S){var D=.5*C,T=LC("rect",S.svgElements,S.svg);T.setAttributeNS(null,"x",g),T.setAttributeNS(null,"y",w-D),T.setAttributeNS(null,"width",x),T.setAttributeNS(null,"height",2*D),T.setAttributeNS(null,"class","vis-outline"),BC(g+.5*x,w,XC(c),S.svgElements,S.svg)},qC.drawIcon=function(c,g,w,x,C,S){var D=.5*C,T=LC("rect",S.svgElements,S.svg);T.setAttributeNS(null,"x",g),T.setAttributeNS(null,"y",w-D),T.setAttributeNS(null,"width",x),T.setAttributeNS(null,"height",2*D),T.setAttributeNS(null,"class","vis-outline");var E=Math.round(.3*x),O=c.options.barChart.width/E,A=Math.round(.4*C),P=Math.round(.75*C),M=Math.round((x-2*E)/3);if(zC(g+.5*E+M,w+D-A-1,E,A,c.className+" vis-bar",S.svgElements,S.svg,c.style),zC(g+1.5*E+M+2,w+D-P-1,E,P,c.className+" vis-bar",S.svgElements,S.svg,c.style),1==c.options.drawPoints.enabled){var N={style:c.options.drawPoints.style,styles:c.options.drawPoints.styles,size:c.options.drawPoints.size/O,className:c.className};BC(g+.5*E+M,w+D-A-1,N,S.svgElements,S.svg),BC(g+1.5*E+M+2,w+D-P-1,N,S.svgElements,S.svg)}},qC.draw=function(c,g,w){var x,C,S,D,T,E,O=[],A={},P=0;for(T=0;T<c.length;T++)if("bar"===(D=w.groups[c[T]]).options.style&&!0===D.visible&&(void 0===w.options.groups.visibility[c[T]]||!0===w.options.groups.visibility[c[T]]))for(E=0;E<g[c[T]].length;E++)O.push({screen_x:g[c[T]][E].screen_x,screen_end:g[c[T]][E].screen_end,screen_y:g[c[T]][E].screen_y,x:g[c[T]][E].x,end:g[c[T]][E].end,y:g[c[T]][E].y,groupId:c[T],label:g[c[T]][E].label}),P+=1;if(0!==P)for(Fw(O).call(O,(function(c,g){return c.screen_x===g.screen_x?c.groupId<g.groupId?-1:1:c.screen_x-g.screen_x})),qC._getDataIntersections(A,O),T=0;T<O.length;T++){var M=null!=(D=w.groups[O[T].groupId]).options.barChart.minWidth?D.options.barChart.minWidth:.1*D.options.barChart.width,N=0;if(void 0===A[C=O[T].screen_x])T+1<O.length&&(x=Math.abs(O[T+1].screen_x-C)),S=qC._getSafeDrawData(x,D,M);else{var R=T+(A[C].amount-A[C].resolved);R<O.length&&(x=Math.abs(O[R].screen_x-C)),S=qC._getSafeDrawData(x,D,M),A[C].resolved+=1,!0===D.options.stack&&!0!==D.options.excludeFromStacking?O[T].screen_y<D.zeroPosition?(N=A[C].accumulatedNegative,A[C].accumulatedNegative+=D.zeroPosition-O[T].screen_y):(N=A[C].accumulatedPositive,A[C].accumulatedPositive+=D.zeroPosition-O[T].screen_y):!0===D.options.barChart.sideBySide&&(S.width=S.width/A[C].amount,S.offset+=A[C].resolved*S.width-.5*S.width*(A[C].amount+1))}var L=S.width,j=O[T].screen_x;if(null!=O[T].screen_end?j+=.5*(L=O[T].screen_end-O[T].screen_x):j+=S.offset,zC(j,O[T].screen_y-N,L,D.zeroPosition-O[T].screen_y,D.className+" vis-bar",w.svgElements,w.svg,D.style),!0===D.options.drawPoints.enabled){var B={screen_x:O[T].screen_x,screen_y:O[T].screen_y-N,x:O[T].x,y:O[T].y,groupId:O[T].groupId,label:O[T].label};UC.draw([B],D,w,S.offset)}}},qC._getDataIntersections=function(c,g){for(var w,x=0;x<g.length;x++)x+1<g.length&&(w=Math.abs(g[x+1].screen_x-g[x].screen_x)),x>0&&(w=Math.min(w,Math.abs(g[x-1].screen_x-g[x].screen_x))),0===w&&(void 0===c[g[x].screen_x]&&(c[g[x].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),c[g[x].screen_x].amount+=1)},qC._getSafeDrawData=function(c,g,w){var x,C;return c<g.options.barChart.width&&c>0?(x=c<w?w:c,C=0,"left"===g.options.barChart.align?C-=.5*c:"right"===g.options.barChart.align&&(C+=.5*c)):(x=g.options.barChart.width,C=0,"left"===g.options.barChart.align?C-=.5*g.options.barChart.width:"right"===g.options.barChart.align&&(C+=.5*g.options.barChart.width)),{width:x,offset:C}},qC.getStackedYRange=function(c,g,w,x,C){if(c.length>0){Fw(c).call(c,(function(c,g){return c.screen_x===g.screen_x?c.groupId<g.groupId?-1:1:c.screen_x-g.screen_x}));var S={};qC._getDataIntersections(S,c),g[x]=qC._getStackedYRange(S,c),g[x].yAxisOrientation=C,w.push(x)}},qC._getStackedYRange=function(c,g){for(var w,x=g[0].screen_y,C=g[0].screen_y,S=0;S<g.length;S++)void 0===c[w=g[S].screen_x]?(x=x>g[S].screen_y?g[S].screen_y:x,C=C<g[S].screen_y?g[S].screen_y:C):g[S].screen_y<0?c[w].accumulatedNegative+=g[S].screen_y:c[w].accumulatedPositive+=g[S].screen_y;for(var D in c)c.hasOwnProperty(D)&&(x=(x=x>c[D].accumulatedNegative?c[D].accumulatedNegative:x)>c[D].accumulatedPositive?c[D].accumulatedPositive:x,C=(C=C<c[D].accumulatedNegative?c[D].accumulatedNegative:C)<c[D].accumulatedPositive?c[D].accumulatedPositive:C);return{min:x,max:C}},KC.calcPath=function(c,g){if(null!=c&&c.length>0)return 1==g.options.interpolation.enabled?KC._catmullRom(c,g):KC._linear(c)},KC.drawIcon=function(c,g,w,x,C,S){var D,T,E=.5*C,O=LC("rect",S.svgElements,S.svg);(O.setAttributeNS(null,"x",g),O.setAttributeNS(null,"y",w-E),O.setAttributeNS(null,"width",x),O.setAttributeNS(null,"height",2*E),O.setAttributeNS(null,"class","vis-outline"),(D=LC("path",S.svgElements,S.svg)).setAttributeNS(null,"class",c.className),void 0!==c.style&&D.setAttributeNS(null,"style",c.style),D.setAttributeNS(null,"d","M"+g+","+w+" L"+(g+x)+","+w),1==c.options.shaded.enabled&&(T=LC("path",S.svgElements,S.svg),"top"==c.options.shaded.orientation?T.setAttributeNS(null,"d","M"+g+", "+(w-E)+"L"+g+","+w+" L"+(g+x)+","+w+" L"+(g+x)+","+(w-E)):T.setAttributeNS(null,"d","M"+g+","+w+" L"+g+","+(w+E)+" L"+(g+x)+","+(w+E)+"L"+(g+x)+","+w),T.setAttributeNS(null,"class",c.className+" vis-icon-fill"),void 0!==c.options.shaded.style&&""!==c.options.shaded.style&&T.setAttributeNS(null,"style",c.options.shaded.style)),1==c.options.drawPoints.enabled)&&BC(g+.5*x,w,{style:c.options.drawPoints.style,styles:c.options.drawPoints.styles,size:c.options.drawPoints.size,className:c.className},S.svgElements,S.svg)},KC.drawShading=function(c,g,w,x){if(1==g.options.shaded.enabled){var C,S=Number(x.svg.style.height.replace("px","")),D=LC("path",x.svgElements,x.svg),T="L";1==g.options.interpolation.enabled&&(T="C");var E=0;E="top"==g.options.shaded.orientation?0:"bottom"==g.options.shaded.orientation?S:Math.min(Math.max(0,g.zeroPosition),S),C="group"==g.options.shaded.orientation&&null!=w&&null!=w?"M"+c[0][0]+","+c[0][1]+" "+this.serializePath(c,T,!1)+" L"+w[w.length-1][0]+","+w[w.length-1][1]+" "+this.serializePath(w,T,!0)+w[0][0]+","+w[0][1]+" Z":"M"+c[0][0]+","+c[0][1]+" "+this.serializePath(c,T,!1)+" V"+E+" H"+c[0][0]+" Z",D.setAttributeNS(null,"class",g.className+" vis-fill"),void 0!==g.options.shaded.style&&D.setAttributeNS(null,"style",g.options.shaded.style),D.setAttributeNS(null,"d",C)}},KC.draw=function(c,g,w){if(null!=c&&null!=c){var x=LC("path",w.svgElements,w.svg);x.setAttributeNS(null,"class",g.className),void 0!==g.style&&x.setAttributeNS(null,"style",g.style);var C="L";1==g.options.interpolation.enabled&&(C="C"),x.setAttributeNS(null,"d","M"+c[0][0]+","+c[0][1]+" "+this.serializePath(c,C,!1))}},KC.serializePath=function(c,g,w){if(c.length<2)return"";var x,C=g;if(w)for(x=c.length-2;x>0;x--)C+=c[x][0]+","+c[x][1]+" ";else for(x=1;x<c.length;x++)C+=c[x][0]+","+c[x][1]+" ";return C},KC._catmullRomUniform=function(c){var g,w,x,C,S,D,T=[];T.push([Math.round(c[0].screen_x),Math.round(c[0].screen_y)]);for(var E=1/6,O=c.length,A=0;A<O-1;A++)g=0==A?c[0]:c[A-1],w=c[A],x=c[A+1],C=A+2<O?c[A+2]:x,S={screen_x:(-g.screen_x+6*w.screen_x+x.screen_x)*E,screen_y:(-g.screen_y+6*w.screen_y+x.screen_y)*E},D={screen_x:(w.screen_x+6*x.screen_x-C.screen_x)*E,screen_y:(w.screen_y+6*x.screen_y-C.screen_y)*E},T.push([S.screen_x,S.screen_y]),T.push([D.screen_x,D.screen_y]),T.push([x.screen_x,x.screen_y]);return T},KC._catmullRom=function(c,g){var w=g.options.interpolation.alpha;if(0==w||void 0===w)return this._catmullRomUniform(c);var x,C,S,D,T,E,O,A,P,M,N,R,L,j,B,z,H,G,V,Y=[];Y.push([Math.round(c[0].screen_x),Math.round(c[0].screen_y)]);for(var X=c.length,K=0;K<X-1;K++)x=0==K?c[0]:c[K-1],C=c[K],S=c[K+1],D=K+2<X?c[K+2]:S,O=Math.sqrt(Math.pow(x.screen_x-C.screen_x,2)+Math.pow(x.screen_y-C.screen_y,2)),A=Math.sqrt(Math.pow(C.screen_x-S.screen_x,2)+Math.pow(C.screen_y-S.screen_y,2)),P=Math.sqrt(Math.pow(S.screen_x-D.screen_x,2)+Math.pow(S.screen_y-D.screen_y,2)),j=Math.pow(P,w),z=Math.pow(P,2*w),B=Math.pow(A,w),H=Math.pow(A,2*w),V=Math.pow(O,w),M=2*(G=Math.pow(O,2*w))+3*V*B+H,N=2*z+3*j*B+H,(R=3*V*(V+B))>0&&(R=1/R),(L=3*j*(j+B))>0&&(L=1/L),T={screen_x:(-H*x.screen_x+M*C.screen_x+G*S.screen_x)*R,screen_y:(-H*x.screen_y+M*C.screen_y+G*S.screen_y)*R},E={screen_x:(z*C.screen_x+N*S.screen_x-H*D.screen_x)*L,screen_y:(z*C.screen_y+N*S.screen_y-H*D.screen_y)*L},0==T.screen_x&&0==T.screen_y&&(T=C),0==E.screen_x&&0==E.screen_y&&(E=S),Y.push([T.screen_x,T.screen_y]),Y.push([E.screen_x,E.screen_y]),Y.push([S.screen_x,S.screen_y]);return Y},KC._linear=function(c){for(var g=[],w=0;w<c.length;w++)g.push([c[w].screen_x,c[w].screen_y]);return g},$C.prototype.setItems=function(c){null!=c?((this||C).itemsData=c,1==Fw((this||C).options)&&Kb.insertSort((this||C).itemsData,(function(c,g){return c.x>g.x?1:-1}))):(this||C).itemsData=[]},$C.prototype.getItems=function(){return(this||C).itemsData},$C.prototype.setZeroPosition=function(c){(this||C).zeroPosition=c},$C.prototype.setOptions=function(c){void 0!==c&&(Kb.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],(this||C).options,c),"function"==typeof c.drawPoints&&(c.drawPoints={onRender:c.drawPoints}),Kb.mergeOptions((this||C).options,c,"interpolation"),Kb.mergeOptions((this||C).options,c,"drawPoints"),Kb.mergeOptions((this||C).options,c,"shaded"),c.interpolation&&"object"==Sh(c.interpolation)&&c.interpolation.parametrization&&("uniform"==c.interpolation.parametrization?(this||C).options.interpolation.alpha=0:"chordal"==c.interpolation.parametrization?(this||C).options.interpolation.alpha=1:((this||C).options.interpolation.parametrization="centripetal",(this||C).options.interpolation.alpha=.5)))},$C.prototype.update=function(c){(this||C).group=c,(this||C).content=c.content||"graph",(this||C).className=c.className||(this||C).className||"vis-graph-group"+(this||C).groupsUsingDefaultStyles[0]%10,(this||C).visible=void 0===c.visible||c.visible,(this||C).style=c.style,this.setOptions(c.options)},$C.prototype.getLegend=function(c,g,w,x,S){null!=w&&null!=w||(w={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:(this||C).options,groups:[this||C]});switch(null!=x&&null!=x||(x=0),null!=S&&null!=S||(S=.5*g),(this||C).options.style){case"line":KC.drawIcon(this||C,x,S,c,g,w);break;case"points":case"point":UC.drawIcon(this||C,x,S,c,g,w);break;case"bar":qC.drawIcon(this||C,x,S,c,g,w)}return{icon:w.svg,label:(this||C).content,orientation:(this||C).options.yAxisOrientation}},$C.prototype.getYRange=function(c){for(var g=c[0].y,w=c[0].y,x=0;x<c.length;x++)g=g>c[x].y?c[x].y:g,w=w<c[x].y?c[x].y:w;return{min:g,max:w,yAxisOrientation:(this||C).options.yAxisOrientation}},ZC.prototype=new uw,ZC.prototype.clear=function(){(this||C).groups={},(this||C).amountOfGroups=0},ZC.prototype.addGroup=function(c,g){1!=g.options.excludeFromLegend&&((this||C).groups.hasOwnProperty(c)||((this||C).groups[c]=g),(this||C).amountOfGroups+=1)},ZC.prototype.updateGroup=function(c,g){(this||C).groups[c]=g},ZC.prototype.removeGroup=function(c){(this||C).groups.hasOwnProperty(c)&&(delete(this||C).groups[c],(this||C).amountOfGroups-=1)},ZC.prototype._create=function(){(this||C).dom.frame=document.createElement("div"),(this||C).dom.frame.className="vis-legend",(this||C).dom.frame.style.position="absolute",(this||C).dom.frame.style.top="10px",(this||C).dom.frame.style.display="block",(this||C).dom.textArea=document.createElement("div"),(this||C).dom.textArea.className="vis-legend-text",(this||C).dom.textArea.style.position="relative",(this||C).dom.textArea.style.top="0px",(this||C).svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),(this||C).svg.style.position="absolute",(this||C).svg.style.top="0px",(this||C).svg.style.width=(this||C).options.iconSize+5+"px",(this||C).svg.style.height="100%",(this||C).dom.frame.appendChild((this||C).svg),(this||C).dom.frame.appendChild((this||C).dom.textArea)},ZC.prototype.hide=function(){(this||C).dom.frame.parentNode&&(this||C).dom.frame.parentNode.removeChild((this||C).dom.frame)},ZC.prototype.show=function(){(this||C).dom.frame.parentNode||(this||C).body.dom.center.appendChild((this||C).dom.frame)},ZC.prototype.setOptions=function(c){Kb.selectiveDeepExtend(["enabled","orientation","icons","left","right"],(this||C).options,c)},ZC.prototype.redraw=function(){var c=0,g=Mc((this||C).groups);Fw(g).call(g,(function(c,g){return c<g?-1:1}));for(var w=0;w<g.length;w++){var x=g[w];1!=(this||C).groups[x].visible||void 0!==(this||C).linegraphOptions.visibility[x]&&1!=(this||C).linegraphOptions.visibility[x]||c++}if(0==(this||C).options[(this||C).side].visible||0==(this||C).amountOfGroups||0==(this||C).options.enabled||0==c)this.hide();else{if(this.show(),"top-left"==(this||C).options[(this||C).side].position||"bottom-left"==(this||C).options[(this||C).side].position?((this||C).dom.frame.style.left="4px",(this||C).dom.frame.style.textAlign="left",(this||C).dom.textArea.style.textAlign="left",(this||C).dom.textArea.style.left=(this||C).options.iconSize+15+"px",(this||C).dom.textArea.style.right="",(this||C).svg.style.left="0px",(this||C).svg.style.right=""):((this||C).dom.frame.style.right="4px",(this||C).dom.frame.style.textAlign="right",(this||C).dom.textArea.style.textAlign="right",(this||C).dom.textArea.style.right=(this||C).options.iconSize+15+"px",(this||C).dom.textArea.style.left="",(this||C).svg.style.right="0px",(this||C).svg.style.left=""),"top-left"==(this||C).options[(this||C).side].position||"top-right"==(this||C).options[(this||C).side].position)(this||C).dom.frame.style.top=4-Number((this||C).body.dom.center.style.top.replace("px",""))+"px",(this||C).dom.frame.style.bottom="";else{var S=(this||C).body.domProps.center.height-(this||C).body.domProps.centerContainer.height;(this||C).dom.frame.style.bottom=4+S+Number((this||C).body.dom.center.style.top.replace("px",""))+"px",(this||C).dom.frame.style.top=""}0==(this||C).options.icons?((this||C).dom.frame.style.width=(this||C).dom.textArea.offsetWidth+10+"px",(this||C).dom.textArea.style.right="",(this||C).dom.textArea.style.left="",(this||C).svg.style.width="0px"):((this||C).dom.frame.style.width=(this||C).options.iconSize+15+(this||C).dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var D="";for(w=0;w<g.length;w++)x=g[w],1!=(this||C).groups[x].visible||void 0!==(this||C).linegraphOptions.visibility[x]&&1!=(this||C).linegraphOptions.visibility[x]||(D+=(this||C).groups[x].content+"<br />");(this||C).dom.textArea.innerHTML=Kb.xss(D),(this||C).dom.textArea.style.lineHeight=.75*(this||C).options.iconSize+(this||C).options.iconSpacing+"px"}},ZC.prototype.drawLegendIcons=function(){if((this||C).dom.frame.parentNode){var c=Mc((this||C).groups);Fw(c).call(c,(function(c,g){return c<g?-1:1})),FC(A=(this||C).svgElements),RC(A),FC(A);var g=window.getComputedStyle((this||C).dom.frame).paddingTop,w=Number(g.replace("px","")),x=w,S=(this||C).options.iconSize,D=.75*(this||C).options.iconSize,T=w+.5*D+3;(this||C).svg.style.width=S+5+w+"px";for(var E=0;E<c.length;E++){var O=c[E];1!=(this||C).groups[O].visible||void 0!==(this||C).linegraphOptions.visibility[O]&&1!=(this||C).linegraphOptions.visibility[O]||((this||C).groups[O].getLegend(S,D,(this||C).framework,x,T),T+=D+(this||C).options.iconSpacing)}}var A};var fS="__ungrouped__";function JC(c,g){(this||C).id=_b(),(this||C).body=c,(this||C).defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},(this||C).options=Kb.extend({},(this||C).defaultOptions),(this||C).dom={},(this||C).props={},(this||C).hammer=null,(this||C).groups={},(this||C).abortedGraphUpdate=!1,(this||C).updateSVGheight=!1,(this||C).updateSVGheightOnResize=!1,(this||C).forceGraphUpdate=!0;var w=this||C;(this||C).itemsData=null,(this||C).groupsData=null,(this||C).itemListeners={add:function(c,g,x){w._onAdd(g.items)},update:function(c,g,x){w._onUpdate(g.items)},remove:function(c,g,x){w._onRemove(g.items)}},(this||C).groupListeners={add:function(c,g,x){w._onAddGroups(g.items)},update:function(c,g,x){w._onUpdateGroups(g.items)},remove:function(c,g,x){w._onRemoveGroups(g.items)}},(this||C).items={},(this||C).selection=[],(this||C).lastStart=(this||C).body.range.start,(this||C).touchParams={},(this||C).svgElements={},this.setOptions(g),(this||C).groupsUsingDefaultStyles=[0],(this||C).body.emitter.on("rangechanged",(function(){w.svg.style.left=Kb.option.asSize(-w.props.width),w.forceGraphUpdate=!0,w.redraw.call(w)})),this._create(),(this||C).framework={svg:(this||C).svg,svgElements:(this||C).svgElements,options:(this||C).options,groups:(this||C).groups}}JC.prototype=new uw,JC.prototype._create=function(){var c=document.createElement("div");c.className="vis-line-graph",(this||C).dom.frame=c,(this||C).svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),(this||C).svg.style.position="relative",(this||C).svg.style.height=(""+(this||C).options.graphHeight).replace("px","")+"px",(this||C).svg.style.display="block",c.appendChild((this||C).svg),(this||C).options.dataAxis.orientation="left",(this||C).yAxisLeft=new mS((this||C).body,(this||C).options.dataAxis,(this||C).svg,(this||C).options.groups),(this||C).options.dataAxis.orientation="right",(this||C).yAxisRight=new mS((this||C).body,(this||C).options.dataAxis,(this||C).svg,(this||C).options.groups),delete(this||C).options.dataAxis.orientation,(this||C).legendLeft=new ZC((this||C).body,(this||C).options.legend,"left",(this||C).options.groups),(this||C).legendRight=new ZC((this||C).body,(this||C).options.legend,"right",(this||C).options.groups),this.show()},JC.prototype.setOptions=function(c){c&&(void 0===c.graphHeight&&void 0!==c.height?((this||C).updateSVGheight=!0,(this||C).updateSVGheightOnResize=!0):void 0!==(this||C).body.domProps.centerContainer.height&&void 0!==c.graphHeight&&Xm((c.graphHeight+"").replace("px",""))<(this||C).body.domProps.centerContainer.height&&((this||C).updateSVGheight=!0),Kb.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],(this||C).options,c),Kb.mergeOptions((this||C).options,c,"interpolation"),Kb.mergeOptions((this||C).options,c,"drawPoints"),Kb.mergeOptions((this||C).options,c,"shaded"),Kb.mergeOptions((this||C).options,c,"legend"),c.interpolation&&"object"==Sh(c.interpolation)&&c.interpolation.parametrization&&("uniform"==c.interpolation.parametrization?(this||C).options.interpolation.alpha=0:"chordal"==c.interpolation.parametrization?(this||C).options.interpolation.alpha=1:((this||C).options.interpolation.parametrization="centripetal",(this||C).options.interpolation.alpha=.5)),(this||C).yAxisLeft&&void 0!==c.dataAxis&&((this||C).yAxisLeft.setOptions((this||C).options.dataAxis),(this||C).yAxisRight.setOptions((this||C).options.dataAxis)),(this||C).legendLeft&&void 0!==c.legend&&((this||C).legendLeft.setOptions((this||C).options.legend),(this||C).legendRight.setOptions((this||C).options.legend)),(this||C).groups.hasOwnProperty(fS)&&(this||C).groups[fS].setOptions(c));(this||C).dom.frame&&((this||C).forceGraphUpdate=!0,(this||C).body.emitter.emit("_change",{queue:!0}))},JC.prototype.hide=function(){(this||C).dom.frame.parentNode&&(this||C).dom.frame.parentNode.removeChild((this||C).dom.frame)},JC.prototype.show=function(){(this||C).dom.frame.parentNode||(this||C).body.dom.center.appendChild((this||C).dom.frame)},JC.prototype.setItems=function(c){var g,w=this||C,x=(this||C).itemsData;if(c){if(!Db(c))throw new TypeError("Data must implement the interface of DataSet or DataView");(this||C).itemsData=Ob(c)}else(this||C).itemsData=null;if(x&&(hu(Kb).call(Kb,(this||C).itemListeners,(function(c,g){x.off(g,c)})),x.dispose(),g=x.getIds(),this._onRemove(g)),(this||C).itemsData){var S=(this||C).id;hu(Kb).call(Kb,(this||C).itemListeners,(function(c,g){w.itemsData.on(g,c,S)})),g=(this||C).itemsData.getIds(),this._onAdd(g)}},JC.prototype.setGroups=function(c){var g,w=this||C;if((this||C).groupsData){hu(Kb).call(Kb,(this||C).groupListeners,(function(c,g){w.groupsData.off(g,c)})),g=(this||C).groupsData.getIds(),(this||C).groupsData=null;for(var x=0;x<g.length;x++)this._removeGroup(g[x])}if(c){if(!Db(c))throw new TypeError("Data must implement the interface of DataSet or DataView");(this||C).groupsData=c}else(this||C).groupsData=null;if((this||C).groupsData){var S=(this||C).id;hu(Kb).call(Kb,(this||C).groupListeners,(function(c,g){w.groupsData.on(g,c,S)})),g=(this||C).groupsData.getIds(),this._onAddGroups(g)}},JC.prototype._onUpdate=function(c){this._updateAllGroupData(c)},JC.prototype._onAdd=function(c){this._onUpdate(c)},JC.prototype._onRemove=function(c){this._onUpdate(c)},JC.prototype._onUpdateGroups=function(c){this._updateAllGroupData(null,c)},JC.prototype._onAddGroups=function(c){this._onUpdateGroups(c)},JC.prototype._onRemoveGroups=function(c){for(var g=0;g<c.length;g++)this._removeGroup(c[g]);(this||C).forceGraphUpdate=!0,(this||C).body.emitter.emit("_change",{queue:!0})},JC.prototype._removeGroup=function(c){(this||C).groups.hasOwnProperty(c)&&("right"==(this||C).groups[c].options.yAxisOrientation?((this||C).yAxisRight.removeGroup(c),(this||C).legendRight.removeGroup(c),(this||C).legendRight.redraw()):((this||C).yAxisLeft.removeGroup(c),(this||C).legendLeft.removeGroup(c),(this||C).legendLeft.redraw()),delete(this||C).groups[c])},JC.prototype._updateGroup=function(c,g){(this||C).groups.hasOwnProperty(g)?((this||C).groups[g].update(c),"right"==(this||C).groups[g].options.yAxisOrientation?((this||C).yAxisRight.updateGroup(g,(this||C).groups[g]),(this||C).legendRight.updateGroup(g,(this||C).groups[g]),(this||C).yAxisLeft.removeGroup(g),(this||C).legendLeft.removeGroup(g)):((this||C).yAxisLeft.updateGroup(g,(this||C).groups[g]),(this||C).legendLeft.updateGroup(g,(this||C).groups[g]),(this||C).yAxisRight.removeGroup(g),(this||C).legendRight.removeGroup(g))):((this||C).groups[g]=new $C(c,g,(this||C).options,(this||C).groupsUsingDefaultStyles),"right"==(this||C).groups[g].options.yAxisOrientation?((this||C).yAxisRight.addGroup(g,(this||C).groups[g]),(this||C).legendRight.addGroup(g,(this||C).groups[g])):((this||C).yAxisLeft.addGroup(g,(this||C).groups[g]),(this||C).legendLeft.addGroup(g,(this||C).groups[g]))),(this||C).legendLeft.redraw(),(this||C).legendRight.redraw()},JC.prototype._updateAllGroupData=function(c,g){if(null!=(this||C).itemsData){var w={},x=(this||C).itemsData.get(),S=(this||C).itemsData.idProp,D={};c&&Ku(c).call(c,(function(c){D[c]=c}));for(var T={},E=0;E<x.length;E++){var O=x[E],A=O.group;null==A&&(A=fS),T.hasOwnProperty(A)?T[A]++:T[A]=1}var P={};if(!g&&c)for(A in(this||C).groups)if((this||C).groups.hasOwnProperty(A)){var M=(j=(this||C).groups[A]).getItems();w[A]=gu(M).call(M,(function(c){return P[c[S]]=c[S],c[S]!==D[c[S]]}));var N=T[A];T[A]-=w[A].length,w[A].length<N&&(w[A][N-1]={})}for(E=0;E<x.length;E++)if(null==(A=(O=x[E]).group)&&(A=fS),g||!c||O[S]===D[O[S]]||!P.hasOwnProperty(O[S])){w.hasOwnProperty(A)||(w[A]=new Array(T[A]));var R=Kb.bridgeObject(O);R.x=Kb.convert(O.x,"Date"),R.end=Kb.convert(O.end,"Date"),R.orginalY=O.y,R.y=Number(O.y),R[S]=O[S];var L=w[A].length-T[A]--;w[A][L]=R}for(A in(this||C).groups)(this||C).groups.hasOwnProperty(A)&&(w.hasOwnProperty(A)||(w[A]=new Array(0)));for(A in w)if(w.hasOwnProperty(A))if(0==w[A].length)(this||C).groups.hasOwnProperty(A)&&this._removeGroup(A);else{var j=void 0;null!=(this||C).groupsData&&(j=(this||C).groupsData.get(A)),null==j&&(j={id:A,content:(this||C).options.defaultGroup+A}),this._updateGroup(j,A),(this||C).groups[A].setItems(w[A])}(this||C).forceGraphUpdate=!0,(this||C).body.emitter.emit("_change",{queue:!0})}},JC.prototype.redraw=function(){var c=!1;(this||C).props.width=(this||C).dom.frame.offsetWidth,(this||C).props.height=(this||C).body.domProps.centerContainer.height-(this||C).body.domProps.border.top-(this||C).body.domProps.border.bottom,c=this._isResized()||c;var g,w=(this||C).body.range.end-(this||C).body.range.start,x=w!=(this||C).lastVisibleInterval;((this||C).lastVisibleInterval=w,1==c)&&((this||C).svg.style.width=Kb.option.asSize(3*(this||C).props.width),(this||C).svg.style.left=Kb.option.asSize(-(this||C).props.width),-1==zm(g=(this||C).options.height+"").call(g,"%")&&1!=(this||C).updateSVGheightOnResize||((this||C).updateSVGheight=!0));if(1==(this||C).updateSVGheight?((this||C).options.graphHeight!=(this||C).props.height+"px"&&((this||C).options.graphHeight=(this||C).props.height+"px",(this||C).svg.style.height=(this||C).props.height+"px"),(this||C).updateSVGheight=!1):(this||C).svg.style.height=(""+(this||C).options.graphHeight).replace("px","")+"px",1==c||1==x||1==(this||C).abortedGraphUpdate||1==(this||C).forceGraphUpdate)c=this._updateGraph()||c,(this||C).forceGraphUpdate=!1,(this||C).lastStart=(this||C).body.range.start,(this||C).svg.style.left=-(this||C).props.width+"px";else if(0!=(this||C).lastStart){var S=(this||C).body.range.start-(this||C).lastStart,D=(this||C).body.range.end-(this||C).body.range.start;if(0!=(this||C).props.width){var T=S*((this||C).props.width/D);(this||C).svg.style.left=-(this||C).props.width-T+"px"}}return(this||C).legendLeft.redraw(),(this||C).legendRight.redraw(),c},JC.prototype._getSortedGroupIds=function(){var c=[];for(var g in(this||C).groups)if((this||C).groups.hasOwnProperty(g)){var w=(this||C).groups[g];1!=w.visible||void 0!==(this||C).options.groups.visibility[g]&&1!=(this||C).options.groups.visibility[g]||c.push({id:g,zIndex:w.options.zIndex})}Kb.insertSort(c,(function(c,g){var w=c.zIndex,x=g.zIndex;return void 0===w&&(w=0),void 0===x&&(x=0),w==x?0:w<x?-1:1}));for(var x=new Array(c.length),S=0;S<c.length;S++)x[S]=c[S].id;return x},JC.prototype._updateGraph=function(){if(FC((this||C).svgElements),0!=(this||C).props.width&&null!=(this||C).itemsData){var c,g,w={},x=(this||C).body.util.toGlobalTime(-(this||C).body.domProps.root.width),S=(this||C).body.util.toGlobalTime(2*(this||C).body.domProps.root.width),D=this._getSortedGroupIds();if(D.length>0){var T={};for(this._getRelevantData(D,T,x,S),this._applySampling(D,T),g=0;g<D.length;g++)this._convertXcoordinates(T[D[g]]);if(this._getYRanges(D,T,w),1==this._updateYAxis(D,w))return RC((this||C).svgElements),(this||C).abortedGraphUpdate=!0,!0;(this||C).abortedGraphUpdate=!1;var E=void 0;for(g=0;g<D.length;g++)c=(this||C).groups[D[g]],!0===(this||C).options.stack&&"line"===(this||C).options.style&&(null!=c.options.excludeFromStacking&&c.options.excludeFromStacking||(null!=E&&(this._stack(T[c.id],T[E.id]),1==c.options.shaded.enabled&&"group"!==c.options.shaded.orientation&&("top"==c.options.shaded.orientation&&"group"!==E.options.shaded.orientation?(E.options.shaded.orientation="group",E.options.shaded.groupId=c.id):(c.options.shaded.orientation="group",c.options.shaded.groupId=E.id))),E=c)),this._convertYcoordinates(T[D[g]],c);var O={};for(g=0;g<D.length;g++)if("line"===(c=(this||C).groups[D[g]]).options.style&&1==c.options.shaded.enabled){var A=T[D[g]];if(null==A||0==A.length)continue;if(O.hasOwnProperty(D[g])||(O[D[g]]=KC.calcPath(A,c)),"group"===c.options.shaded.orientation){var P=c.options.shaded.groupId;if(-1===zm(D).call(D,P)){console.log(c.id+": Unknown shading group target given:"+P);continue}O.hasOwnProperty(P)||(O[P]=KC.calcPath(T[P],(this||C).groups[P])),KC.drawShading(O[D[g]],c,O[P],(this||C).framework)}else KC.drawShading(O[D[g]],c,void 0,(this||C).framework)}for(qC.draw(D,T,(this||C).framework),g=0;g<D.length;g++)if(c=(this||C).groups[D[g]],T[D[g]].length>0)switch(c.options.style){case"line":O.hasOwnProperty(D[g])||(O[D[g]]=KC.calcPath(T[D[g]],c)),KC.draw(O[D[g]],c,(this||C).framework);case"point":case"points":"point"!=c.options.style&&"points"!=c.options.style&&1!=c.options.drawPoints.enabled||UC.draw(T[D[g]],c,(this||C).framework)}}}return RC((this||C).svgElements),!1},JC.prototype._stack=function(c,g){var w,x,C,S,D;w=0;for(var T=0;T<c.length;T++){S=void 0,D=void 0;for(var E=w;E<g.length;E++){if(g[E].x===c[T].x){S=g[E],D=g[E],w=E;break}if(g[E].x>c[T].x){D=g[E],S=0==E?D:g[E-1],w=E;break}}void 0===D&&(S=g[g.length-1],D=g[g.length-1]),x=D.x-S.x,C=D.y-S.y,c[T].y=0==x?c[T].orginalY+D.y:c[T].orginalY+C/x*(c[T].x-S.x)+S.y}},JC.prototype._getRelevantData=function(c,g,w,x){var S,D,T,E;if(c.length>0)for(D=0;D<c.length;D++){var O=(S=(this||C).groups[c[D]]).getItems();if(1==Fw(S.options)){var h=function(c,g){return c.getTime()==g.getTime()?0:c<g?-1:1},A=Math.max(0,Kb.binarySearchValue(O,w,"x","before",h)),P=Math.min(O.length,Kb.binarySearchValue(O,x,"x","after",h)+1);P<=0&&(P=O.length);var M=new Array(P-A);for(T=A;T<P;T++)E=S.itemsData[T],M[T-A]=E;g[c[D]]=M}else g[c[D]]=S.itemsData}},JC.prototype._applySampling=function(c,g){if(c.length>0)for(var w=0;w<c.length;w++)if(1==(this||C).groups[c[w]].options.sampling){var x=g[c[w]];if(x.length>0){var S,D=x.length,T=D/((this||C).body.util.toGlobalScreen(x[x.length-1].x)-(this||C).body.util.toGlobalScreen(x[0].x));S=Math.min(Math.ceil(.2*D),Math.max(1,Math.round(T)));for(var E=new Array(D),O=0;O<D;O+=S)E[Math.round(O/S)]=x[O];g[c[w]]=vp(E).call(E,0,Math.round(D/S))}}},JC.prototype._getYRanges=function(c,g,w){var x,S,D,T,E=[],O=[];if(c.length>0){for(D=0;D<c.length;D++)x=g[c[D]],T=(this||C).groups[c[D]].options,x.length>0&&(S=(this||C).groups[c[D]],!0===T.stack&&"bar"===T.style?"left"===T.yAxisOrientation?E=Fd(E).call(E,x):O=Fd(O).call(O,x):w[c[D]]=S.getYRange(x,c[D]));qC.getStackedYRange(E,w,c,"__barStackLeft","left"),qC.getStackedYRange(O,w,c,"__barStackRight","right")}},JC.prototype._updateYAxis=function(c,g){var w,x,S=!1,D=!1,T=!1,E=1e9,O=1e9,A=-1e9,P=-1e9;if(c.length>0){for(var M=0;M<c.length;M++){var N=(this||C).groups[c[M]];N&&"right"!=N.options.yAxisOrientation?(D=!0,E=1e9,A=-1e9):N&&N.options.yAxisOrientation&&(T=!0,O=1e9,P=-1e9)}for(M=0;M<c.length;M++)g.hasOwnProperty(c[M])&&!0!==g[c[M]].ignore&&(w=g[c[M]].min,x=g[c[M]].max,"right"!=g[c[M]].yAxisOrientation?(D=!0,E=E>w?w:E,A=A<x?x:A):(T=!0,O=O>w?w:O,P=P<x?x:P));1==D&&(this||C).yAxisLeft.setRange(E,A),1==T&&(this||C).yAxisRight.setRange(O,P)}S=this._toggleAxisVisiblity(D,(this||C).yAxisLeft)||S,S=this._toggleAxisVisiblity(T,(this||C).yAxisRight)||S,1==T&&1==D?((this||C).yAxisLeft.drawIcons=!0,(this||C).yAxisRight.drawIcons=!0):((this||C).yAxisLeft.drawIcons=!1,(this||C).yAxisRight.drawIcons=!1),(this||C).yAxisRight.master=!D,(this||C).yAxisRight.masterAxis=(this||C).yAxisLeft,0==(this||C).yAxisRight.master?((this||C).yAxisLeft.lineOffset=1==T?(this||C).yAxisRight.width:0,S=(this||C).yAxisLeft.redraw()||S,S=(this||C).yAxisRight.redraw()||S):S=(this||C).yAxisRight.redraw()||S;var R=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(M=0;M<R.length;M++)-1!=zm(c).call(c,R[M])&&vp(c).call(c,zm(c).call(c,R[M]),1);return S},JC.prototype._toggleAxisVisiblity=function(c,g){var w=!1;return 0==c?g.dom.frame.parentNode&&0==g.hidden&&(g.hide(),w=!0):g.dom.frame.parentNode||1!=g.hidden||(g.show(),w=!0),w},JC.prototype._convertXcoordinates=function(c){for(var g=(this||C).body.util.toScreen,w=0;w<c.length;w++)c[w].screen_x=g(c[w].x)+(this||C).props.width,c[w].screen_y=c[w].y,null!=c[w].end?c[w].screen_end=g(c[w].end)+(this||C).props.width:c[w].screen_end=void 0},JC.prototype._convertYcoordinates=function(c,g){var w=(this||C).yAxisLeft,x=Number((this||C).svg.style.height.replace("px",""));"right"==g.options.yAxisOrientation&&(w=(this||C).yAxisRight);for(var S=0;S<c.length;S++)c[S].screen_y=Math.round(w.convertValue(c[S].y));g.setZeroPosition(Math.min(x,w.convertValue(0)))};var vS="string",gS="boolean",yS="number",bS="date",wS="object",kS="moment",_S={configure:{enabled:{boolean:gS},filter:{boolean:gS,function:"function"},container:{dom:"dom"},__type__:{object:wS,boolean:gS,function:"function"}},alignCurrentTime:{string:vS,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:vS},sort:{boolean:gS},sampling:{boolean:gS},stack:{boolean:gS},graphHeight:{string:vS,number:yS},shaded:{enabled:{boolean:gS},orientation:{string:["bottom","top","zero","group"]},groupId:{object:wS},__type__:{boolean:gS,object:wS}},style:{string:["line","bar","points"]},barChart:{width:{number:yS},minWidth:{number:yS},sideBySide:{boolean:gS},align:{string:["left","center","right"]},__type__:{object:wS}},interpolation:{enabled:{boolean:gS},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:yS},__type__:{object:wS,boolean:gS}},drawPoints:{enabled:{boolean:gS},onRender:{function:"function"},size:{number:yS},style:{string:["square","circle"]},__type__:{object:wS,boolean:gS,function:"function"}},dataAxis:{showMinorLabels:{boolean:gS},showMajorLabels:{boolean:gS},showWeekScale:{boolean:gS},icons:{boolean:gS},width:{string:vS,number:yS},visible:{boolean:gS},alignZeros:{boolean:gS},left:{range:{min:{number:yS,undefined:"undefined"},max:{number:yS,undefined:"undefined"},__type__:{object:wS}},format:{function:"function"},title:{text:{string:vS,number:yS,undefined:"undefined"},style:{string:vS,undefined:"undefined"},__type__:{object:wS}},__type__:{object:wS}},right:{range:{min:{number:yS,undefined:"undefined"},max:{number:yS,undefined:"undefined"},__type__:{object:wS}},format:{function:"function"},title:{text:{string:vS,number:yS,undefined:"undefined"},style:{string:vS,undefined:"undefined"},__type__:{object:wS}},__type__:{object:wS}},__type__:{object:wS}},legend:{enabled:{boolean:gS},icons:{boolean:gS},left:{visible:{boolean:gS},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:wS}},right:{visible:{boolean:gS},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:wS}},__type__:{object:wS,boolean:gS}},groups:{visibility:{any:"any"},__type__:{object:wS}},autoResize:{boolean:gS},throttleRedraw:{number:yS},clickToUse:{boolean:gS},end:{number:yS,date:bS,string:vS,moment:kS},format:{minorLabels:{millisecond:{string:vS,undefined:"undefined"},second:{string:vS,undefined:"undefined"},minute:{string:vS,undefined:"undefined"},hour:{string:vS,undefined:"undefined"},weekday:{string:vS,undefined:"undefined"},day:{string:vS,undefined:"undefined"},week:{string:vS,undefined:"undefined"},month:{string:vS,undefined:"undefined"},quarter:{string:vS,undefined:"undefined"},year:{string:vS,undefined:"undefined"},__type__:{object:wS}},majorLabels:{millisecond:{string:vS,undefined:"undefined"},second:{string:vS,undefined:"undefined"},minute:{string:vS,undefined:"undefined"},hour:{string:vS,undefined:"undefined"},weekday:{string:vS,undefined:"undefined"},day:{string:vS,undefined:"undefined"},week:{string:vS,undefined:"undefined"},month:{string:vS,undefined:"undefined"},quarter:{string:vS,undefined:"undefined"},year:{string:vS,undefined:"undefined"},__type__:{object:wS}},__type__:{object:wS}},moment:{function:"function"},height:{string:vS,number:yS},hiddenDates:{start:{date:bS,number:yS,string:vS,moment:kS},end:{date:bS,number:yS,string:vS,moment:kS},repeat:{string:vS},__type__:{object:wS,array:"array"}},locale:{string:vS},locales:{__any__:{any:"any"},__type__:{object:wS}},max:{date:bS,number:yS,string:vS,moment:kS},maxHeight:{number:yS,string:vS},maxMinorChars:{number:yS},min:{date:bS,number:yS,string:vS,moment:kS},minHeight:{number:yS,string:vS},moveable:{boolean:gS},multiselect:{boolean:gS},orientation:{string:vS},showCurrentTime:{boolean:gS},showMajorLabels:{boolean:gS},showMinorLabels:{boolean:gS},showWeekScale:{boolean:gS},snap:{function:"function",null:"null"},start:{date:bS,number:yS,string:vS,moment:kS},timeAxis:{scale:{string:vS,undefined:"undefined"},step:{number:yS,undefined:"undefined"},__type__:{object:wS}},width:{string:vS,number:yS},zoomable:{boolean:gS},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:yS},zoomMin:{number:yS},zIndex:{number:yS},__type__:{object:wS}},xS={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function lD(c,g,w,x){var S,D,T,E,O,A,P;if(!eu(w)&&!Db(w)&&w instanceof Object){var M=x;x=w,w=M}x&&x.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var N=this||C;(this||C).defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:Tu,width:null,height:null,maxHeight:null,minHeight:null},(this||C).options=Kb.deepExtend({},(this||C).defaultOptions),this._create(c),(this||C).components=[],(this||C).body={dom:(this||C).dom,domProps:(this||C).props,emitter:{on:Gh(S=(this||C).on).call(S,this||C),off:Gh(D=(this||C).off).call(D,this||C),emit:Gh(T=(this||C).emit).call(T,this||C)},hiddenDates:[],util:{getScale:function(){return N.timeAxis.step.scale},getStep:function(){return N.timeAxis.step.step},toScreen:Gh(E=N._toScreen).call(E,N),toGlobalScreen:Gh(O=N._toGlobalScreen).call(O,N),toTime:Gh(A=N._toTime).call(A,N),toGlobalTime:Gh(P=N._toGlobalTime).call(P,N)}},(this||C).range=new yk((this||C).body),(this||C).components.push((this||C).range),(this||C).body.range=(this||C).range,(this||C).timeAxis=new Ok((this||C).body),(this||C).components.push((this||C).timeAxis),(this||C).currentTime=new Jk((this||C).body),(this||C).components.push((this||C).currentTime),(this||C).linegraph=new JC((this||C).body),(this||C).components.push((this||C).linegraph),(this||C).itemsData=null,(this||C).groupsData=null,this.on("tap",(function(c){N.emit("click",N.getEventProperties(c))})),this.on("doubletap",(function(c){N.emit("doubleClick",N.getEventProperties(c))})),(this||C).dom.root.oncontextmenu=function(c){N.emit("contextmenu",N.getEventProperties(c))},(this||C).initialFitDone=!1,this.on("changed",(function(){if(null!=N.itemsData){if(!N.initialFitDone&&!N.options.rollingMode)if(N.initialFitDone=!0,null!=N.options.start||null!=N.options.end){if(null==N.options.start||null==N.options.end)var c=N.getItemRange();var g=null!=N.options.start?N.options.start:c.min,w=null!=N.options.end?N.options.end:c.max;N.setWindow(g,w,{animation:!1})}else N.fit({animation:!1});N.initialDrawDone||!N.initialRangeChangeDone&&(N.options.start||N.options.end)&&!N.options.rollingMode||(N.initialDrawDone=!0,N.dom.root.style.visibility="visible",N.dom.loadingScreen.parentNode.removeChild(N.dom.loadingScreen),N.options.onInitialDrawComplete&&fu((function(){return N.options.onInitialDrawComplete()}),0))}})),x&&this.setOptions(x),w&&this.setGroups(w),g&&this.setItems(g),this._redraw()}lD.prototype=new $k,lD.prototype.setOptions=function(c){!0===QC.validate(c,_S)&&console.log("%cErrors have been found in the supplied options object.",VC),$k.prototype.setOptions.call(this||C,c)},lD.prototype.setItems=function(c){var g,x=null==(this||C).itemsData;if(g=c?Db(c)?Ob(c):Ob(new w.DataSet(c)):null,(this||C).itemsData&&(this||C).itemsData.dispose(),(this||C).itemsData=g,(this||C).linegraph&&(this||C).linegraph.setItems(null!=g?g.rawDS:null),x)if(null!=(this||C).options.start||null!=(this||C).options.end){var S=null!=(this||C).options.start?(this||C).options.start:null,D=null!=(this||C).options.end?(this||C).options.end:null;this.setWindow(S,D,{animation:!1})}else this.fit({animation:!1})},lD.prototype.setGroups=function(c){var g;g=c?Db(c)?c:new w.DataSet(c):null,(this||C).groupsData=g,(this||C).linegraph.setGroups(g)},lD.prototype.getLegend=function(c,g,w){return void 0===g&&(g=15),void 0===w&&(w=15),void 0!==(this||C).linegraph.groups[c]?(this||C).linegraph.groups[c].getLegend(g,w):"cannot find group:'"+c+"'"},lD.prototype.isGroupVisible=function(c){return void 0!==(this||C).linegraph.groups[c]&&(this||C).linegraph.groups[c].visible&&(void 0===(this||C).linegraph.options.groups.visibility[c]||1==(this||C).linegraph.options.groups.visibility[c])},lD.prototype.getDataRange=function(){var c=null,g=null;for(var w in(this||C).linegraph.groups)if((this||C).linegraph.groups.hasOwnProperty(w)&&1==(this||C).linegraph.groups[w].visible)for(var x=0;x<(this||C).linegraph.groups[w].itemsData.length;x++){var S=(this||C).linegraph.groups[w].itemsData[x],D=Kb.convert(S.x,"Date").valueOf();c=null==c||c>D?D:c,g=null==g||g<D?D:g}return{min:null!=c?new Date(c):null,max:null!=g?new Date(g):null}},lD.prototype.getEventProperties=function(c){var g=c.center?c.center.x:c.clientX,w=c.center?c.center.y:c.clientY,x=g-Kb.getAbsoluteLeft((this||C).dom.centerContainer),S=w-Kb.getAbsoluteTop((this||C).dom.centerContainer),D=this._toTime(x),T=Kk.customTimeFromTarget(c),E=Kb.getTarget(c),O=null;Kb.hasParent(E,(this||C).timeAxis.dom.foreground)||(this||C).timeAxis2&&Kb.hasParent(E,(this||C).timeAxis2.dom.foreground)?O="axis":Kb.hasParent(E,(this||C).linegraph.yAxisLeft.dom.frame)||Kb.hasParent(E,(this||C).linegraph.yAxisRight.dom.frame)?O="data-axis":Kb.hasParent(E,(this||C).linegraph.legendLeft.dom.frame)||Kb.hasParent(E,(this||C).linegraph.legendRight.dom.frame)?O="legend":null!=T?O="custom-time":Kb.hasParent(E,(this||C).currentTime.bar)?O="current-time":Kb.hasParent(E,(this||C).dom.center)&&(O="background");var A=[],P=(this||C).linegraph.yAxisLeft,M=(this||C).linegraph.yAxisRight;return!P.hidden&&(this||C).itemsData.length>0&&A.push(P.screenToValue(S)),!M.hidden&&(this||C).itemsData.length>0&&A.push(M.screenToValue(S)),{event:c,customTime:T?T.options.id:null,what:O,pageX:c.srcEvent?c.srcEvent.pageX:c.pageX,pageY:c.srcEvent?c.srcEvent.pageY:c.pageY,x:x,y:S,time:D,value:A}},lD.prototype._createConfigurator=function(){return new cS(this||C,(this||C).dom.container,xS)};var CS=function(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch(c){return"en"}}();x.default.locale(CS);var SS={Core:$k,DateUtil:gk,Range:yk,stack:sC,TimeStep:Ek,components:{items:{Item:pC,BackgroundItem:gC,BoxItem:mC,ClusterItem:CC,PointItem:fC,RangeItem:vC},BackgroundGroup:dC,Component:uw,CurrentTime:Jk,CustomTime:Kk,DataAxis:mS,DataScale:pS,GraphGroup:$C,Group:cC,ItemSet:OC,Legend:ZC,LineGraph:JC,TimeAxis:Ok}};c.Graph2d=lD,c.Timeline=dS,c.timeline=SS,Object.defineProperty(c,"__esModule",{value:!0})}));export{S as default};

